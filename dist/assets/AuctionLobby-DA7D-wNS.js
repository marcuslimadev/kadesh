import{r as e,c as t,o as a,a as l,j as o,b as s,e as r,F as n,k as i,l as d,t as u,i as c,g as p,n as v,I as m,A as b,J as g,h as x,T as f,u as h,B as y,f as k,K as w,m as C,p as A,C as _}from"./vue-n9kv2shB.js";import{_ as j,a as F,u as D,b as $}from"./index-DGep6SCq.js";import{p as M}from"./projectService-0znsw7nO.js";import{b as S}from"./bidService-B2UBUKV6.js";import"./utils-CeLII1lI.js";const B={class:"flex items-center justify-between text-xs font-medium text-muted"},z={class:"ad-title"},N={class:"ad-description"},P=["href","onClick"],V=j({__name:"AdRail",props:{position:{type:String,default:"left"}},setup(m){const b=m,g=e(!1),x=e([]),f=t(()=>"right"===b.position?"right":"left"),h={left:[{id:"mock-left-1",title:"Impulsione seu Projeto",description:"Destaque seu projeto e encontre os melhores profissionais.",link_url:"/ads"},{id:"mock-left-2",title:"Seja um Prestador Premium",description:"Aumente sua visibilidade e ganhe mais propostas.",link_url:"/ads"}],right:[{id:"mock-right-1",title:"Suporte 24/7",description:"Nossa equipe estÃ¡ sempre disponÃ­vel para ajudar.",link_url:"/ads"},{id:"mock-right-2",title:"Pagamentos 100% Seguros",description:"TransaÃ§Ãµes protegidas e fluxo com escrow.",link_url:"/ads"}]};async function y(e){try{if(String(e).startsWith("mock-"))return;await F.post(`/api/advertisements/${e}/click`)}catch(t){console.error("Erro ao registrar clique:",t)}}return a(()=>{!async function(){try{const e=await F.get("/api/advertisements",{params:{position:f.value}}),t=Array.isArray(e.data)?e.data:[];x.value=t.length?t:h[f.value]||[]}catch(e){console.error("Erro ao carregar anÃºncios:",e),x.value=h[f.value]||[]}}()}),(e,t)=>{const a=p("router-link");return!g.value&&x.value.length>0?(s(),l("aside",{key:0,class:v(["ad-rail","left"===f.value?"ad-rail-left":"ad-rail-right"])},[r("div",B,[t[2]||(t[2]=r("span",{class:"uppercase tracking-wider"},"Patrocinado",-1)),r("button",{class:"text-muted hover:text-heading transition-colors",onClick:t[0]||(t[0]=e=>g.value=!0),title:"Ocultar anÃºncios"},[...t[1]||(t[1]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(s(!0),l(n,null,i(x.value,e=>(s(),l("div",{key:e.id,class:"ad-card card-premium"},[t[6]||(t[6]=r("div",{class:"ad-badge"},[r("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),r("span",null,"AnÃºncio")],-1)),r("h4",z,u(e.title),1),r("p",N,u(e.description),1),e.link_url&&e.link_url.startsWith("/")?(s(),d(a,{key:0,to:e.link_url,class:"ad-cta btn-gold",onClick:t=>y(e.id)},{default:c(()=>[...t[3]||(t[3]=[r("span",null,"Saiba mais",-1),r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])]),_:1},8,["to","onClick"])):e.link_url?(s(),l("a",{key:1,href:e.link_url,target:"_blank",rel:"noopener",class:"ad-cta btn-gold",onClick:t=>y(e.id)},[...t[4]||(t[4]=[r("span",null,"Saiba mais",-1),r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])],8,P)):(s(),d(a,{key:2,to:"/ads",class:"ad-cta btn-gold",onClick:t=>y(e.id)},{default:c(()=>[...t[5]||(t[5]=[r("span",null,"Saiba mais",-1),r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])]),_:1},8,["onClick"]))]))),128))],2)):o("",!0)}}},[["__scopeId","data-v-4ba6c955"]]),L={class:"lobby-shell py-3 px-4 sm:px-6 lg:px-8"},E={class:"max-w-[1600px] mx-auto"},H={class:"lobby-grid"},U={class:"lobby-main space-y-2"},I={class:"bg-surface rounded-lg p-2 border border-muted-border"},R={class:"flex items-center justify-between mb-2"},O={class:"text-xs text-muted"},q={key:0,class:"flex items-center gap-2"},T=["value"],G={key:0,class:"card text-center py-12"},J={key:1,class:"card text-center py-12"},W={key:2,class:"space-y-6"},K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Q={class:"relative h-48 overflow-hidden rounded-t-2xl bg-gradient-to-br from-[#1A1A1A] to-[#0F1117]"},X=["src","alt"],Y={key:1,class:"w-full h-full flex items-center justify-center"},Z={class:"absolute top-3 left-3 right-3 flex items-start justify-between gap-2"},ee={class:"absolute bottom-3 left-3"},te={class:"flex items-center gap-2 px-3 py-1.5 bg-[#D4AF37]/90 backdrop-blur-sm rounded-full text-[#0F1117] font-bold text-sm"},ae={class:"p-5 bg-[#161821] border-x border-b border-[rgba(212,175,55,0.24)] rounded-b-2xl"},le={class:"inline-block px-3 py-1 bg-[#D4AF37]/10 text-[#D4AF37] text-xs font-semibold rounded-full mb-3"},oe={class:"text-xs uppercase tracking-wide text-[#C7C7C7] mb-1"},se={class:"text-[#F5F5F5] font-semibold"},re={class:"text-[#C7C7C7] text-sm line-clamp-2 mb-4"},ne={class:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4 p-3 bg-[#0F1117] rounded-xl"},ie={class:"text-center"},de={class:"text-base font-bold text-[#D4AF37]"},ue={class:"text-center border-x border-[rgba(212,175,55,0.1)]"},ce={class:"text-sm font-semibold text-[#F5F5F5]"},pe={class:"text-center border-x border-[rgba(212,175,55,0.1)] sm:border-x-0 sm:border-l sm:border-[rgba(212,175,55,0.1)]"},ve={class:"text-base font-bold text-[#F5F5F5]"},me={class:"text-center"},be={class:"flex items-center justify-between pt-3 border-t border-[rgba(212,175,55,0.1)]"},ge={class:"flex items-center gap-2"},xe={class:"w-8 h-8 rounded-full bg-[#D4AF37]/20 flex items-center justify-center"},fe={class:"text-[#D4AF37] font-bold text-xs"},he={class:"text-xs font-medium text-[#F5F5F5]"},ye={class:"text-xs text-[#8A8A8A]"},ke={class:"flex items-center gap-2"},we=["onClick"],Ce={key:3,class:"flex justify-center"},Ae={class:"inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},_e=["disabled"],je={class:"pagination-current"},Fe=["disabled"],De={class:"modal-card"},$e={class:"space-y-4"},Me={class:"modal-card"},Se={class:"space-y-4"},Be={class:"p-4 rounded-xl border border-[rgba(212,175,55,0.2)] bg-[#0F1117]"},ze={class:"text-lg font-semibold text-heading"},Ne={class:"mt-6 flex justify-end gap-2"},Pe=["disabled"],Ve=j({__name:"AuctionLobby",setup(d){const j=D(),B=h(),z=$(),{currentMode:N}=m(z),P=t(()=>"contractor"===N.value),Ve=t(()=>"provider"===N.value),Le=t(()=>{const e=j.user;return e&&e.name?e.name.split(" ")[0]:"Usuario"});t(()=>`ðŸŽ¯ Lobby do ${P.value?"Contratante":"Prestador"} - ${Le.value}`),t(()=>P.value?"Gerencie seus leiloes, monitore os lances e acompanhe o vencedor em tempo real.":"Descubra projetos em aberto, acompanhe disputas e envie lances competitivos instantaneamente."),t(()=>{He.value.length;const e=He.value.filter(e=>"open"===e.status).length,t=He.value.filter(e=>e.user_has_bid).length||0,a=He.value.filter(e=>(e.priority||3)<=2).length;return P.value,[{label:"Propostas ativas",value:t,caption:"Gerencie suas propostas com correÃ§Ãµes Ã s propostas ativas",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",iconBg:"bg-amber-500/10",iconColor:"text-amber-500"},{label:"Aguardando lances",value:e,caption:"Lances comuns lanÃ§es, acompanhe o vencedor dos lances",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",iconBg:"bg-blue-500/10",iconColor:"text-blue-500"},{label:"Prioridade alta",value:a,caption:"Contratador seleccionou alta parcticipaÃ§Ã£o na armadura em tempo real",icon:"M13 10V3L4 14h7v7l9-11h-7z",iconBg:"bg-red-500/10",iconColor:"text-red-500"}]});const Ee=e(!1),He=e([]),Ue=e(1),Ie=e(20),Re=M.getCategories(),Oe=e({category:"",budget:"",deadline:"",status:""}),qe=e(!1);e(!0);const Te=e(!1),Ge=e({name:"",description:""}),Je=e([]),We=e(!1),Ke=e(null),Qe=e({amount:null,delivery_time:null,proposal:""}),Xe=e(!1),Ye="kadesh_lobby_filters_contractor",Ze="kadesh_lobby_filters_provider",et=()=>"contractor"===N.value?Ye:Ze,tt=()=>{if("undefined"!=typeof window)try{const e=localStorage.getItem(et());if(!e)return;const t=JSON.parse(e);Oe.value={category:t.category||"",budget:t.budget||"",deadline:t.deadline||"",status:t.status||""}}catch(e){console.warn("Nao foi possivel restaurar filtros do lobby:",e)}},at=t(()=>{let e=He.value;return Oe.value.category&&(e=e.filter(e=>e.category===Oe.value.category)),Oe.value.budget&&(e=e.filter(e=>e.budget<=parseInt(Oe.value.budget))),Oe.value.status&&(e=e.filter(e=>e.status===Oe.value.status)),e}),lt=async()=>{var e;Ee.value=!0;try{(()=>{var e,t,a,l,o;if("undefined"==typeof window)return;const s=localStorage.getItem("kadesh_token");s&&"undefined"!==s&&"null"!==s?((null==(a=null==(t=null==(e=F)?void 0:e.defaults)?void 0:t.headers)?void 0:a.common)&&(F.defaults.headers.common.Authorization=`Bearer ${s}`,F.defaults.headers.common.Authorization=`Bearer ${s}`),(null==(o=null==(l=F)?void 0:l.defaults)?void 0:o.headers)&&(F.defaults.headers.Authorization=`Bearer ${s}`),console.log("[Lobby] Header Authorization garantido antes de loadProjects")):console.warn("[Lobby] Nenhum token encontrado para setar header")})();const t=P.value?"/api/projects/my-projects":"/api/projects",a={per_page:Ie.value,page:Ue.value};Oe.value.status?a.status=Oe.value.status:Ve.value&&(a.status="open"),Oe.value.category&&(a.category=Oe.value.category),Oe.value.budget&&(a.budget_max=Oe.value.budget);const l=await F.get(t,{params:a}),o=Array.isArray(l.data)?l.data:(null==(e=l.data)?void 0:e.projects)||[];He.value=o}catch(t){console.error("Erro ao carregar projetos:",t),He.value=[]}finally{Ee.value=!1}},ot=()=>{Ue.value=1,lt()},st=()=>{Oe.value={category:"",budget:"",deadline:"",status:""},ot()},rt=e=>{const t=Number(e||0);return t>=1e6?`R$ ${(t/1e6).toFixed(1)}M`:t>=1e3?`R$ ${(t/1e3).toFixed(1)}k`:`R$ ${t.toFixed(0)}`},nt=e=>{if(!e)return"N/A";const t=new Date(e),a=new Date-t,l=Math.floor(a/864e5);return 0===l?"Hoje":1===l?"Ontem":l<7?`${l}d atras`:t.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})},it=e=>{if(!e)return"Sem prazo";const t=new Date(e);return Number.isNaN(t.getTime())?"Sem prazo":t.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})},dt=e=>{const t=Re.find(t=>t.value===e||t.label===e);return t?t.label:e||"Geral"},ut=e=>{const t=(e=>e&&Array.isArray(e.attachments)?e.attachments:[])(e),a=t.find(e=>{var t;return null==(t=null==e?void 0:e.mime_type)?void 0:t.startsWith("image/")});return(null==a?void 0:a.file_url)||null},ct=e=>{if(!(null==e?void 0:e.deadline))return!1;const t=new Date(e.deadline);return!Number.isNaN(t.getTime())&&t<=new Date},pt=e=>e?e.bid_count??e.bids_count??0:0,vt=e=>{if(!e)return null;const t=e.lowest_bid_amount??e.lowest_bid??null;return"number"==typeof t?t:t?parseFloat(t):null},mt=e=>{if(!(null==e?void 0:e.deadline))return null;const t=new Date(e.deadline);if(Number.isNaN(t.getTime()))return null;const a=t-new Date;if(a<=0)return{text:"Prazo encerrado",class:"bg-red-100 text-red-700",bgClass:"bg-red-500/90"};const l=Math.floor(a/6e4),o=Math.floor(l/1440),s=Math.floor(l%1440/60),r=l%60;let n="";n=o>0?`${o}d ${s}h`:s>0?`${s}h ${r}m`:`${r}m`;let i="bg-green-100 text-green-700",d="bg-emerald-500/90";return o<=2&&(i="bg-amber-100 text-amber-700",d="bg-amber-500/90"),s<6&&0===o&&(i="bg-orange-100 text-orange-700",d="bg-orange-500/90"),0===s&&0===o&&(i="bg-red-100 text-red-700",d="bg-red-500/90"),{text:n,class:i,bgClass:d}},bt=()=>{Te.value=!1,Ge.value={name:"",description:""}},gt=()=>{Ge.value.name&&(Je.value.push({...Ge.value,created_at:new Date}),bt())},xt=()=>{We.value=!1,Ke.value=null},ft=async()=>{var e,t;if(j.isAuthenticated){if(Qe.value.amount&&Qe.value.delivery_time&&(null==(e=Qe.value.proposal)?void 0:e.trim())&&(null==(t=Ke.value)?void 0:t.id)){Xe.value=!0;try{const e={project_id:Ke.value.id,amount:Qe.value.amount,delivery_time:Qe.value.delivery_time,proposal:Qe.value.proposal};(await S.createBid(e)).success&&(await lt(),xt())}catch(a){console.error("Erro ao enviar lance rapido:",a)}finally{Xe.value=!1}}}else B.push({name:"login",query:{redirect:"/lobby"}})},ht=()=>{lt()};return a(()=>{tt(),lt(),"undefined"!=typeof window&&window.addEventListener("kadesh:projects-updated",ht)}),b(N,()=>{tt(),Ue.value=1,lt()}),b(Oe,()=>{(()=>{if("undefined"!=typeof window)try{localStorage.setItem(et(),JSON.stringify(Oe.value))}catch(e){console.warn("Nao foi possivel salvar filtros do lobby:",e)}})()},{deep:!0}),g(()=>{"undefined"!=typeof window&&window.removeEventListener("kadesh:projects-updated",ht)}),(e,t)=>{const a=p("router-link");return s(),l("div",L,[r("div",E,[r("div",H,[x(V,{position:"left",class:"hidden lg:block"}),r("div",U,[r("section",I,[r("div",R,[r("button",{onClick:t[0]||(t[0]=e=>qe.value=!qe.value),class:"flex items-center gap-2 text-xs font-medium text-body hover:text-heading"},[(s(),l("svg",{class:v(["w-4 h-4",{"rotate-180":qe.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[11]||(t[11]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)),t[12]||(t[12]=r("span",null,"Filtros",-1))]),r("span",O,u(at.value.length)+" projeto(s)",1)]),x(f,{name:"fade"},{default:c(()=>[qe.value?(s(),l("div",q,[y(r("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>Oe.value.category=e),class:"flex-1 px-2 py-1 bg-surface-elevated border border-muted-border rounded text-xs text-body"},[t[13]||(t[13]=r("option",{value:""},"Categoria",-1)),(s(!0),l(n,null,i(k(Re),e=>(s(),l("option",{key:e.value,value:e.value},u(e.label),9,T))),128))],512),[[w,Oe.value.category]]),y(r("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>Oe.value.budget=e),class:"flex-1 px-2 py-1 bg-surface-elevated border border-muted-border rounded text-xs text-body"},[...t[14]||(t[14]=[r("option",{value:""},"OrÃ§amento",-1),r("option",{value:"5000"},"~R$ 5k",-1),r("option",{value:"10000"},"~R$ 10k",-1)])],512),[[w,Oe.value.budget]]),y(r("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>Oe.value.status=e),class:"flex-1 px-2 py-1 bg-surface-elevated border border-muted-border rounded text-xs text-body"},[...t[15]||(t[15]=[r("option",{value:""},"Status",-1),r("option",{value:"open"},"Aberto",-1)])],512),[[w,Oe.value.status]]),r("button",{onClick:st,class:"px-2 py-1 text-xs text-muted hover:text-heading"},"Limpar"),r("button",{onClick:ot,class:"px-3 py-1 bg-[#D4AF37] hover:bg-[#C5A028] text-[#0F1117] rounded text-xs font-semibold"},"Filtrar")])):o("",!0)]),_:1})]),Ee.value?(s(),l("div",G,[...t[16]||(t[16]=[r("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold mx-auto"},null,-1),r("p",{class:"mt-4 text-muted"},"Carregando projetos...",-1)])])):0===at.value.length?(s(),l("div",J,[...t[17]||(t[17]=[r("svg",{class:"w-16 h-16 text-muted mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),r("p",{class:"text-muted"},"Nenhum projeto encontrado com os filtros atuais",-1)])])):(s(),l("div",W,[r("div",K,[(s(!0),l(n,null,i(at.value,e=>{var n,i;return s(),l("div",{key:e.id,class:v(["auction-card-modern group transform transition-all duration-300 hover:scale-105 hover:shadow-2xl",(null==(n=mt(e))?void 0:n.hours)<=24?"ring-2 ring-[#D4AF37] ring-opacity-50 animate-pulse":""])},[r("div",Q,[ut(e)?(s(),l("img",{key:0,src:ut(e),alt:e.title,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,X)):(s(),l("div",Y,[...t[18]||(t[18]=[r("svg",{class:"w-20 h-20 text-[#D4AF37]/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])])),t[21]||(t[21]=r("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"},null,-1)),r("div",Z,[ct(e)?o("",!0):(s(),l("span",{key:0,class:v(["px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide backdrop-blur-sm","open"===e.status?"bg-emerald-500/90 text-white":"in_progress"===e.status?"bg-amber-500/90 text-white":"bg-gray-500/90 text-white"])},u((i=e.status,{open:"Aberto",in_progress:"Em andamento",completed:"Concluido",cancelled:"Cancelado"}[i]||i)),3)),mt(e)?(s(),l("div",{key:1,class:v(["flex items-center gap-2 px-3 py-1.5 rounded-full backdrop-blur-sm text-white font-bold text-sm",mt(e).bgClass])},[t[19]||(t[19]=r("svg",{class:"w-4 h-4 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),C(" "+u(mt(e).text),1)],2)):o("",!0)]),r("div",ee,[r("div",te,[t[20]||(t[20]=r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})],-1)),C(" "+u(pt(e))+" Lance(s) ",1)])])]),r("div",ae,[r("span",le,u(dt(e.category)),1),r("p",oe,[t[22]||(t[22]=C(" Contratante: ",-1)),r("span",se,u(e.client_name||"Contratante"),1)]),x(a,{to:`/projects/${e.id}`,class:"block text-lg font-bold text-[#F5F5F5] hover:text-[#D4AF37] transition-colors line-clamp-2 mb-3 leading-tight"},{default:c(()=>[C(u(e.title),1)]),_:2},1032,["to"]),r("p",re,u(e.description),1),r("div",ne,[r("div",ie,[t[23]||(t[23]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Orcamento",-1)),r("p",de,u(rt(e.budget)),1)]),r("div",ue,[t[24]||(t[24]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Prazo",-1)),r("p",ce,u(it(e.deadline)),1)]),r("div",pe,[t[25]||(t[25]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Propostas",-1)),r("p",ve,u(pt(e)),1)]),r("div",me,[t[26]||(t[26]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Menor",-1)),r("p",{class:v(["text-base font-bold",vt(e)?"text-emerald-400":"text-[#8A8A8A]"])},u(vt(e)?rt(vt(e)):"Ã”Ã‡Ã¶"),3)])]),r("div",be,[r("div",ge,[r("div",xe,[r("span",fe,u((e.client_name||"C")[0].toUpperCase()),1)]),r("div",null,[r("p",he,u(e.client_name||"Contratante"),1),r("p",ye,u(nt(e.created_at)),1)])]),r("div",ke,[Ve.value?(s(),l("button",{key:0,type:"button",class:"cta-bid",onClick:t=>(e=>{Ve.value&&(Ke.value=e,Qe.value={amount:null,delivery_time:null,proposal:""},We.value=!0)})(e)}," Dar lance ",8,we)):o("",!0),x(a,{to:`/projects/${e.id}`,class:"cta-view"},{default:c(()=>[C(u(Ve.value?"Detalhes":"Ver"),1)]),_:1},8,["to"])])])])],2)}),128))])])),at.value.length>0?(s(),l("div",Ce,[r("nav",Ae,[r("button",{onClick:t[4]||(t[4]=e=>Ue.value--),disabled:1===Ue.value,class:"pagination-button rounded-l-md"}," Anterior ",8,_e),r("span",je," Pagina "+u(Ue.value),1),r("button",{onClick:t[5]||(t[5]=e=>Ue.value++),disabled:at.value.length<Ie.value,class:"pagination-button rounded-r-md"}," Proxima ",8,Fe)])])):o("",!0)]),x(V,{position:"right",class:"hidden lg:block"})])]),x(f,{name:"fade"},{default:c(()=>[Te.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:A(bt,["self"])},[r("div",De,[r("div",{class:"flex items-center justify-between mb-4"},[t[27]||(t[27]=r("div",null,[r("p",{class:"text-sm text-muted"},"+ Categoria"),r("h3",{class:"text-xl font-semibold"},"Sugerir nova categoria")],-1)),r("button",{class:"cta-ghost",onClick:bt},"Fechar")]),r("div",$e,[r("div",null,[t[28]||(t[28]=r("label",{class:"filter-label"},"Nome",-1)),y(r("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>Ge.value.name=e),type:"text",class:"filter-input",placeholder:"Ex: IA Generativa"},null,512),[[_,Ge.value.name]])]),r("div",null,[t[29]||(t[29]=r("label",{class:"filter-label"},"Descricao",-1)),y(r("textarea",{"onUpdate:modelValue":t[7]||(t[7]=e=>Ge.value.description=e),rows:"3",class:"filter-input",placeholder:"Conte rapidamente o que engloba a categoria"},null,512),[[_,Ge.value.description]])])]),r("div",{class:"mt-6 flex justify-end gap-2"},[r("button",{class:"cta-ghost",onClick:bt},"Cancelar"),r("button",{class:"cta-link",onClick:gt},"Enviar para validacao")])])])):o("",!0)]),_:1}),x(f,{name:"fade"},{default:c(()=>{var e;return[We.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:A(xt,["self"])},[r("div",Me,[r("div",{class:"flex items-center justify-between mb-4"},[t[30]||(t[30]=r("div",null,[r("p",{class:"text-sm text-muted"},"Enviar proposta"),r("h3",{class:"text-xl font-semibold"},"Lance rapido no leilao")],-1)),r("button",{class:"cta-ghost",onClick:xt},"Fechar")]),r("div",Se,[r("div",Be,[t[31]||(t[31]=r("p",{class:"text-sm text-[#8A8A8A] uppercase tracking-wide"},"Projeto",-1)),r("p",ze,u(null==(e=Ke.value)?void 0:e.title),1)]),r("div",null,[t[32]||(t[32]=r("label",{class:"filter-label"},"Valor do lance (R$)",-1)),y(r("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>Qe.value.amount=e),type:"number",min:"1",class:"filter-input",placeholder:"0,00"},null,512),[[_,Qe.value.amount,void 0,{number:!0}]])]),r("div",null,[t[33]||(t[33]=r("label",{class:"filter-label"},"Prazo (dias)",-1)),y(r("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>Qe.value.delivery_time=e),type:"number",min:"1",class:"filter-input",placeholder:"7"},null,512),[[_,Qe.value.delivery_time,void 0,{number:!0}]])]),r("div",null,[t[34]||(t[34]=r("label",{class:"filter-label"},"Proposta",-1)),y(r("textarea",{"onUpdate:modelValue":t[10]||(t[10]=e=>Qe.value.proposal=e),rows:"4",class:"filter-input proposal-highlight",placeholder:"Descreva sua proposta com clareza"},null,512),[[_,Qe.value.proposal]])])]),r("div",Ne,[r("button",{class:"cta-ghost",onClick:xt},"Cancelar"),r("button",{class:"cta-link",disabled:Xe.value,onClick:ft},u(Xe.value?"Enviando...":"Enviar lance"),9,Pe)])])])):o("",!0)]}),_:1})])}}},[["__scopeId","data-v-927276b6"]]);export{Ve as default};
