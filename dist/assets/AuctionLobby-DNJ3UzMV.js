import{r as e,c as a,o as t,a as l,j as o,b as s,e as r,F as n,l as i,t as d,n as c,s as u,B as p,h as v,i as m,g as b,T as g,p as f,C as x,J as h,f as k,q as y,m as w,k as A,D as j}from"./vue-DDtQ7Z_H.js";import{_ as C,a as _,u as F,b as M}from"./index-GrC-7x6E.js";import{p as D}from"./projectService-JoDbWh4w.js";import"./utils-CeLII1lI.js";const $={class:"flex items-center justify-between text-xs font-medium text-muted sm:col-span-2"},V={class:"ad-title"},B={class:"ad-description"},P=["href","onClick"],N={key:1,class:"ad-cta btn-gold",type:"button"},S=C({__name:"AdRail",props:{position:{type:String,default:"left"}},setup(u){const p=u,v=e(!1),m=e([]),b=a(()=>"right"===p.position?"right":"left"),g={left:[{id:"mock-left-1",title:"Impulsione seu Projeto",description:"Destaque seu projeto e encontre os melhores profissionais.",link_url:"/lobby"},{id:"mock-left-2",title:"Seja um Prestador Premium",description:"Aumente sua visibilidade e ganhe mais propostas.",link_url:"/profile"}],right:[{id:"mock-right-1",title:"Suporte 24/7",description:"Nossa equipe est√° sempre dispon√≠vel para ajudar.",link_url:"/tutorial"},{id:"mock-right-2",title:"Pagamentos 100% Seguros",description:"Transa√ß√µes protegidas e fluxo com escrow.",link_url:"/wallet"}]};return t(()=>{!async function(){try{const e=await _.get("/api/advertisements",{params:{position:b.value}}),a=Array.isArray(e.data)?e.data:[];m.value=a.length?a:g[b.value]||[]}catch(e){console.error("Erro ao carregar an√∫ncios:",e),m.value=g[b.value]||[]}}()}),(e,a)=>!v.value&&m.value.length>0?(s(),l("aside",{key:0,class:c(["grid grid-cols-1 sm:grid-cols-2 gap-4 w-full xl:w-72 xl:flex xl:flex-col xl:gap-6","left"===b.value?"xl:mr-8":"xl:ml-8"])},[r("div",$,[a[2]||(a[2]=r("span",{class:"uppercase tracking-wider"},"Patrocinado",-1)),r("button",{class:"text-muted hover:text-heading transition-colors",onClick:a[0]||(a[0]=e=>v.value=!0),title:"Ocultar an√∫ncios"},[...a[1]||(a[1]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(s(!0),l(n,null,i(m.value,e=>(s(),l("div",{key:e.id,class:"ad-card card-premium"},[a[5]||(a[5]=r("div",{class:"ad-badge"},[r("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),r("span",null,"An√∫ncio")],-1)),r("h4",V,d(e.title),1),r("p",B,d(e.description),1),e.link_url?(s(),l("a",{key:0,href:e.link_url,target:"_blank",rel:"noopener",class:"ad-cta btn-gold",onClick:a=>async function(e){try{if(String(e).startsWith("mock-"))return;await _.post(`/api/advertisements/${e}/click`)}catch(a){console.error("Erro ao registrar clique:",a)}}(e.id)},[...a[3]||(a[3]=[r("span",null,"Saiba mais",-1),r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])],8,P)):(s(),l("button",N,[...a[4]||(a[4]=[r("span",null,"Saiba mais",-1),r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])]))]))),128))],2)):o("",!0)}},[["__scopeId","data-v-f97b184b"]]),H={class:"lobby-shell py-8 px-4 sm:px-6 lg:px-8"},z={class:"lobby-grid max-w-7xl mx-auto"},L={class:"space-y-8"},E={class:"lobby-hero card"},R={class:"flex flex-wrap items-start justify-between gap-6"},q={class:"space-y-3"},I={class:"hero-title"},U={class:"hero-sub"},O={class:"flex flex-wrap gap-2"},T={class:"tag"},G={class:"tag"},J={class:"flex flex-col gap-3 min-w-[240px]"},Q={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},W={class:"text-sm text-muted"},K={class:"text-3xl font-bold text-primary"},X={class:"card"},Y={class:"flex items-center justify-between gap-4 mb-4"},Z={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-4"},ee={class:"card"},ae={class:"flex items-center justify-between mb-4"},te={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},le=["value"],oe={key:0,class:"pending-chip"},se={key:0,class:"card text-center py-12"},re={key:1,class:"card text-center py-12"},ne={key:2,class:"space-y-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},de={class:"relative h-48 overflow-hidden rounded-t-2xl bg-gradient-to-br from-[#1A1A1A] to-[#0F1117]"},ce=["src","alt"],ue={key:1,class:"w-full h-full flex items-center justify-center"},pe={class:"absolute top-3 left-3"},ve={key:2,class:"absolute top-3 right-3"},me={class:"absolute bottom-3 left-3"},be={class:"flex items-center gap-2 px-3 py-1.5 bg-[#D4AF37]/90 backdrop-blur-sm rounded-full text-[#0F1117] font-bold text-sm"},ge={class:"p-5 bg-[#161821] border-x border-b border-[rgba(212,175,55,0.24)] rounded-b-2xl"},fe={class:"inline-block px-3 py-1 bg-[#D4AF37]/10 text-[#D4AF37] text-xs font-semibold rounded-full mb-3"},xe={class:"text-[#C7C7C7] text-sm line-clamp-2 mb-4"},he={class:"grid grid-cols-3 gap-3 mb-4 p-3 bg-[#0F1117] rounded-xl"},ke={class:"text-center"},ye={class:"text-base font-bold text-[#D4AF37]"},we={class:"text-center border-x border-[rgba(212,175,55,0.1)]"},Ae={class:"text-base font-bold text-[#F5F5F5]"},je={class:"text-center"},Ce={class:"flex items-center justify-between pt-3 border-t border-[rgba(212,175,55,0.1)]"},_e={class:"flex items-center gap-2"},Fe={class:"w-8 h-8 rounded-full bg-[#D4AF37]/20 flex items-center justify-center"},Me={class:"text-[#D4AF37] font-bold text-xs"},De={class:"text-xs font-medium text-[#F5F5F5]"},$e={class:"text-xs text-[#8A8A8A]"},Ve={key:3,class:"flex justify-center"},Be={class:"inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Pe=["disabled"],Ne={class:"pagination-current"},Se=["disabled"],He={class:"modal-card"},ze={class:"space-y-4"},Le=C({__name:"AuctionLobby",setup(C){const $=F(),V=M(),{currentMode:B}=u(V),P=a(()=>"contractor"===B.value),N=a(()=>"provider"===B.value),Le=a(()=>{const e=$.user;return e&&e.name?e.name.split(" ")[0]:"Usu√°rio"}),Ee=a(()=>`üéØ Lobby do ${P.value?"Contratante":"Prestador"} - ${Le.value}`),Re=a(()=>P.value?"Gerencie seus leil√µes, monitore os lances e acompanhe o vencedor em tempo real.":"Descubra projetos em aberto, acompanhe disputas e envie lances competitivos instantaneamente."),qe=a(()=>{const e=Ue.value.length,a=Ue.value.filter(e=>"open"===e.status).length,t=Ue.value.filter(e=>(e.priority||3)<=2).length;return P.value?[{label:"Projetos ativos",value:e,caption:"publicados por voc√™",text:"text-amber-400"},{label:"Aceitando propostas",value:a,caption:"leil√µes abertos agora",text:"text-amber-400"},{label:"Prioridade alta",value:t,caption:"precisam de aten√ß√£o",text:"text-amber-300"}]:[{label:"Projetos dispon√≠veis",value:a,caption:"aceitando novos lances",text:"text-amber-400"},{label:"Novos hoje",value:Ue.value.filter(e=>{const a=new Date(e.created_at);return new Date-a<=864e5}).length,caption:"oportunidades frescas",text:"text-amber-400"},{label:"Alta prioridade",value:t,caption:"pagam melhor",text:"text-amber-400"}]}),Ie=e(!1),Ue=e([]),Oe=e(1),Te=e(20),Ge=D.getCategories(),Je=e({category:"",budget:"",deadline:"",status:""}),Qe=e(!0),We=e(!1),Ke=e({name:"",description:""}),Xe=e([]),Ye="kadesh_lobby_filters_contractor",Ze="kadesh_lobby_filters_provider",ea=()=>"contractor"===B.value?Ye:Ze,aa=()=>{if("undefined"!=typeof window)try{const e=localStorage.getItem(ea());if(!e)return;const a=JSON.parse(e);Je.value={category:a.category||"",budget:a.budget||"",deadline:a.deadline||"",status:a.status||""}}catch(e){console.warn("N√£o foi poss√≠vel restaurar filtros do lobby:",e)}},ta=a(()=>{let e=Ue.value;return Je.value.category&&(e=e.filter(e=>e.category===Je.value.category)),Je.value.budget&&(e=e.filter(e=>e.budget<=parseInt(Je.value.budget))),Je.value.status&&(e=e.filter(e=>e.status===Je.value.status)),e}),la=async()=>{var e;Ie.value=!0;try{(()=>{var e,a,t,l,o;if("undefined"==typeof window)return;const s=localStorage.getItem("kadesh_token");s?((null==(t=null==(a=null==(e=_)?void 0:e.defaults)?void 0:a.headers)?void 0:t.common)&&(_.defaults.headers.common.Authorization=`Bearer ${s}`,_.defaults.headers.common.Authorization=`Bearer ${s}`),(null==(o=null==(l=_)?void 0:l.defaults)?void 0:o.headers)&&(_.defaults.headers.Authorization=`Bearer ${s}`),console.log("[Lobby] Header Authorization garantido antes de loadProjects")):console.warn("[Lobby] Nenhum token encontrado para setar header")})();const a=P.value?"/api/projects/my-projects":"/api/projects",t={per_page:Te.value,page:Oe.value};Je.value.status?t.status=Je.value.status:N.value&&(t.status="open"),Je.value.category&&(t.category=Je.value.category),Je.value.budget&&(t.budget_max=Je.value.budget);const l=await _.get(a,{params:t}),o=Array.isArray(l.data)?l.data:(null==(e=l.data)?void 0:e.projects)||[];Ue.value=o}catch(a){console.error("Erro ao carregar projetos:",a),Ue.value=[]}finally{Ie.value=!1}},oa=()=>{Oe.value=1,la()},sa=()=>{Je.value={category:"",budget:"",deadline:"",status:""},oa()},ra=e=>{const a=Number(e||0);return a>=1e6?`R$ ${(a/1e6).toFixed(1)}M`:a>=1e3?`R$ ${(a/1e3).toFixed(1)}k`:`R$ ${a.toFixed(0)}`},na=e=>{if(!e)return"N/A";const a=new Date(e),t=new Date-a,l=Math.floor(t/864e5);return 0===l?"Hoje":1===l?"Ontem":l<7?`${l}d atr√°s`:a.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})},ia=e=>{const a=Ge.find(a=>a.value===e||a.label===e);return a?a.label:e||"Geral"},da=e=>e?e.bid_count??e.bids_count??0:0,ca=e=>{if(!e)return null;const a=e.lowest_bid_amount??null;return"number"==typeof a?a:a?parseFloat(a):null},ua=e=>{if(!(null==e?void 0:e.deadline))return null;const a=new Date(e.deadline);if(Number.isNaN(a.getTime()))return null;const t=a-new Date;if(t<=0)return{text:"Prazo encerrado",class:"bg-red-100 text-red-700",bgClass:"bg-red-500/90"};const l=Math.floor(t/6e4),o=Math.floor(l/1440),s=Math.floor(l%1440/60),r=l%60;let n="";n=o>0?`${o}d ${s}h`:s>0?`${s}h ${r}m`:`${r}m`;let i="bg-green-100 text-green-700",d="bg-emerald-500/90";return o<=2&&(i="bg-amber-100 text-amber-700",d="bg-amber-500/90"),s<6&&0===o&&(i="bg-orange-100 text-orange-700",d="bg-orange-500/90"),0===s&&0===o&&(i="bg-red-100 text-red-700",d="bg-red-500/90"),{text:n,class:i,bgClass:d}},pa=()=>{We.value=!1,Ke.value={name:"",description:""}},va=()=>{Ke.value.name&&(Xe.value.push({...Ke.value,created_at:new Date}),pa())};return t(()=>{aa(),la()}),p(B,()=>{aa(),Oe.value=1,la()}),p(Je,()=>{(()=>{if("undefined"!=typeof window)try{localStorage.setItem(ea(),JSON.stringify(Je.value))}catch(e){console.warn("N√£o foi poss√≠vel salvar filtros do lobby:",e)}})()},{deep:!0}),(e,a)=>{const t=b("router-link");return s(),l("div",H,[r("div",z,[v(S,{position:"left"}),r("div",L,[r("section",E,[r("div",R,[r("div",q,[a[11]||(a[11]=r("p",{class:"hero-eyebrow"},"Service Bridge ‚Ä¢ Acesso premium",-1)),r("h1",I,d(Ee.value),1),r("p",U,d(Re.value),1),r("div",O,[r("span",T,"Modo: "+d(P.value?"Contratante":"Prestador"),1),r("span",G,d(Ue.value.length)+" projetos carregados",1)])]),r("div",J,[v(t,{to:"/",class:"cta-link"},{default:m(()=>[...a[12]||(a[12]=[f("Voltar para a Home",-1)])]),_:1}),r("button",{class:"cta-outline",onClick:a[0]||(a[0]=e=>Qe.value=!Qe.value)},d(Qe.value?"Esconder acessos":"Mostrar acessos"),1)])])]),r("section",Q,[(s(!0),l(n,null,i(qe.value,e=>(s(),l("div",{key:e.label,class:"stat-card card"},[r("p",W,d(e.label),1),r("p",K,d(e.value),1),r("span",{class:c(["text-xs font-semibold",e.text])},d(e.caption),3)]))),128))]),r("section",X,[r("div",Y,[a[13]||(a[13]=r("div",null,[r("p",{class:"text-sm text-muted"},"Acesso r√°pido"),r("h2",{class:"text-xl font-semibold"},"Navegue pelo que importa agora")],-1)),r("button",{class:"cta-outline",onClick:a[1]||(a[1]=e=>Qe.value=!Qe.value)},d(Qe.value?"Recolher":"Expandir"),1)]),v(g,{name:"fade"},{default:m(()=>[Qe.value?(s(),l("div",Z,[v(t,{to:"/dashboard",class:"action-tile"},{default:m(()=>[...a[14]||(a[14]=[r("svg",{class:"w-6 h-6 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),r("span",null,"Dashboard",-1)])]),_:1}),P.value?(s(),w(t,{key:0,to:"/projects/create",class:"action-tile primary"},{default:m(()=>[...a[15]||(a[15]=[r("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),r("span",null,"Novo Projeto",-1)])]),_:1})):(s(),w(t,{key:1,to:"/projects",class:"action-tile primary"},{default:m(()=>[...a[16]||(a[16]=[r("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),r("span",null,"Explorar Projetos",-1)])]),_:1})),v(t,{to:"/wallet",class:"action-tile"},{default:m(()=>[...a[17]||(a[17]=[r("svg",{class:"w-6 h-6 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1),r("span",null,"Carteira",-1)])]),_:1}),v(t,{to:"/contracts",class:"action-tile"},{default:m(()=>[...a[18]||(a[18]=[r("svg",{class:"w-6 h-6 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),r("span",null,"Contratos",-1)])]),_:1})])):o("",!0)]),_:1})]),r("section",ee,[r("div",ae,[a[20]||(a[20]=r("div",null,[r("p",{class:"text-sm text-muted"},"Filtros e curadoria"),r("h2",{class:"text-xl font-semibold"},"Refine o grid do Lobby")],-1)),r("button",{class:"cta-link",onClick:a[2]||(a[2]=e=>We.value=!0)},[...a[19]||(a[19]=[r("span",{class:"text-lg font-bold mr-1"},"+",-1),f(" Nova categoria ",-1)])])]),r("div",te,[r("div",null,[a[22]||(a[22]=r("label",{class:"filter-label"},"Categoria",-1)),x(r("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>Je.value.category=e),class:"filter-input"},[a[21]||(a[21]=r("option",{value:""},"Todas",-1)),(s(!0),l(n,null,i(k(Ge),e=>(s(),l("option",{key:e.value,value:e.value},d(e.label),9,le))),128))],512),[[h,Je.value.category]])]),r("div",null,[a[24]||(a[24]=r("label",{class:"filter-label"},"Or√ßamento (M√°x)",-1)),x(r("select",{"onUpdate:modelValue":a[4]||(a[4]=e=>Je.value.budget=e),class:"filter-input"},[...a[23]||(a[23]=[y('<option value="" data-v-906f002a>Qualquer</option><option value="500" data-v-906f002a>At√© R$ 500</option><option value="1000" data-v-906f002a>At√© R$ 1.000</option><option value="5000" data-v-906f002a>At√© R$ 5.000</option><option value="10000" data-v-906f002a>At√© R$ 10.000</option>',5)])],512),[[h,Je.value.budget]])]),r("div",null,[a[26]||(a[26]=r("label",{class:"filter-label"},"Prazo",-1)),x(r("select",{"onUpdate:modelValue":a[5]||(a[5]=e=>Je.value.deadline=e),class:"filter-input"},[...a[25]||(a[25]=[y('<option value="" data-v-906f002a>Qualquer</option><option value="7" data-v-906f002a>At√© 7 dias</option><option value="15" data-v-906f002a>At√© 15 dias</option><option value="30" data-v-906f002a>At√© 30 dias</option><option value="60" data-v-906f002a>At√© 60 dias</option>',5)])],512),[[h,Je.value.deadline]])]),r("div",null,[a[28]||(a[28]=r("label",{class:"filter-label"},"Status",-1)),x(r("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>Je.value.status=e),class:"filter-input"},[...a[27]||(a[27]=[r("option",{value:""},"Todos",-1),r("option",{value:"open"},"Aberto (aceita propostas)",-1),r("option",{value:"in_progress"},"Em andamento",-1),r("option",{value:"completed"},"Conclu√≠do",-1)])],512),[[h,Je.value.status]])])]),Xe.value.length?(s(),l("div",oe," √öltima sugest√£o: "+d(Xe.value[Xe.value.length-1].name)+" aguardando valida√ß√£o do ADM. ",1)):o("",!0),r("div",{class:"mt-4 flex justify-end gap-2"},[r("button",{onClick:sa,class:"cta-ghost"}," Limpar filtros "),r("button",{onClick:oa,class:"cta-link"}," Aplicar filtros ")])]),Ie.value?(s(),l("div",se,[...a[29]||(a[29]=[r("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold mx-auto"},null,-1),r("p",{class:"mt-4 text-muted"},"Carregando projetos...",-1)])])):0===ta.value.length?(s(),l("div",re,[...a[30]||(a[30]=[r("svg",{class:"w-16 h-16 text-muted mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),r("p",{class:"text-muted"},"Nenhum projeto encontrado com os filtros atuais",-1)])])):(s(),l("div",ne,[r("div",ie,[(s(!0),l(n,null,i(ta.value,e=>{return s(),l("div",{key:e.id,class:"auction-card-modern group"},[r("div",de,[e.attachments&&e.attachments.length>0?(s(),l("img",{key:0,src:e.attachments[0],alt:e.title,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,ce)):(s(),l("div",ue,[...a[31]||(a[31]=[r("svg",{class:"w-20 h-20 text-[#D4AF37]/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])])),a[34]||(a[34]=r("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"},null,-1)),r("div",pe,[r("span",{class:c(["px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide backdrop-blur-sm","open"===e.status?"bg-emerald-500/90 text-white":"in_progress"===e.status?"bg-amber-500/90 text-white":"bg-gray-500/90 text-white"])},d((n=e.status,{open:"Aberto",in_progress:"Em andamento",completed:"Conclu√≠do",cancelled:"Cancelado"}[n]||n)),3)]),ua(e)?(s(),l("div",ve,[r("div",{class:c(["flex items-center gap-2 px-3 py-1.5 rounded-full backdrop-blur-sm text-white font-bold text-sm",ua(e).bgClass])},[a[32]||(a[32]=r("svg",{class:"w-4 h-4 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),f(" "+d(ua(e).text),1)],2)])):o("",!0),r("div",me,[r("div",be,[a[33]||(a[33]=r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})],-1)),f(" "+d(da(e))+" Lance(s) ",1)])])]),r("div",ge,[r("span",fe,d(ia(e.category)),1),v(t,{to:`/projects/${e.id}`,class:"block text-lg font-bold text-[#F5F5F5] hover:text-[#D4AF37] transition-colors line-clamp-2 mb-3 leading-tight"},{default:m(()=>[f(d(e.title),1)]),_:2},1032,["to"]),r("p",xe,d(e.description),1),r("div",he,[r("div",ke,[a[35]||(a[35]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Or√ßamento",-1)),r("p",ye,d(ra(e.budget)),1)]),r("div",we,[a[36]||(a[36]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Propostas",-1)),r("p",Ae,d(da(e)),1)]),r("div",je,[a[37]||(a[37]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Menor",-1)),r("p",{class:c(["text-base font-bold",ca(e)?"text-emerald-400":"text-[#8A8A8A]"])},d(ca(e)?ra(ca(e)):"‚Äî"),3)])]),r("div",Ce,[r("div",_e,[r("div",Fe,[r("span",Me,d((e.client_name||"C")[0].toUpperCase()),1)]),r("div",null,[r("p",De,d(e.client_name||"Contratante"),1),r("p",$e,d(na(e.created_at)),1)])]),v(t,{to:`/projects/${e.id}`,class:"px-4 py-2 bg-gradient-to-r from-[#D4AF37] to-[#E5C04A] text-[#0F1117] font-bold text-sm rounded-lg hover:shadow-lg hover:shadow-[#D4AF37]/30 transition-all transform hover:scale-105"},{default:m(()=>[f(d(N.value?"Dar Lance":"Ver"),1)]),_:1},8,["to"])])])]);var n}),128))])])),ta.value.length>0?(s(),l("div",Ve,[r("nav",Be,[r("button",{onClick:a[7]||(a[7]=e=>Oe.value--),disabled:1===Oe.value,class:"pagination-button rounded-l-md"}," Anterior ",8,Pe),r("span",Ne," P√°gina "+d(Oe.value),1),r("button",{onClick:a[8]||(a[8]=e=>Oe.value++),disabled:ta.value.length<Te.value,class:"pagination-button rounded-r-md"}," Pr√≥xima ",8,Se)])])):o("",!0)])]),v(g,{name:"fade"},{default:m(()=>[We.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:A(pa,["self"])},[r("div",He,[r("div",{class:"flex items-center justify-between mb-4"},[a[38]||(a[38]=r("div",null,[r("p",{class:"text-sm text-muted"},"+ Categoria"),r("h3",{class:"text-xl font-semibold"},"Sugerir nova categoria")],-1)),r("button",{class:"cta-ghost",onClick:pa},"Fechar")]),r("div",ze,[r("div",null,[a[39]||(a[39]=r("label",{class:"filter-label"},"Nome",-1)),x(r("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>Ke.value.name=e),type:"text",class:"filter-input",placeholder:"Ex: IA Generativa"},null,512),[[j,Ke.value.name]])]),r("div",null,[a[40]||(a[40]=r("label",{class:"filter-label"},"Descri√ß√£o",-1)),x(r("textarea",{"onUpdate:modelValue":a[10]||(a[10]=e=>Ke.value.description=e),rows:"3",class:"filter-input",placeholder:"Conte rapidamente o que engloba a categoria"},null,512),[[j,Ke.value.description]])])]),r("div",{class:"mt-6 flex justify-end gap-2"},[r("button",{class:"cta-ghost",onClick:pa},"Cancelar"),r("button",{class:"cta-link",onClick:va},"Enviar para valida√ß√£o")])])])):o("",!0)]),_:1})])}}},[["__scopeId","data-v-906f002a"]]);export{Le as default};
