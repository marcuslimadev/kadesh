import{I as e,c as t,r as a,o as l,A as o,J as s,a as r,e as n,h as i,l as d,t as u,F as c,j as p,i as v,T as b,B as m,K as g,f as x,q as f,u as h,g as y,b as k,n as w,k as A,m as C,p as j,C as _}from"./vue-Cs7imW6x.js";import{_ as F,u as V,b as D,a as $}from"./index-CmAi4J-F.js";import{p as z}from"./projectService-DP4cjqJY.js";import{b as B}from"./bidService-sZ282AyN.js";import"./utils-CeLII1lI.js";const M={class:"lobby-shell py-6 px-4 sm:px-6 lg:px-8"},N={class:"max-w-7xl mx-auto"},L={class:"lobby-main space-y-6"},P={class:"lobby-hero bg-surface rounded-xl p-6 border border-border"},H={class:"flex items-start justify-between"},E={class:"text-2xl font-bold text-heading mb-2"},S={class:"text-sm text-body"},R={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},U={class:"flex items-start justify-between mb-3"},I={class:"text-sm text-muted"},q=["d"],T={class:"text-3xl font-bold text-heading mb-1"},G={class:"text-xs text-muted"},O={class:"bg-surface rounded-xl p-6 border border-border"},J={class:"flex items-center justify-between mb-4"},Q={key:0,class:"flex flex-wrap items-center gap-3"},K={class:"bg-surface rounded-lg p-3 border border-muted-border"},W={class:"flex items-center justify-between mb-2"},X={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},Y=["value"],Z={key:0,class:"mt-2 text-xs text-muted"},ee={key:0,class:"card text-center py-12"},te={key:1,class:"card text-center py-12"},ae={key:2,class:"space-y-6"},le={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},oe={class:"relative h-48 overflow-hidden rounded-t-2xl bg-gradient-to-br from-[#1A1A1A] to-[#0F1117]"},se=["src","alt"],re={key:1,class:"w-full h-full flex items-center justify-center"},ne={class:"absolute top-3 left-3 right-3 flex items-start justify-between gap-2"},ie={class:"absolute bottom-3 left-3"},de={class:"flex items-center gap-2 px-3 py-1.5 bg-[#D4AF37]/90 backdrop-blur-sm rounded-full text-[#0F1117] font-bold text-sm"},ue={class:"p-5 bg-[#161821] border-x border-b border-[rgba(212,175,55,0.24)] rounded-b-2xl"},ce={class:"inline-block px-3 py-1 bg-[#D4AF37]/10 text-[#D4AF37] text-xs font-semibold rounded-full mb-3"},pe={class:"text-xs uppercase tracking-wide text-[#C7C7C7] mb-1"},ve={class:"text-[#F5F5F5] font-semibold"},be={class:"text-[#C7C7C7] text-sm line-clamp-2 mb-4"},me={class:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4 p-3 bg-[#0F1117] rounded-xl"},ge={class:"text-center"},xe={class:"text-base font-bold text-[#D4AF37]"},fe={class:"text-center border-x border-[rgba(212,175,55,0.1)]"},he={class:"text-sm font-semibold text-[#F5F5F5]"},ye={class:"text-center border-x border-[rgba(212,175,55,0.1)] sm:border-x-0 sm:border-l sm:border-[rgba(212,175,55,0.1)]"},ke={class:"text-base font-bold text-[#F5F5F5]"},we={class:"text-center"},Ae={class:"flex items-center justify-between pt-3 border-t border-[rgba(212,175,55,0.1)]"},Ce={class:"flex items-center gap-2"},je={class:"w-8 h-8 rounded-full bg-[#D4AF37]/20 flex items-center justify-center"},_e={class:"text-[#D4AF37] font-bold text-xs"},Fe={class:"text-xs font-medium text-[#F5F5F5]"},Ve={class:"text-xs text-[#8A8A8A]"},De={class:"flex items-center gap-2"},$e=["onClick"],ze={key:3,class:"flex justify-center"},Be={class:"inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Me=["disabled"],Ne={class:"pagination-current"},Le=["disabled"],Pe={class:"modal-card"},He={class:"space-y-4"},Ee={class:"modal-card"},Se={class:"space-y-4"},Re={class:"p-4 rounded-xl border border-[rgba(212,175,55,0.2)] bg-[#0F1117]"},Ue={class:"text-lg font-semibold text-heading"},Ie={class:"mt-6 flex justify-end gap-2"},qe=["disabled"],Te=F({__name:"AuctionLobby",setup(F){const Te=V(),Ge=h(),Oe=D(),{currentMode:Je}=e(Oe),Qe=t(()=>"contractor"===Je.value),Ke=t(()=>"provider"===Je.value),We=t(()=>{const e=Te.user;return e&&e.name?e.name.split(" ")[0]:"Usuario"}),Xe=t(()=>`üéØ Lobby do ${Qe.value?"Contratante":"Prestador"} - ${We.value}`),Ye=t(()=>Qe.value?"Gerencie seus leiloes, monitore os lances e acompanhe o vencedor em tempo real.":"Descubra projetos em aberto, acompanhe disputas e envie lances competitivos instantaneamente."),Ze=t(()=>{tt.value.length;const e=tt.value.filter(e=>"open"===e.status).length,t=tt.value.filter(e=>e.user_has_bid).length||0,a=tt.value.filter(e=>(e.priority||3)<=2).length;return Qe.value,[{label:"Propostas ativas",value:t,caption:"Gerencie suas propostas com corre√ß√µes √†s propostas ativas",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",iconBg:"bg-amber-500/10",iconColor:"text-amber-500"},{label:"Aguardando lances",value:e,caption:"Lances comuns lan√ßes, acompanhe o vencedor dos lances",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",iconBg:"bg-blue-500/10",iconColor:"text-blue-500"},{label:"Prioridade alta",value:a,caption:"Contratador seleccionou alta parcticipa√ß√£o na armadura em tempo real",icon:"M13 10V3L4 14h7v7l9-11h-7z",iconBg:"bg-red-500/10",iconColor:"text-red-500"}]}),et=a(!1),tt=a([]),at=a(1),lt=a(20),ot=z.getCategories(),st=a({category:"",budget:"",deadline:"",status:""}),rt=a(!0),nt=a(!1),it=a({name:"",description:""}),dt=a([]),ut=a(!1),ct=a(null),pt=a({amount:null,delivery_time:null,proposal:""}),vt=a(!1),bt="kadesh_lobby_filters_contractor",mt="kadesh_lobby_filters_provider",gt=()=>"contractor"===Je.value?bt:mt,xt=()=>{if("undefined"!=typeof window)try{const e=localStorage.getItem(gt());if(!e)return;const t=JSON.parse(e);st.value={category:t.category||"",budget:t.budget||"",deadline:t.deadline||"",status:t.status||""}}catch(e){console.warn("Nao foi possivel restaurar filtros do lobby:",e)}},ft=t(()=>{let e=tt.value;return st.value.category&&(e=e.filter(e=>e.category===st.value.category)),st.value.budget&&(e=e.filter(e=>e.budget<=parseInt(st.value.budget))),st.value.status&&(e=e.filter(e=>e.status===st.value.status)),e}),ht=async()=>{var e;et.value=!0;try{(()=>{var e,t,a,l,o;if("undefined"==typeof window)return;const s=localStorage.getItem("kadesh_token");s&&"undefined"!==s&&"null"!==s?((null==(a=null==(t=null==(e=$)?void 0:e.defaults)?void 0:t.headers)?void 0:a.common)&&($.defaults.headers.common.Authorization=`Bearer ${s}`,$.defaults.headers.common.Authorization=`Bearer ${s}`),(null==(o=null==(l=$)?void 0:l.defaults)?void 0:o.headers)&&($.defaults.headers.Authorization=`Bearer ${s}`),console.log("[Lobby] Header Authorization garantido antes de loadProjects")):console.warn("[Lobby] Nenhum token encontrado para setar header")})();const t=Qe.value?"/api/projects/my-projects":"/api/projects",a={per_page:lt.value,page:at.value};st.value.status?a.status=st.value.status:Ke.value&&(a.status="open"),st.value.category&&(a.category=st.value.category),st.value.budget&&(a.budget_max=st.value.budget);const l=await $.get(t,{params:a}),o=Array.isArray(l.data)?l.data:(null==(e=l.data)?void 0:e.projects)||[];tt.value=o}catch(t){console.error("Erro ao carregar projetos:",t),tt.value=[]}finally{et.value=!1}},yt=()=>{at.value=1,ht()},kt=()=>{st.value={category:"",budget:"",deadline:"",status:""},yt()},wt=e=>{const t=Number(e||0);return t>=1e6?`R$ ${(t/1e6).toFixed(1)}M`:t>=1e3?`R$ ${(t/1e3).toFixed(1)}k`:`R$ ${t.toFixed(0)}`},At=e=>{if(!e)return"N/A";const t=new Date(e),a=new Date-t,l=Math.floor(a/864e5);return 0===l?"Hoje":1===l?"Ontem":l<7?`${l}d atras`:t.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})},Ct=e=>{if(!e)return"Sem prazo";const t=new Date(e);return Number.isNaN(t.getTime())?"Sem prazo":t.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})},jt=e=>{const t=ot.find(t=>t.value===e||t.label===e);return t?t.label:e||"Geral"},_t=e=>{const t=(e=>e&&Array.isArray(e.attachments)?e.attachments:[])(e),a=t.find(e=>{var t;return null==(t=null==e?void 0:e.mime_type)?void 0:t.startsWith("image/")});return(null==a?void 0:a.file_url)||null},Ft=e=>e?e.bid_count??e.bids_count??0:0,Vt=e=>{if(!e)return null;const t=e.lowest_bid_amount??e.lowest_bid??null;return"number"==typeof t?t:t?parseFloat(t):null},Dt=e=>{if(!(null==e?void 0:e.deadline))return null;const t=new Date(e.deadline);if(Number.isNaN(t.getTime()))return null;const a=t-new Date;if(a<=0)return{text:"Prazo encerrado",class:"bg-red-100 text-red-700",bgClass:"bg-red-500/90"};const l=Math.floor(a/6e4),o=Math.floor(l/1440),s=Math.floor(l%1440/60),r=l%60;let n="";n=o>0?`${o}d ${s}h`:s>0?`${s}h ${r}m`:`${r}m`;let i="bg-green-100 text-green-700",d="bg-emerald-500/90";return o<=2&&(i="bg-amber-100 text-amber-700",d="bg-amber-500/90"),s<6&&0===o&&(i="bg-orange-100 text-orange-700",d="bg-orange-500/90"),0===s&&0===o&&(i="bg-red-100 text-red-700",d="bg-red-500/90"),{text:n,class:i,bgClass:d}},$t=()=>{nt.value=!1,it.value={name:"",description:""}},zt=()=>{it.value.name&&(dt.value.push({...it.value,created_at:new Date}),$t())},Bt=()=>{ut.value=!1,ct.value=null},Mt=async()=>{var e,t;if(Te.isAuthenticated){if(pt.value.amount&&pt.value.delivery_time&&(null==(e=pt.value.proposal)?void 0:e.trim())&&(null==(t=ct.value)?void 0:t.id)){vt.value=!0;try{const e={project_id:ct.value.id,amount:pt.value.amount,delivery_time:pt.value.delivery_time,proposal:pt.value.proposal};(await B.createBid(e)).success&&(await ht(),Bt())}catch(a){console.error("Erro ao enviar lance rapido:",a)}finally{vt.value=!1}}}else Ge.push({name:"login",query:{redirect:"/lobby"}})},Nt=()=>{ht()};return l(()=>{xt(),ht(),"undefined"!=typeof window&&window.addEventListener("kadesh:projects-updated",Nt)}),o(Je,()=>{xt(),at.value=1,ht()}),o(st,()=>{(()=>{if("undefined"!=typeof window)try{localStorage.setItem(gt(),JSON.stringify(st.value))}catch(e){console.warn("Nao foi possivel salvar filtros do lobby:",e)}})()},{deep:!0}),s(()=>{"undefined"!=typeof window&&window.removeEventListener("kadesh:projects-updated",Nt)}),(e,t)=>{const a=y("router-link");return k(),r("div",M,[n("div",N,[n("div",L,[n("section",P,[n("div",H,[n("div",null,[n("h1",E,u(Xe.value),1),n("p",S,u(Ye.value),1)])])]),n("section",R,[(k(!0),r(c,null,p(Ze.value,e=>(k(),r("div",{key:e.label,class:"bg-surface rounded-xl p-5 border border-border"},[n("div",U,[n("p",I,u(e.label),1),n("div",{class:w(["w-8 h-8 rounded-lg flex items-center justify-center",e.iconBg])},[(k(),r("svg",{class:w(["w-5 h-5",e.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:e.icon},null,8,q)],2))],2)]),n("p",T,u(e.value),1),n("p",G,u(e.caption),1)]))),128))]),n("section",O,[n("div",J,[t[13]||(t[13]=n("div",null,[n("p",{class:"text-sm text-muted"},"Acesso r√°pido"),n("h2",{class:"text-lg font-semibold text-heading"},"Navegue pelo que importa agora")],-1)),n("button",{class:"px-4 py-2 bg-surface-elevated hover:bg-surface-alt text-body rounded-lg text-sm font-medium transition-colors",onClick:t[0]||(t[0]=e=>rt.value=!rt.value)},u(rt.value?"Recolher":"Expandir"),1)]),i(b,{name:"fade"},{default:v(()=>[rt.value?(k(),r("div",Q,[i(a,{to:"/dashboard",class:"flex items-center gap-2 px-4 py-2 bg-surface-elevated hover:bg-surface-alt rounded-lg text-sm font-medium transition-colors"},{default:v(()=>[...t[14]||(t[14]=[n("svg",{class:"w-5 h-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),n("span",{class:"text-body"},"Dashboard",-1)])]),_:1}),Qe.value?(k(),A(a,{key:0,to:"/projects/create",class:"flex items-center gap-2 px-4 py-2 bg-[#D4AF37] hover:bg-[#C5A028] text-[#0F1117] rounded-lg text-sm font-semibold transition-colors"},{default:v(()=>[...t[15]||(t[15]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),n("span",null,"Novo Projeto",-1)])]),_:1})):(k(),A(a,{key:1,to:"/projects",class:"flex items-center gap-2 px-4 py-2 bg-[#D4AF37] hover:bg-[#C5A028] text-[#0F1117] rounded-lg text-sm font-semibold transition-colors"},{default:v(()=>[...t[16]||(t[16]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),n("span",null,"Explorar Projetos",-1)])]),_:1})),i(a,{to:"/wallet",class:"flex items-center gap-2 px-4 py-2 bg-surface-elevated hover:bg-surface-alt rounded-lg text-sm font-medium transition-colors"},{default:v(()=>[...t[17]||(t[17]=[n("svg",{class:"w-5 h-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1),n("span",{class:"text-body"},"Carteira",-1)])]),_:1}),i(a,{to:"/contracts",class:"flex items-center gap-2 px-4 py-2 bg-surface-elevated hover:bg-surface-alt rounded-lg text-sm font-medium transition-colors"},{default:v(()=>[...t[18]||(t[18]=[n("svg",{class:"w-5 h-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),n("span",{class:"text-body"},"Contratos",-1)])]),_:1})])):d("",!0)]),_:1})]),n("section",K,[n("div",W,[t[19]||(t[19]=n("h2",{class:"text-sm font-medium text-muted"},"Filtros",-1)),n("button",{class:"px-2 py-1 bg-surface-elevated hover:bg-surface-alt text-muted rounded text-xs transition-colors",onClick:t[1]||(t[1]=e=>nt.value=!0)}," + Categoria ")]),n("div",X,[n("div",null,[m(n("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>st.value.category=e),class:"w-full px-2 py-1.5 bg-surface-elevated border border-muted-border rounded text-xs text-body focus:outline-none focus:border-accent transition-colors"},[t[20]||(t[20]=n("option",{value:""},"Todas categorias",-1)),(k(!0),r(c,null,p(x(ot),e=>(k(),r("option",{key:e.value,value:e.value},u(e.label),9,Y))),128))],512),[[g,st.value.category]])]),n("div",null,[m(n("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>st.value.budget=e),class:"w-full px-2 py-1.5 bg-surface-elevated border border-muted-border rounded text-xs text-body focus:outline-none focus:border-accent transition-colors"},[...t[21]||(t[21]=[f('<option value="" data-v-74970164>Qualquer or√ßamento</option><option value="500" data-v-74970164>At√© R$ 500</option><option value="1000" data-v-74970164>At√© R$ 1.000</option><option value="5000" data-v-74970164>At√© R$ 5.000</option><option value="10000" data-v-74970164>At√© R$ 10.000</option>',5)])],512),[[g,st.value.budget]])]),n("div",null,[m(n("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>st.value.deadline=e),class:"w-full px-2 py-1.5 bg-surface-elevated border border-muted-border rounded text-xs text-body focus:outline-none focus:border-accent transition-colors"},[...t[22]||(t[22]=[f('<option value="" data-v-74970164>Qualquer prazo</option><option value="7" data-v-74970164>At√© 7 dias</option><option value="15" data-v-74970164>At√© 15 dias</option><option value="30" data-v-74970164>At√© 30 dias</option><option value="60" data-v-74970164>At√© 60 dias</option>',5)])],512),[[g,st.value.deadline]])]),n("div",null,[m(n("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>st.value.status=e),class:"w-full px-2 py-1.5 bg-surface-elevated border border-muted-border rounded text-xs text-body focus:outline-none focus:border-accent transition-colors"},[...t[23]||(t[23]=[n("option",{value:""},"Todos status",-1),n("option",{value:"open"},"Aberto",-1),n("option",{value:"in_progress"},"Em andamento",-1),n("option",{value:"completed"},"Conclu√≠do",-1)])],512),[[g,st.value.status]])])]),dt.value.length?(k(),r("div",Z," Sugest√£o: "+u(dt.value[dt.value.length-1].name)+" aguardando valida√ß√£o. ",1)):d("",!0),n("div",{class:"mt-2 flex justify-end gap-1"},[n("button",{onClick:kt,class:"cta-ghost"}," Limpar filtros "),n("button",{onClick:yt,class:"cta-link"}," Aplicar filtros ")])]),et.value?(k(),r("div",ee,[...t[24]||(t[24]=[n("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold mx-auto"},null,-1),n("p",{class:"mt-4 text-muted"},"Carregando projetos...",-1)])])):0===ft.value.length?(k(),r("div",te,[...t[25]||(t[25]=[n("svg",{class:"w-16 h-16 text-muted mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),n("p",{class:"text-muted"},"Nenhum projeto encontrado com os filtros atuais",-1)])])):(k(),r("div",ae,[n("div",le,[(k(!0),r(c,null,p(ft.value,e=>{var l,o;return k(),r("div",{key:e.id,class:w(["auction-card-modern group transform transition-all duration-300 hover:scale-105 hover:shadow-2xl",(null==(l=Dt(e))?void 0:l.hours)<=24?"ring-2 ring-[#D4AF37] ring-opacity-50 animate-pulse":""])},[n("div",oe,[_t(e)?(k(),r("img",{key:0,src:_t(e),alt:e.title,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,se)):(k(),r("div",re,[...t[26]||(t[26]=[n("svg",{class:"w-20 h-20 text-[#D4AF37]/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])])),t[29]||(t[29]=n("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"},null,-1)),n("div",ne,[n("span",{class:w(["px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide backdrop-blur-sm","open"===e.status?"bg-emerald-500/90 text-white":"in_progress"===e.status?"bg-amber-500/90 text-white":"bg-gray-500/90 text-white"])},u((o=e.status,{open:"Aberto",in_progress:"Em andamento",completed:"Concluido",cancelled:"Cancelado"}[o]||o)),3),Dt(e)?(k(),r("div",{key:0,class:w(["flex items-center gap-2 px-3 py-1.5 rounded-full backdrop-blur-sm text-white font-bold text-sm",Dt(e).bgClass])},[t[27]||(t[27]=n("svg",{class:"w-4 h-4 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20"},[n("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),C(" "+u(Dt(e).text),1)],2)):d("",!0)]),n("div",ie,[n("div",de,[t[28]||(t[28]=n("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})],-1)),C(" "+u(Ft(e))+" Lance(s) ",1)])])]),n("div",ue,[n("span",ce,u(jt(e.category)),1),n("p",pe,[t[30]||(t[30]=C(" Contratante: ",-1)),n("span",ve,u(e.client_name||"Contratante"),1)]),i(a,{to:`/projects/${e.id}`,class:"block text-lg font-bold text-[#F5F5F5] hover:text-[#D4AF37] transition-colors line-clamp-2 mb-3 leading-tight"},{default:v(()=>[C(u(e.title),1)]),_:2},1032,["to"]),n("p",be,u(e.description),1),n("div",me,[n("div",ge,[t[31]||(t[31]=n("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Orcamento",-1)),n("p",xe,u(wt(e.budget)),1)]),n("div",fe,[t[32]||(t[32]=n("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Prazo",-1)),n("p",he,u(Ct(e.deadline)),1)]),n("div",ye,[t[33]||(t[33]=n("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Propostas",-1)),n("p",ke,u(Ft(e)),1)]),n("div",we,[t[34]||(t[34]=n("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Menor",-1)),n("p",{class:w(["text-base font-bold",Vt(e)?"text-emerald-400":"text-[#8A8A8A]"])},u(Vt(e)?wt(Vt(e)):"√î√á√∂"),3)])]),n("div",Ae,[n("div",Ce,[n("div",je,[n("span",_e,u((e.client_name||"C")[0].toUpperCase()),1)]),n("div",null,[n("p",Fe,u(e.client_name||"Contratante"),1),n("p",Ve,u(At(e.created_at)),1)])]),n("div",De,[Ke.value?(k(),r("button",{key:0,type:"button",class:"cta-bid",onClick:t=>(e=>{Ke.value&&(ct.value=e,pt.value={amount:null,delivery_time:null,proposal:""},ut.value=!0)})(e)}," Dar lance ",8,$e)):d("",!0),i(a,{to:`/projects/${e.id}`,class:"cta-view"},{default:v(()=>[C(u(Ke.value?"Detalhes":"Ver"),1)]),_:1},8,["to"])])])])],2)}),128))])])),ft.value.length>0?(k(),r("div",ze,[n("nav",Be,[n("button",{onClick:t[6]||(t[6]=e=>at.value--),disabled:1===at.value,class:"pagination-button rounded-l-md"}," Anterior ",8,Me),n("span",Ne," Pagina "+u(at.value),1),n("button",{onClick:t[7]||(t[7]=e=>at.value++),disabled:ft.value.length<lt.value,class:"pagination-button rounded-r-md"}," Proxima ",8,Le)])])):d("",!0)])]),i(b,{name:"fade"},{default:v(()=>[nt.value?(k(),r("div",{key:0,class:"modal-overlay",onClick:j($t,["self"])},[n("div",Pe,[n("div",{class:"flex items-center justify-between mb-4"},[t[35]||(t[35]=n("div",null,[n("p",{class:"text-sm text-muted"},"+ Categoria"),n("h3",{class:"text-xl font-semibold"},"Sugerir nova categoria")],-1)),n("button",{class:"cta-ghost",onClick:$t},"Fechar")]),n("div",He,[n("div",null,[t[36]||(t[36]=n("label",{class:"filter-label"},"Nome",-1)),m(n("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>it.value.name=e),type:"text",class:"filter-input",placeholder:"Ex: IA Generativa"},null,512),[[_,it.value.name]])]),n("div",null,[t[37]||(t[37]=n("label",{class:"filter-label"},"Descricao",-1)),m(n("textarea",{"onUpdate:modelValue":t[9]||(t[9]=e=>it.value.description=e),rows:"3",class:"filter-input",placeholder:"Conte rapidamente o que engloba a categoria"},null,512),[[_,it.value.description]])])]),n("div",{class:"mt-6 flex justify-end gap-2"},[n("button",{class:"cta-ghost",onClick:$t},"Cancelar"),n("button",{class:"cta-link",onClick:zt},"Enviar para validacao")])])])):d("",!0)]),_:1}),i(b,{name:"fade"},{default:v(()=>{var e;return[ut.value?(k(),r("div",{key:0,class:"modal-overlay",onClick:j(Bt,["self"])},[n("div",Ee,[n("div",{class:"flex items-center justify-between mb-4"},[t[38]||(t[38]=n("div",null,[n("p",{class:"text-sm text-muted"},"Enviar proposta"),n("h3",{class:"text-xl font-semibold"},"Lance rapido no leilao")],-1)),n("button",{class:"cta-ghost",onClick:Bt},"Fechar")]),n("div",Se,[n("div",Re,[t[39]||(t[39]=n("p",{class:"text-sm text-[#8A8A8A] uppercase tracking-wide"},"Projeto",-1)),n("p",Ue,u(null==(e=ct.value)?void 0:e.title),1)]),n("div",null,[t[40]||(t[40]=n("label",{class:"filter-label"},"Valor do lance (R$)",-1)),m(n("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>pt.value.amount=e),type:"number",min:"1",class:"filter-input",placeholder:"0,00"},null,512),[[_,pt.value.amount,void 0,{number:!0}]])]),n("div",null,[t[41]||(t[41]=n("label",{class:"filter-label"},"Prazo (dias)",-1)),m(n("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>pt.value.delivery_time=e),type:"number",min:"1",class:"filter-input",placeholder:"7"},null,512),[[_,pt.value.delivery_time,void 0,{number:!0}]])]),n("div",null,[t[42]||(t[42]=n("label",{class:"filter-label"},"Proposta",-1)),m(n("textarea",{"onUpdate:modelValue":t[12]||(t[12]=e=>pt.value.proposal=e),rows:"4",class:"filter-input proposal-highlight",placeholder:"Descreva sua proposta com clareza"},null,512),[[_,pt.value.proposal]])])]),n("div",Ie,[n("button",{class:"cta-ghost",onClick:Bt},"Cancelar"),n("button",{class:"cta-link",disabled:vt.value,onClick:Mt},u(vt.value?"Enviando...":"Enviar lance"),9,qe)])])])):d("",!0)]}),_:1})])}}},[["__scopeId","data-v-74970164"]]);export{Te as default};
