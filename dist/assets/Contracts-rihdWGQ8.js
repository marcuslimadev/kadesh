import{a as t}from"./index-FOjKMSjo.js";import{r as e,o as a,a as s,e as r,F as n,l,g as o,b as d,h as i,t as c,i as u,p as m}from"./vue-NU_yXd1p.js";import"./utils-CeLII1lI.js";const p={class:"min-h-screen bg-page py-8"},g={class:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},x={key:0,class:"bg-surface rounded-lg p-12 text-center shadow-sm"},v={key:1},y={key:0,class:"bg-surface rounded-lg p-10 text-center shadow-sm"},b={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},f={class:"flex items-start justify-between"},h={class:"text-lg font-semibold text-heading"},C={class:"text-sm text-gray-500"},w={class:"mt-4 grid grid-cols-2 gap-4 text-sm"},_={class:"font-medium text-heading"},j={class:"font-medium text-heading"},k={class:"font-medium text-heading"},B={class:"font-medium text-heading"},L={__name:"Contracts",setup(L){const R=e(!0),A=e([]);function D(t){return t?new Date(t).toLocaleDateString("pt-BR"):"-"}async function N(){R.value=!0;try{const{data:e}=await t.get("/api/contracts");A.value=(null==e?void 0:e.data)||[]}finally{R.value=!1}}return a(N),(t,e)=>{const a=o("router-link");return d(),s("div",p,[r("div",g,[r("div",{class:"mb-6 flex items-center justify-between"},[e[0]||(e[0]=r("div",null,[r("h1",{class:"text-2xl font-bold text-heading"},"Meus Contratos"),r("p",{class:"text-body"},"Acompanhe seus contratos como Contratante ou Prestador")],-1)),r("button",{onClick:N,class:"px-4 py-2 border rounded-lg text-sm hover:bg-gray-100"},"Atualizar")]),R.value?(d(),s("div",x,[...e[1]||(e[1]=[r("div",{class:"inline-flex h-12 w-12 items-center justify-center rounded-full border-4 border-amber-100 border-t-amber-600 animate-spin"},null,-1),r("p",{class:"mt-3 text-body"},"Carregando contratos...",-1)])])):(d(),s("div",v,[0===A.value.length?(d(),s("div",y,[...e[2]||(e[2]=[r("p",{class:"text-body"},"Nenhum contrato encontrado.",-1)])])):(d(),s("div",b,[(d(!0),s(n,null,l(A.value,t=>{return d(),s("div",{key:t.id,class:"bg-surface rounded-lg p-5 shadow-sm border border-gray-100"},[r("div",f,[r("div",null,[r("h3",h,c(t.project_title),1),r("p",C,"Contrato #"+c(t.id)+" • "+c((l=t.status,{in_progress:"Em andamento",completed:"Concluído",cancelled:"Cancelado"}[l]||l)),1)]),i(a,{to:{name:"contract-detail",params:{id:t.id}},class:"text-sm text-primary-600 hover:text-primary-700"},{default:u(()=>[...e[3]||(e[3]=[m(" Ver detalhes ",-1)])]),_:1},8,["to"])]),r("div",w,[r("div",null,[e[4]||(e[4]=r("p",{class:"text-gray-500"},"Contratante",-1)),r("p",_,c(t.client_name),1)]),r("div",null,[e[5]||(e[5]=r("p",{class:"text-gray-500"},"Prestador",-1)),r("p",j,c(t.provider_name),1)]),r("div",null,[e[6]||(e[6]=r("p",{class:"text-gray-500"},"Orçamento",-1)),r("p",k,c((n=t.project_budget,Number(n||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}))),1)]),r("div",null,[e[7]||(e[7]=r("p",{class:"text-gray-500"},"Criado em",-1)),r("p",B,c(D(t.created_at)),1)])])]);var n,l}),128))]))]))])])}}};export{L as default};
