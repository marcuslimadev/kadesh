import{L as e,r as a,c as r,a as s,e as o,h as t,i as l,g as n,m as d,q as i,p as m,l as c,B as u,C as p,n as f,t as x,M as w,N as b,u as v,b as y,f as h}from"./vue-Cs7imW6x.js";import{u as g,l as k}from"./index-CmAi4J-F.js";import"./utils-CeLII1lI.js";const C={class:"min-h-screen bg-page flex flex-col justify-center py-12 sm:px-6 lg:px-8 transition-all duration-1000"},M={class:"sm:mx-auto sm:w-full sm:max-w-md"},P=["src"],j={class:"mt-2 text-center text-sm text-body"},q={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},T={class:"bg-surface/80 backdrop-blur-sm py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100"},V={class:"mt-1"},z={key:0,class:"mt-1 text-sm text-red-600"},B={class:"mt-1"},L={key:0,class:"mt-1 text-sm text-red-600"},A={class:"mt-1 relative"},E=["type"],N={key:0,class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},S={key:1,class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},U={key:0,class:"mt-1 text-sm text-red-600"},_={key:0,class:"mt-2"},F={class:"flex items-center gap-2"},J={class:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden"},$={class:"mt-1"},D=["type"],H={key:0,class:"mt-1 text-sm text-red-600"},K={class:"flex items-start"},O={class:"flex items-center h-5"},R={class:"ml-3 text-sm"},Z={key:0,class:"mt-1 text-red-600"},G={key:0,class:"rounded-md bg-red-50 p-4"},I={class:"flex"},Q={class:"ml-3"},W={class:"text-sm text-red-700"},X=["disabled"],Y={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},ee={__name:"Register",setup(ee){const ae=v(),re=g(),se=e({name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}),oe=e({name:"",email:"",password:"",confirmPassword:"",acceptTerms:"",general:""}),te=a(!1),le=a(!1),ne=r(()=>{const e=se.password;if(e.length<6)return"weak";if(e.length<10)return"medium";const a=[/[a-z]/.test(e),/[A-Z]/.test(e),/\d/.test(e),/[!@#$%^&*(),.?":{}|<>]/.test(e)].filter(Boolean).length;return a>=3?"strong":a>=2?"medium":"weak"}),de=async()=>{if((()=>{let e=!0;return Object.keys(oe).forEach(e=>oe[e]=""),se.name.trim()?se.name.trim().length<3&&(oe.name="Nome deve ter pelo menos 3 caracteres",e=!1):(oe.name="Nome Ã© obrigatÃ³rio",e=!1),se.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(se.email)||(oe.email="Email invÃ¡lido",e=!1):(oe.email="Email Ã© obrigatÃ³rio",e=!1),se.password?se.password.length<6&&(oe.password="Senha deve ter pelo menos 6 caracteres",e=!1):(oe.password="Senha Ã© obrigatÃ³ria",e=!1),se.confirmPassword?se.password!==se.confirmPassword&&(oe.confirmPassword="As senhas nÃ£o coincidem",e=!1):(oe.confirmPassword="ConfirmaÃ§Ã£o de senha Ã© obrigatÃ³ria",e=!1),se.acceptTerms||(oe.acceptTerms="VocÃª deve aceitar os termos de uso",e=!1),e})()){le.value=!0;try{const e=await re.register({name:se.name.trim(),email:se.email.trim().toLowerCase(),password:se.password});e.success?ae.push("/lobby"):oe.general=e.error}catch(e){oe.general="Erro ao criar conta. Tente novamente."}finally{le.value=!1}}};return(e,a)=>{const r=n("router-link");return y(),s("div",C,[o("div",M,[t(r,{to:"/",class:"flex justify-center"},{default:l(()=>[o("img",{src:h(k),alt:"Kadesh",class:"h-32 w-32 object-contain"},null,8,P)]),_:1}),a[8]||(a[8]=o("h2",{class:"mt-6 text-center text-3xl font-extrabold text-heading"}," Crie sua conta ",-1)),o("p",j,[a[7]||(a[7]=d(" JÃ¡ tem uma conta? ",-1)),t(r,{to:"/login",class:"font-medium text-amber-600 hover:text-amber-700 transition-colors duration-300"},{default:l(()=>[...a[6]||(a[6]=[d(" FaÃ§a login ",-1)])]),_:1})])]),o("div",q,[o("div",T,[a[18]||(a[18]=i('<div class="mb-6 bg-gradient-to-r from-amber-50 via-yellow-50 to-amber-50 border border-amber-200 rounded-xl p-4 shadow-sm"><div class="flex items-start"><div class="flex-shrink-0"><svg class="h-5 w-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="ml-3"><p class="text-sm text-amber-900"><strong>âœ¨ Novidade!</strong> VocÃª pode alternar entre Contratante e Prestador a qualquer momento usando o switch &quot;Ver como&quot; apÃ³s o login. ðŸ”„ </p></div></div></div>',1)),o("form",{onSubmit:m(de,["prevent"]),class:"space-y-6"},[o("div",null,[a[9]||(a[9]=o("label",{for:"name",class:"block text-sm font-medium text-body"}," Nome completo ",-1)),o("div",V,[u(o("input",{id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>se.name=e),type:"text",autocomplete:"name",required:"",class:f(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",{"border-red-500":oe.name}]),placeholder:"JoÃ£o Silva"},null,2),[[p,se.name]]),oe.name?(y(),s("p",z,x(oe.name),1)):c("",!0)])]),o("div",null,[a[10]||(a[10]=o("label",{for:"email",class:"block text-sm font-medium text-body"}," Email ",-1)),o("div",B,[u(o("input",{id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>se.email=e),type:"email",autocomplete:"email",required:"",class:f(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",{"border-red-500":oe.email}]),placeholder:"seu@email.com"},null,2),[[p,se.email]]),oe.email?(y(),s("p",L,x(oe.email),1)):c("",!0)])]),o("div",null,[a[13]||(a[13]=o("label",{for:"password",class:"block text-sm font-medium text-body"}," Senha ",-1)),o("div",A,[u(o("input",{id:"password","onUpdate:modelValue":a[2]||(a[2]=e=>se.password=e),type:te.value?"text":"password",autocomplete:"new-password",required:"",class:f(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm pr-10",{"border-red-500":oe.password}]),placeholder:"MÃ­nimo 6 caracteres"},null,10,E),[[w,se.password]]),o("button",{type:"button",onClick:a[3]||(a[3]=e=>te.value=!te.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[te.value?(y(),s("svg",S,[...a[12]||(a[12]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(y(),s("svg",N,[...a[11]||(a[11]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))]),oe.password?(y(),s("p",U,x(oe.password),1)):c("",!0)]),se.password?(y(),s("div",_,[o("div",F,[o("div",J,[o("div",{class:f(["h-full transition-all","weak"===ne.value?"w-1/3 bg-red-500":"","medium"===ne.value?"w-2/3 bg-yellow-500":"","strong"===ne.value?"w-full bg-green-500":""])},null,2)]),o("span",{class:f(["text-xs font-medium","weak"===ne.value?"text-red-600":"","medium"===ne.value?"text-yellow-600":"","strong"===ne.value?"text-green-600":""])},x("weak"===ne.value?"Fraca":"medium"===ne.value?"MÃ©dia":"Forte"),3)])])):c("",!0)]),o("div",null,[a[14]||(a[14]=o("label",{for:"confirmPassword",class:"block text-sm font-medium text-body"}," Confirmar senha ",-1)),o("div",$,[u(o("input",{id:"confirmPassword","onUpdate:modelValue":a[4]||(a[4]=e=>se.confirmPassword=e),type:te.value?"text":"password",autocomplete:"new-password",required:"",class:f(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",{"border-red-500":oe.confirmPassword}]),placeholder:"Digite a senha novamente"},null,10,D),[[w,se.confirmPassword]]),oe.confirmPassword?(y(),s("p",H,x(oe.confirmPassword),1)):c("",!0)])]),o("div",K,[o("div",O,[u(o("input",{id:"terms","onUpdate:modelValue":a[5]||(a[5]=e=>se.acceptTerms=e),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[b,se.acceptTerms]])]),o("div",R,[a[15]||(a[15]=o("label",{for:"terms",class:"font-medium text-body"},[d(" Aceito os "),o("a",{href:"#",class:"text-primary-600 hover:text-primary-500"},"termos de uso"),d(" e a "),o("a",{href:"#",class:"text-primary-600 hover:text-primary-500"},"polÃ­tica de privacidade")],-1)),oe.acceptTerms?(y(),s("p",Z,x(oe.acceptTerms),1)):c("",!0)])]),oe.general?(y(),s("div",G,[o("div",I,[a[16]||(a[16]=o("div",{class:"flex-shrink-0"},[o("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),o("div",Q,[o("p",W,x(oe.general),1)])])])):c("",!0),o("div",null,[o("button",{type:"submit",disabled:le.value,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-lg text-sm font-semibold text-slate-900 bg-gradient-to-r from-amber-300 via-yellow-300 to-amber-300 hover:from-amber-400 hover:via-yellow-400 hover:to-amber-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-500 transform hover:scale-105"},[le.value?(y(),s("svg",Y,[...a[17]||(a[17]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):c("",!0),d(" "+x(le.value?"Criando conta...":"Criar conta"),1)],8,X)])],32)])])])}}};export{ee as default};
