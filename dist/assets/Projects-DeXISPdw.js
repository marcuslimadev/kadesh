import{g as e,a as t,b as o,e as r,j as a,h as s,i as l,p as n,t as i,F as d,l as c,r as u,L as p,c as m,o as g,v as b,m as x,C as v,D as y,K as h,q as f,u as k}from"./vue-NU_yXd1p.js";import{_ as j}from"./StatusBadge-BUfCr2p2.js";import{f as w}from"./utils-CeLII1lI.js";import{l as C}from"./index-Ctu0mvSg.js";import{_}from"./Pagination-CPcQ3YY2.js";import{p as M}from"./projectService-B8NrQHtu.js";import"./index-FOjKMSjo.js";const R={class:"bg-[#161821] rounded-lg shadow-lg hover:shadow-[0_4px_20px_rgba(212,175,55,0.25)] transition-all duration-300 overflow-hidden border border-[rgba(212,175,55,0.24)] hover:border-[#D4AF37]"},A={class:"p-6"},D={class:"flex items-start justify-between mb-4"},B={class:"flex-1"},q={class:"flex items-center gap-2 mt-2"},F={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-[rgba(212,175,55,0.15)] text-[#D4AF37] border border-[#D4AF37]"},V={key:0,class:"ml-4"},L={class:"text-body text-sm line-clamp-3 mb-4"},$={key:0,class:"flex flex-wrap gap-2 mb-4"},z={key:0,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-[#1A1A1A] text-body border border-[rgba(255,255,255,0.08)]"},P={class:"flex items-center justify-between pt-4 border-t border-[rgba(255,255,255,0.08)]"},T={class:"flex items-center gap-4"},O={class:"flex items-center text-sm text-body"},H={class:"font-semibold text-[#D4AF37]"},E={key:0,class:"flex items-center text-sm text-body"},I={key:0,class:"flex items-center text-sm text-body"},U={class:"px-6 py-3 bg-[#0F1117] border-t border-[rgba(212,175,55,0.24)]"},N={__name:"ProjectCard",props:{project:{type:Object,required:!0},showBidCount:{type:Boolean,default:!0}},setup:u=>(p,m)=>{const g=e("router-link");return o(),t("div",R,[r("div",A,[r("div",D,[r("div",B,[s(g,{to:`/projects/${u.project.id}`,class:"text-lg font-semibold text-heading hover:text-[#D4AF37] transition-colors"},{default:l(()=>[n(i(u.project.title),1)]),_:1},8,["to"]),r("div",q,[r("span",F,i(u.project.category),1),s(j,{status:u.project.status},null,8,["status"])])]),u.project.featured?(o(),t("div",V,[...m[0]||(m[0]=[r("svg",{class:"w-6 h-6 text-[#D4AF37]",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)])])):a("",!0)]),r("p",L,i(u.project.description),1),u.project.skills_required&&u.project.skills_required.length?(o(),t("div",$,[(o(!0),t(d,null,c(u.project.skills_required.slice(0,5),e=>(o(),t("span",{key:e,class:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-[#1A1A1A] text-body border border-[rgba(255,255,255,0.08)]"},i(e),1))),128)),u.project.skills_required.length>5?(o(),t("span",z," +"+i(u.project.skills_required.length-5),1)):a("",!0)])):a("",!0),r("div",P,[r("div",T,[r("div",O,[m[1]||(m[1]=r("svg",{class:"w-5 h-5 mr-1 text-[#D4AF37]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),r("span",H,i((x=u.project.budget,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x))),1)]),u.project.deadline?(o(),t("div",E,[m[2]||(m[2]=r("svg",{class:"w-5 h-5 mr-1 text-[#D4AF37]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),n(" "+i((b=u.project.deadline,b?w(new Date(b),"dd/MM/yyyy",{locale:C}):"")),1)])):a("",!0)]),u.showBidCount&&void 0!==u.project.bid_count?(o(),t("div",I,[m[3]||(m[3]=r("svg",{class:"w-5 h-5 mr-1 text-[#D4AF37]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})],-1)),n(" "+i(u.project.bid_count)+" "+i(1===u.project.bid_count?"proposta":"propostas"),1)])):a("",!0)])]),r("div",U,[s(g,{to:`/projects/${u.project.id}`,class:"block w-full text-center px-4 py-2 bg-[#D4AF37] text-[#0F1117] text-sm font-semibold rounded-md hover:bg-[#E5C04A] transition-colors"},{default:l(()=>[...m[4]||(m[4]=[n(" Ver detalhes ",-1)])]),_:1},8,["to"])])]);var b,x}},S={class:"min-h-screen bg-page py-8"},W={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},K={class:"bg-surface rounded-lg shadow-sm p-6 mb-6"},G={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},J={class:"md:col-span-2"},Q={key:0,class:"mt-4 flex items-center gap-2"},X={key:0,class:"flex justify-center items-center py-12"},Y={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8"},Z={key:2,class:"bg-surface rounded-lg shadow-sm p-12 text-center"},ee={__name:"Projects",setup(e){k();const s=b(),l=u([]),j=u(!1),w=u(1),C=u(1),R=u(12),A=p({search:"",category:"",budgetRange:""});let D=null;const B=m(()=>A.search||A.category||A.budgetRange),q=()=>{D&&clearTimeout(D),D=setTimeout(()=>{F()},500)},F=()=>{w.value=1,z()},V=e=>{A[e]="",F()},L=()=>{A.search="",A.category="",A.budgetRange="",F()},$=e=>{w.value=e,z(),window.scrollTo({top:0,behavior:"smooth"})},z=async()=>{j.value=!0;try{const e={page:w.value,per_page:R.value,status:"open"};if(A.search&&(e.search=A.search),A.category&&(e.category=A.category),A.budgetRange){const[t,o]=A.budgetRange.split("-");t&&(e.budget_min=t),o&&(e.budget_max=o)}const t=await M.getProjects(e);t.success?(l.value=t.data.projects||[],C.value=t.data.total_pages||1,w.value=t.data.current_page||1):(l.value=[],C.value=1)}catch(e){console.error("Error loading projects:",e),l.value=[],C.value=1}finally{j.value=!1}};return g(()=>{s.query.search&&(A.search=s.query.search),s.query.category&&(A.category=s.query.category),s.query.budget&&(A.budgetRange=s.query.budget),s.query.page&&(w.value=parseInt(s.query.page)),z()}),(e,s)=>(o(),t("div",S,[r("div",W,[s[19]||(s[19]=r("div",{class:"mb-8"},[r("h1",{class:"text-3xl font-bold text-heading mb-2"},"Projetos Disponíveis"),r("p",{class:"text-body"},"Encontre oportunidades e faça propostas")],-1)),r("div",K,[r("div",G,[r("div",J,[s[6]||(s[6]=r("label",{for:"search",class:"block text-sm font-medium text-body mb-1"}," Buscar ",-1)),v(r("input",{id:"search","onUpdate:modelValue":s[0]||(s[0]=e=>A.search=e),type:"text",placeholder:"Digite palavras-chave...",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",onInput:q},null,544),[[y,A.search]])]),r("div",null,[s[8]||(s[8]=r("label",{for:"category",class:"block text-sm font-medium text-body mb-1"}," Categoria ",-1)),v(r("select",{id:"category","onUpdate:modelValue":s[1]||(s[1]=e=>A.category=e),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",onChange:F},[...s[7]||(s[7]=[f('<option value="">Todas</option><option value="Desenvolvimento Web">Desenvolvimento Web</option><option value="Design">Design</option><option value="Marketing">Marketing</option><option value="Redação">Redação</option><option value="Mobile">Mobile</option><option value="Consultoria">Consultoria</option><option value="Outros">Outros</option>',8)])],544),[[h,A.category]])]),r("div",null,[s[10]||(s[10]=r("label",{for:"budget",class:"block text-sm font-medium text-body mb-1"}," Orçamento ",-1)),v(r("select",{id:"budget","onUpdate:modelValue":s[2]||(s[2]=e=>A.budgetRange=e),class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",onChange:F},[...s[9]||(s[9]=[f('<option value="">Todos</option><option value="0-1000">Até R$ 1.000</option><option value="1000-5000">R$ 1.000 - R$ 5.000</option><option value="5000-10000">R$ 5.000 - R$ 10.000</option><option value="10000-">Acima de R$ 10.000</option>',5)])],544),[[h,A.budgetRange]])])]),B.value?(o(),t("div",Q,[s[14]||(s[14]=r("span",{class:"text-sm text-body"},"Filtros ativos:",-1)),A.search?(o(),t("button",{key:0,onClick:s[3]||(s[3]=e=>V("search")),class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800"},[n(' Busca: "'+i(A.search)+'" ',1),s[11]||(s[11]=r("svg",{class:"ml-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1))])):a("",!0),A.category?(o(),t("button",{key:1,onClick:s[4]||(s[4]=e=>V("category")),class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800"},[n(i(A.category)+" ",1),s[12]||(s[12]=r("svg",{class:"ml-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1))])):a("",!0),A.budgetRange?(o(),t("button",{key:2,onClick:s[5]||(s[5]=e=>V("budgetRange")),class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800"},[...s[13]||(s[13]=[n(" Orçamento ",-1),r("svg",{class:"ml-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):a("",!0),r("button",{onClick:L,class:"text-sm text-primary-600 hover:text-primary-700 font-medium"}," Limpar todos ")])):a("",!0)]),j.value?(o(),t("div",X,[...s[15]||(s[15]=[r("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)])])):l.value.length>0?(o(),t("div",Y,[(o(!0),t(d,null,c(l.value,e=>(o(),x(N,{key:e.id,project:e},null,8,["project"]))),128))])):(o(),t("div",Z,[s[16]||(s[16]=r("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),s[17]||(s[17]=r("h3",{class:"mt-2 text-lg font-medium text-heading"},"Nenhum projeto encontrado",-1)),s[18]||(s[18]=r("p",{class:"mt-1 text-sm text-gray-500"},"Tente ajustar os filtros ou fazer uma nova busca.",-1)),r("div",{class:"mt-6"},[r("button",{onClick:L,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700"}," Limpar filtros ")])])),!j.value&&C.value>1?(o(),x(_,{key:3,"current-page":w.value,"total-pages":C.value,onPageChange:$},null,8,["current-page","total-pages"])):a("",!0)])]))}};export{ee as default};
