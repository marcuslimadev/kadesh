import{r as e,c as t,o as a,a as l,j as o,b as s,e as r,F as n,l as i,m as d,t as u,i as c,g as p,n as v,s as m,B as b,J as g,h as f,T as x,p as h,C as k,K as y,f as w,q as C,u as A,k as _,D as j}from"./vue-NU_yXd1p.js";import{_ as F,a as M,u as D,b as B}from"./index-BXuC9o97.js";import{p as V}from"./projectService-ByVQH1Y8.js";import{b as $}from"./bidService-Cgtum54f.js";import"./utils-CeLII1lI.js";const z={class:"flex items-center justify-between text-xs font-medium text-muted"},P={class:"ad-title"},S={class:"ad-description"},H=["href","onClick"],L=F({__name:"AdRail",props:{position:{type:String,default:"left"}},setup(m){const b=m,g=e(!1),f=e([]),x=t(()=>"right"===b.position?"right":"left"),h={left:[{id:"mock-left-1",title:"Impulsione seu Projeto",description:"Destaque seu projeto e encontre os melhores profissionais.",link_url:"/ads"},{id:"mock-left-2",title:"Seja um Prestador Premium",description:"Aumente sua visibilidade e ganhe mais propostas.",link_url:"/ads"}],right:[{id:"mock-right-1",title:"Suporte 24/7",description:"Nossa equipe estÃ¡ sempre disponÃ­vel para ajudar.",link_url:"/ads"},{id:"mock-right-2",title:"Pagamentos 100% Seguros",description:"TransaÃ§Ãµes protegidas e fluxo com escrow.",link_url:"/ads"}]};async function k(e){try{if(String(e).startsWith("mock-"))return;await M.post(`/api/advertisements/${e}/click`)}catch(t){console.error("Erro ao registrar clique:",t)}}return a(()=>{!async function(){try{const e=await M.get("/api/advertisements",{params:{position:x.value}}),t=Array.isArray(e.data)?e.data:[];f.value=t.length?t:h[x.value]||[]}catch(e){console.error("Erro ao carregar anÃºncios:",e),f.value=h[x.value]||[]}}()}),(e,t)=>{const a=p("router-link");return!g.value&&f.value.length>0?(s(),l("aside",{key:0,class:v(["ad-rail","left"===x.value?"ad-rail-left":"ad-rail-right"])},[r("div",z,[t[2]||(t[2]=r("span",{class:"uppercase tracking-wider"},"Patrocinado",-1)),r("button",{class:"text-muted hover:text-heading transition-colors",onClick:t[0]||(t[0]=e=>g.value=!0),title:"Ocultar anÃºncios"},[...t[1]||(t[1]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),(s(!0),l(n,null,i(f.value,e=>(s(),l("div",{key:e.id,class:"ad-card card-premium"},[t[6]||(t[6]=r("div",{class:"ad-badge"},[r("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]),r("span",null,"AnÃºncio")],-1)),r("h4",P,u(e.title),1),r("p",S,u(e.description),1),e.link_url&&e.link_url.startsWith("/")?(s(),d(a,{key:0,to:e.link_url,class:"ad-cta btn-gold",onClick:t=>k(e.id)},{default:c(()=>[...t[3]||(t[3]=[r("span",null,"Saiba mais",-1),r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])]),_:1},8,["to","onClick"])):e.link_url?(s(),l("a",{key:1,href:e.link_url,target:"_blank",rel:"noopener",class:"ad-cta btn-gold",onClick:t=>k(e.id)},[...t[4]||(t[4]=[r("span",null,"Saiba mais",-1),r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])],8,H)):(s(),d(a,{key:2,to:"/ads",class:"ad-cta btn-gold",onClick:t=>k(e.id)},{default:c(()=>[...t[5]||(t[5]=[r("span",null,"Saiba mais",-1),r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)])]),_:1},8,["onClick"]))]))),128))],2)):o("",!0)}}},[["__scopeId","data-v-ad562936"]]),N={class:"lobby-shell py-6 px-4 sm:px-6 lg:px-8"},E={class:"lobby-grid max-w-7xl mx-auto"},R={class:"lobby-main space-y-6"},U={class:"lobby-hero bg-surface rounded-xl p-6"},q={class:"flex items-start justify-between"},I={class:"text-2xl font-bold text-heading mb-2"},O={class:"text-sm text-body"},T={class:"flex gap-3"},G={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},J={class:"flex items-start justify-between mb-3"},W={class:"text-sm text-muted"},Q=["d"],K={class:"text-3xl font-bold text-heading mb-1"},X={class:"text-xs text-muted"},Y={class:"bg-surface rounded-xl p-6 border border-border"},Z={class:"flex items-center justify-between mb-4"},ee={key:0,class:"flex flex-wrap items-center gap-3"},te={class:"bg-surface rounded-xl p-6 border border-border"},ae={class:"flex items-center justify-between mb-5"},le={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},oe=["value"],se={key:0,class:"pending-chip"},re={key:0,class:"card text-center py-12"},ne={key:1,class:"card text-center py-12"},ie={key:2,class:"space-y-6"},de={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ue={class:"relative h-48 overflow-hidden rounded-t-2xl bg-gradient-to-br from-[#1A1A1A] to-[#0F1117]"},ce=["src","alt"],pe={key:1,class:"w-full h-full flex items-center justify-center"},ve={class:"absolute top-3 left-3"},me={key:2,class:"absolute top-3 right-3"},be={class:"absolute bottom-3 left-3"},ge={class:"flex items-center gap-2 px-3 py-1.5 bg-[#D4AF37]/90 backdrop-blur-sm rounded-full text-[#0F1117] font-bold text-sm"},fe={class:"p-5 bg-[#161821] border-x border-b border-[rgba(212,175,55,0.24)] rounded-b-2xl"},xe={class:"inline-block px-3 py-1 bg-[#D4AF37]/10 text-[#D4AF37] text-xs font-semibold rounded-full mb-3"},he={class:"text-xs uppercase tracking-wide text-[#C7C7C7] mb-1"},ke={class:"text-[#F5F5F5] font-semibold"},ye={class:"text-[#C7C7C7] text-sm line-clamp-2 mb-4"},we={class:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4 p-3 bg-[#0F1117] rounded-xl"},Ce={class:"text-center"},Ae={class:"text-base font-bold text-[#D4AF37]"},_e={class:"text-center border-x border-[rgba(212,175,55,0.1)]"},je={class:"text-sm font-semibold text-[#F5F5F5]"},Fe={class:"text-center border-x border-[rgba(212,175,55,0.1)] sm:border-x-0 sm:border-l sm:border-[rgba(212,175,55,0.1)]"},Me={class:"text-base font-bold text-[#F5F5F5]"},De={class:"text-center"},Be={class:"flex items-center justify-between pt-3 border-t border-[rgba(212,175,55,0.1)]"},Ve={class:"flex items-center gap-2"},$e={class:"w-8 h-8 rounded-full bg-[#D4AF37]/20 flex items-center justify-center"},ze={class:"text-[#D4AF37] font-bold text-xs"},Pe={class:"text-xs font-medium text-[#F5F5F5]"},Se={class:"text-xs text-[#8A8A8A]"},He={class:"flex items-center gap-2"},Le=["onClick"],Ne={key:3,class:"flex justify-center"},Ee={class:"inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Re=["disabled"],Ue={class:"pagination-current"},qe=["disabled"],Ie={class:"modal-card"},Oe={class:"space-y-4"},Te={class:"modal-card"},Ge={class:"space-y-4"},Je={class:"p-4 rounded-xl border border-[rgba(212,175,55,0.2)] bg-[#0F1117]"},We={class:"text-lg font-semibold text-heading"},Qe={class:"mt-6 flex justify-end gap-2"},Ke=["disabled"],Xe=F({__name:"AuctionLobby",setup(F){const z=D(),P=A(),S=B(),{currentMode:H}=m(S),Xe=t(()=>"contractor"===H.value),Ye=t(()=>"provider"===H.value),Ze=t(()=>{const e=z.user;return e&&e.name?e.name.split(" ")[0]:"Usuario"}),et=t(()=>`ðŸŽ¯ Lobby do ${Xe.value?"Contratante":"Prestador"} - ${Ze.value}`),tt=t(()=>Xe.value?"Gerencie seus leiloes, monitore os lances e acompanhe o vencedor em tempo real.":"Descubra projetos em aberto, acompanhe disputas e envie lances competitivos instantaneamente."),at=t(()=>{ot.value.length;const e=ot.value.filter(e=>"open"===e.status).length,t=ot.value.filter(e=>e.user_has_bid).length||0,a=ot.value.filter(e=>(e.priority||3)<=2).length;return Xe.value,[{label:"Propostas ativas",value:t,caption:"Gerencie suas propostas com correÃ§Ãµes Ã s propostas ativas",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",iconBg:"bg-amber-500/10",iconColor:"text-amber-500"},{label:"Aguardando lances",value:e,caption:"Lances comuns lanÃ§es, acompanhe o vencedor dos lances",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",iconBg:"bg-blue-500/10",iconColor:"text-blue-500"},{label:"Prioridade alta",value:a,caption:"Contratador seleccionou alta parcticipaÃ§Ã£o na armadura em tempo real",icon:"M13 10V3L4 14h7v7l9-11h-7z",iconBg:"bg-red-500/10",iconColor:"text-red-500"}]}),lt=e(!1),ot=e([]),st=e(1),rt=e(20),nt=V.getCategories(),it=e({category:"",budget:"",deadline:"",status:""}),dt=e(!0),ut=e(!1),ct=e({name:"",description:""}),pt=e([]),vt=e(!1),mt=e(null),bt=e({amount:null,delivery_time:null,proposal:""}),gt=e(!1),ft="kadesh_lobby_filters_contractor",xt="kadesh_lobby_filters_provider",ht=()=>"contractor"===H.value?ft:xt,kt=()=>{if("undefined"!=typeof window)try{const e=localStorage.getItem(ht());if(!e)return;const t=JSON.parse(e);it.value={category:t.category||"",budget:t.budget||"",deadline:t.deadline||"",status:t.status||""}}catch(e){console.warn("Nao foi possivel restaurar filtros do lobby:",e)}},yt=t(()=>{let e=ot.value;return it.value.category&&(e=e.filter(e=>e.category===it.value.category)),it.value.budget&&(e=e.filter(e=>e.budget<=parseInt(it.value.budget))),it.value.status&&(e=e.filter(e=>e.status===it.value.status)),e}),wt=async()=>{var e;lt.value=!0;try{(()=>{var e,t,a,l,o;if("undefined"==typeof window)return;const s=localStorage.getItem("kadesh_token");s&&"undefined"!==s&&"null"!==s?((null==(a=null==(t=null==(e=M)?void 0:e.defaults)?void 0:t.headers)?void 0:a.common)&&(M.defaults.headers.common.Authorization=`Bearer ${s}`,M.defaults.headers.common.Authorization=`Bearer ${s}`),(null==(o=null==(l=M)?void 0:l.defaults)?void 0:o.headers)&&(M.defaults.headers.Authorization=`Bearer ${s}`),console.log("[Lobby] Header Authorization garantido antes de loadProjects")):console.warn("[Lobby] Nenhum token encontrado para setar header")})();const t=Xe.value?"/api/projects/my-projects":"/api/projects",a={per_page:rt.value,page:st.value};it.value.status?a.status=it.value.status:Ye.value&&(a.status="open"),it.value.category&&(a.category=it.value.category),it.value.budget&&(a.budget_max=it.value.budget);const l=await M.get(t,{params:a}),o=Array.isArray(l.data)?l.data:(null==(e=l.data)?void 0:e.projects)||[];ot.value=o}catch(t){console.error("Erro ao carregar projetos:",t),ot.value=[]}finally{lt.value=!1}},Ct=()=>{st.value=1,wt()},At=()=>{it.value={category:"",budget:"",deadline:"",status:""},Ct()},_t=e=>{const t=Number(e||0);return t>=1e6?`R$ ${(t/1e6).toFixed(1)}M`:t>=1e3?`R$ ${(t/1e3).toFixed(1)}k`:`R$ ${t.toFixed(0)}`},jt=e=>{if(!e)return"N/A";const t=new Date(e),a=new Date-t,l=Math.floor(a/864e5);return 0===l?"Hoje":1===l?"Ontem":l<7?`${l}d atras`:t.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})},Ft=e=>{if(!e)return"Sem prazo";const t=new Date(e);return Number.isNaN(t.getTime())?"Sem prazo":t.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})},Mt=e=>{const t=nt.find(t=>t.value===e||t.label===e);return t?t.label:e||"Geral"},Dt=e=>{const t=(e=>e&&Array.isArray(e.attachments)?e.attachments:[])(e),a=t.find(e=>{var t;return null==(t=null==e?void 0:e.mime_type)?void 0:t.startsWith("image/")});return(null==a?void 0:a.file_url)||null},Bt=e=>e?e.bid_count??e.bids_count??0:0,Vt=e=>{if(!e)return null;const t=e.lowest_bid_amount??e.lowest_bid??null;return"number"==typeof t?t:t?parseFloat(t):null},$t=e=>{if(!(null==e?void 0:e.deadline))return null;const t=new Date(e.deadline);if(Number.isNaN(t.getTime()))return null;const a=t-new Date;if(a<=0)return{text:"Prazo encerrado",class:"bg-red-100 text-red-700",bgClass:"bg-red-500/90"};const l=Math.floor(a/6e4),o=Math.floor(l/1440),s=Math.floor(l%1440/60),r=l%60;let n="";n=o>0?`${o}d ${s}h`:s>0?`${s}h ${r}m`:`${r}m`;let i="bg-green-100 text-green-700",d="bg-emerald-500/90";return o<=2&&(i="bg-amber-100 text-amber-700",d="bg-amber-500/90"),s<6&&0===o&&(i="bg-orange-100 text-orange-700",d="bg-orange-500/90"),0===s&&0===o&&(i="bg-red-100 text-red-700",d="bg-red-500/90"),{text:n,class:i,bgClass:d}},zt=()=>{ut.value=!1,ct.value={name:"",description:""}},Pt=()=>{ct.value.name&&(pt.value.push({...ct.value,created_at:new Date}),zt())},St=()=>{vt.value=!1,mt.value=null},Ht=async()=>{var e,t;if(z.isAuthenticated){if(bt.value.amount&&bt.value.delivery_time&&(null==(e=bt.value.proposal)?void 0:e.trim())&&(null==(t=mt.value)?void 0:t.id)){gt.value=!0;try{const e={project_id:mt.value.id,amount:bt.value.amount,delivery_time:bt.value.delivery_time,proposal:bt.value.proposal};(await $.createBid(e)).success&&(await wt(),St())}catch(a){console.error("Erro ao enviar lance rapido:",a)}finally{gt.value=!1}}}else P.push({name:"login",query:{redirect:"/lobby"}})},Lt=()=>{wt()};return a(()=>{kt(),wt(),"undefined"!=typeof window&&window.addEventListener("kadesh:projects-updated",Lt)}),b(H,()=>{kt(),st.value=1,wt()}),b(it,()=>{(()=>{if("undefined"!=typeof window)try{localStorage.setItem(ht(),JSON.stringify(it.value))}catch(e){console.warn("Nao foi possivel salvar filtros do lobby:",e)}})()},{deep:!0}),g(()=>{"undefined"!=typeof window&&window.removeEventListener("kadesh:projects-updated",Lt)}),(e,t)=>{const a=p("router-link");return s(),l("div",N,[r("div",E,[f(L,{position:"left"}),r("div",R,[r("section",U,[r("div",q,[r("div",null,[r("h1",I,u(et.value),1),r("p",O,u(tt.value),1)]),r("div",T,[f(a,{to:"/",class:"px-4 py-2 bg-surface-elevated hover:bg-surface-alt text-body rounded-lg text-sm font-medium transition-colors flex items-center gap-2"},{default:c(()=>[...t[14]||(t[14]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),h(" Voltar para Home ",-1)])]),_:1}),r("button",{class:"px-4 py-2 bg-surface-elevated hover:bg-surface-alt text-body rounded-lg text-sm font-medium transition-colors",onClick:t[0]||(t[0]=e=>dt.value=!dt.value)},u(dt.value?"Esconder acessos":"Mostrar acessos"),1)])])]),r("section",G,[(s(!0),l(n,null,i(at.value,e=>(s(),l("div",{key:e.label,class:"bg-surface rounded-xl p-5 border border-border"},[r("div",J,[r("p",W,u(e.label),1),r("div",{class:v(["w-8 h-8 rounded-lg flex items-center justify-center",e.iconBg])},[(s(),l("svg",{class:v(["w-5 h-5",e.iconColor]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:e.icon},null,8,Q)],2))],2)]),r("p",K,u(e.value),1),r("p",X,u(e.caption),1)]))),128))]),r("section",Y,[r("div",Z,[t[15]||(t[15]=r("div",null,[r("p",{class:"text-sm text-muted"},"Acesso rÃ¡pido"),r("h2",{class:"text-lg font-semibold text-heading"},"Navegue pelo que importa agora")],-1)),r("button",{class:"px-4 py-2 bg-surface-elevated hover:bg-surface-alt text-body rounded-lg text-sm font-medium transition-colors",onClick:t[1]||(t[1]=e=>dt.value=!dt.value)},u(dt.value?"Recolher":"Expandir"),1)]),f(x,{name:"fade"},{default:c(()=>[dt.value?(s(),l("div",ee,[f(a,{to:"/dashboard",class:"flex items-center gap-2 px-4 py-2 bg-surface-elevated hover:bg-surface-alt rounded-lg text-sm font-medium transition-colors"},{default:c(()=>[...t[16]||(t[16]=[r("svg",{class:"w-5 h-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),r("span",{class:"text-body"},"Dashboard",-1)])]),_:1}),Xe.value?(s(),d(a,{key:0,to:"/projects/create",class:"flex items-center gap-2 px-4 py-2 bg-[#D4AF37] hover:bg-[#C5A028] text-[#0F1117] rounded-lg text-sm font-semibold transition-colors"},{default:c(()=>[...t[17]||(t[17]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),r("span",null,"Novo Projeto",-1)])]),_:1})):(s(),d(a,{key:1,to:"/projects",class:"flex items-center gap-2 px-4 py-2 bg-[#D4AF37] hover:bg-[#C5A028] text-[#0F1117] rounded-lg text-sm font-semibold transition-colors"},{default:c(()=>[...t[18]||(t[18]=[r("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),r("span",null,"Explorar Projetos",-1)])]),_:1})),f(a,{to:"/wallet",class:"flex items-center gap-2 px-4 py-2 bg-surface-elevated hover:bg-surface-alt rounded-lg text-sm font-medium transition-colors"},{default:c(()=>[...t[19]||(t[19]=[r("svg",{class:"w-5 h-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1),r("span",{class:"text-body"},"Carteira",-1)])]),_:1}),f(a,{to:"/contracts",class:"flex items-center gap-2 px-4 py-2 bg-surface-elevated hover:bg-surface-alt rounded-lg text-sm font-medium transition-colors"},{default:c(()=>[...t[20]||(t[20]=[r("svg",{class:"w-5 h-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),r("span",{class:"text-body"},"Contratos",-1)])]),_:1})])):o("",!0)]),_:1})]),r("section",te,[r("div",ae,[t[22]||(t[22]=r("div",null,[r("p",{class:"text-sm text-muted"},"Filtros e curadoria"),r("h2",{class:"text-lg font-semibold text-heading"},"Refine o grid do Lobby")],-1)),r("button",{class:"px-4 py-2 bg-[#D4AF37] hover:bg-[#C5A028] text-[#0F1117] rounded-lg text-sm font-semibold transition-colors flex items-center gap-2",onClick:t[2]||(t[2]=e=>ut.value=!0)},[...t[21]||(t[21]=[r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),h(" Nova categoria ",-1)])])]),r("div",le,[r("div",null,[t[24]||(t[24]=r("label",{class:"filter-label"},"Categoria",-1)),k(r("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>it.value.category=e),class:"filter-input"},[t[23]||(t[23]=r("option",{value:""},"Todas",-1)),(s(!0),l(n,null,i(w(nt),e=>(s(),l("option",{key:e.value,value:e.value},u(e.label),9,oe))),128))],512),[[y,it.value.category]])]),r("div",null,[t[26]||(t[26]=r("label",{class:"filter-label"},"Orcamento (Max)",-1)),k(r("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>it.value.budget=e),class:"filter-input"},[...t[25]||(t[25]=[C('<option value="" data-v-6af685fe>Qualquer</option><option value="500" data-v-6af685fe>Ate R$ 500</option><option value="1000" data-v-6af685fe>Ate R$ 1.000</option><option value="5000" data-v-6af685fe>Ate R$ 5.000</option><option value="10000" data-v-6af685fe>Ate R$ 10.000</option>',5)])],512),[[y,it.value.budget]])]),r("div",null,[t[28]||(t[28]=r("label",{class:"filter-label"},"Prazo",-1)),k(r("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>it.value.deadline=e),class:"filter-input"},[...t[27]||(t[27]=[C('<option value="" data-v-6af685fe>Qualquer</option><option value="7" data-v-6af685fe>Ate 7 dias</option><option value="15" data-v-6af685fe>Ate 15 dias</option><option value="30" data-v-6af685fe>Ate 30 dias</option><option value="60" data-v-6af685fe>Ate 60 dias</option>',5)])],512),[[y,it.value.deadline]])]),r("div",null,[t[30]||(t[30]=r("label",{class:"filter-label"},"Status",-1)),k(r("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>it.value.status=e),class:"filter-input"},[...t[29]||(t[29]=[r("option",{value:""},"Todos",-1),r("option",{value:"open"},"Aberto (aceita propostas)",-1),r("option",{value:"in_progress"},"Em andamento",-1),r("option",{value:"completed"},"Concluido",-1)])],512),[[y,it.value.status]])])]),pt.value.length?(s(),l("div",se," Ultima sugestao: "+u(pt.value[pt.value.length-1].name)+" aguardando validacao do ADM. ",1)):o("",!0),r("div",{class:"mt-4 flex justify-end gap-2"},[r("button",{onClick:At,class:"cta-ghost"}," Limpar filtros "),r("button",{onClick:Ct,class:"cta-link"}," Aplicar filtros ")])]),lt.value?(s(),l("div",re,[...t[31]||(t[31]=[r("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold mx-auto"},null,-1),r("p",{class:"mt-4 text-muted"},"Carregando projetos...",-1)])])):0===yt.value.length?(s(),l("div",ne,[...t[32]||(t[32]=[r("svg",{class:"w-16 h-16 text-muted mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),r("p",{class:"text-muted"},"Nenhum projeto encontrado com os filtros atuais",-1)])])):(s(),l("div",ie,[r("div",de,[(s(!0),l(n,null,i(yt.value,e=>{var n,i;return s(),l("div",{key:e.id,class:v(["auction-card-modern group transform transition-all duration-300 hover:scale-105 hover:shadow-2xl",(null==(n=$t(e))?void 0:n.hours)<=24?"ring-2 ring-[#D4AF37] ring-opacity-50 animate-pulse":""])},[r("div",ue,[Dt(e)?(s(),l("img",{key:0,src:Dt(e),alt:e.title,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"},null,8,ce)):(s(),l("div",pe,[...t[33]||(t[33]=[r("svg",{class:"w-20 h-20 text-[#D4AF37]/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])])),t[36]||(t[36]=r("div",{class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"},null,-1)),r("div",ve,[r("span",{class:v(["px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide backdrop-blur-sm","open"===e.status?"bg-emerald-500/90 text-white":"in_progress"===e.status?"bg-amber-500/90 text-white":"bg-gray-500/90 text-white"])},u((i=e.status,{open:"Aberto",in_progress:"Em andamento",completed:"Concluido",cancelled:"Cancelado"}[i]||i)),3)]),$t(e)?(s(),l("div",me,[r("div",{class:v(["flex items-center gap-2 px-3 py-1.5 rounded-full backdrop-blur-sm text-white font-bold text-sm",$t(e).bgClass])},[t[34]||(t[34]=r("svg",{class:"w-4 h-4 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20"},[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})],-1)),h(" "+u($t(e).text),1)],2)])):o("",!0),r("div",be,[r("div",ge,[t[35]||(t[35]=r("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})],-1)),h(" "+u(Bt(e))+" Lance(s) ",1)])])]),r("div",fe,[r("span",xe,u(Mt(e.category)),1),r("p",he,[t[37]||(t[37]=h(" Contratante: ",-1)),r("span",ke,u(e.client_name||"Contratante"),1)]),f(a,{to:`/projects/${e.id}`,class:"block text-lg font-bold text-[#F5F5F5] hover:text-[#D4AF37] transition-colors line-clamp-2 mb-3 leading-tight"},{default:c(()=>[h(u(e.title),1)]),_:2},1032,["to"]),r("p",ye,u(e.description),1),r("div",we,[r("div",Ce,[t[38]||(t[38]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Orcamento",-1)),r("p",Ae,u(_t(e.budget)),1)]),r("div",_e,[t[39]||(t[39]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Prazo",-1)),r("p",je,u(Ft(e.deadline)),1)]),r("div",Fe,[t[40]||(t[40]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Propostas",-1)),r("p",Me,u(Bt(e)),1)]),r("div",De,[t[41]||(t[41]=r("p",{class:"text-xs text-[#8A8A8A] uppercase mb-1"},"Menor",-1)),r("p",{class:v(["text-base font-bold",Vt(e)?"text-emerald-400":"text-[#8A8A8A]"])},u(Vt(e)?_t(Vt(e)):"Ã”Ã‡Ã¶"),3)])]),r("div",Be,[r("div",Ve,[r("div",$e,[r("span",ze,u((e.client_name||"C")[0].toUpperCase()),1)]),r("div",null,[r("p",Pe,u(e.client_name||"Contratante"),1),r("p",Se,u(jt(e.created_at)),1)])]),r("div",He,[Ye.value?(s(),l("button",{key:0,type:"button",class:"cta-bid",onClick:t=>(e=>{Ye.value&&(mt.value=e,bt.value={amount:null,delivery_time:null,proposal:""},vt.value=!0)})(e)}," Dar lance ",8,Le)):o("",!0),f(a,{to:`/projects/${e.id}`,class:"cta-view"},{default:c(()=>[h(u(Ye.value?"Detalhes":"Ver"),1)]),_:1},8,["to"])])])])],2)}),128))])])),yt.value.length>0?(s(),l("div",Ne,[r("nav",Ee,[r("button",{onClick:t[7]||(t[7]=e=>st.value--),disabled:1===st.value,class:"pagination-button rounded-l-md"}," Anterior ",8,Re),r("span",Ue," Pagina "+u(st.value),1),r("button",{onClick:t[8]||(t[8]=e=>st.value++),disabled:yt.value.length<rt.value,class:"pagination-button rounded-r-md"}," Proxima ",8,qe)])])):o("",!0)]),f(L,{position:"right"})]),f(x,{name:"fade"},{default:c(()=>[ut.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:_(zt,["self"])},[r("div",Ie,[r("div",{class:"flex items-center justify-between mb-4"},[t[42]||(t[42]=r("div",null,[r("p",{class:"text-sm text-muted"},"+ Categoria"),r("h3",{class:"text-xl font-semibold"},"Sugerir nova categoria")],-1)),r("button",{class:"cta-ghost",onClick:zt},"Fechar")]),r("div",Oe,[r("div",null,[t[43]||(t[43]=r("label",{class:"filter-label"},"Nome",-1)),k(r("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>ct.value.name=e),type:"text",class:"filter-input",placeholder:"Ex: IA Generativa"},null,512),[[j,ct.value.name]])]),r("div",null,[t[44]||(t[44]=r("label",{class:"filter-label"},"Descricao",-1)),k(r("textarea",{"onUpdate:modelValue":t[10]||(t[10]=e=>ct.value.description=e),rows:"3",class:"filter-input",placeholder:"Conte rapidamente o que engloba a categoria"},null,512),[[j,ct.value.description]])])]),r("div",{class:"mt-6 flex justify-end gap-2"},[r("button",{class:"cta-ghost",onClick:zt},"Cancelar"),r("button",{class:"cta-link",onClick:Pt},"Enviar para validacao")])])])):o("",!0)]),_:1}),f(x,{name:"fade"},{default:c(()=>{var e;return[vt.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:_(St,["self"])},[r("div",Te,[r("div",{class:"flex items-center justify-between mb-4"},[t[45]||(t[45]=r("div",null,[r("p",{class:"text-sm text-muted"},"Enviar proposta"),r("h3",{class:"text-xl font-semibold"},"Lance rapido no leilao")],-1)),r("button",{class:"cta-ghost",onClick:St},"Fechar")]),r("div",Ge,[r("div",Je,[t[46]||(t[46]=r("p",{class:"text-sm text-[#8A8A8A] uppercase tracking-wide"},"Projeto",-1)),r("p",We,u(null==(e=mt.value)?void 0:e.title),1)]),r("div",null,[t[47]||(t[47]=r("label",{class:"filter-label"},"Valor do lance (R$)",-1)),k(r("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>bt.value.amount=e),type:"number",min:"1",class:"filter-input",placeholder:"0,00"},null,512),[[j,bt.value.amount,void 0,{number:!0}]])]),r("div",null,[t[48]||(t[48]=r("label",{class:"filter-label"},"Prazo (dias)",-1)),k(r("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>bt.value.delivery_time=e),type:"number",min:"1",class:"filter-input",placeholder:"7"},null,512),[[j,bt.value.delivery_time,void 0,{number:!0}]])]),r("div",null,[t[49]||(t[49]=r("label",{class:"filter-label"},"Proposta",-1)),k(r("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>bt.value.proposal=e),rows:"4",class:"filter-input proposal-highlight",placeholder:"Descreva sua proposta com clareza"},null,512),[[j,bt.value.proposal]])])]),r("div",Qe,[r("button",{class:"cta-ghost",onClick:St},"Cancelar"),r("button",{class:"cta-link",disabled:gt.value,onClick:Ht},u(gt.value?"Enviando...":"Enviar lance"),9,Ke)])])])):o("",!0)]}),_:1})])}}},[["__scopeId","data-v-6af685fe"]]);export{Xe as default};
