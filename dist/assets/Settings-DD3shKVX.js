import{c as e,r as l,a,e as t,j as o,F as s,l as r,k as i,C as n,D as d,t as u,N as c,Q as m,K as b,u as p,b as v,n as f}from"./vue-NU_yXd1p.js";import{u as x,a as g}from"./index-MKGCZOne.js";import"./utils-CeLII1lI.js";const y={class:"min-h-screen bg-page py-8"},h={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8"},k={class:"bg-surface rounded-lg shadow-sm"},w={class:"border-b border-muted"},P={class:"flex"},C=["onClick"],U={key:0,class:"p-6"},V=["value"],S={class:"pt-4"},N=["disabled"],z={key:1,class:"p-6"},E={class:"space-y-6"},R={class:"border-b border-muted pb-6"},T={class:"space-y-3"},W={class:"flex items-center"},j={class:"flex items-center"},D={class:"flex items-center"},M={class:"border-b border-muted pb-6"},_={class:"space-y-3"},A={class:"flex items-center"},B={class:"flex items-center"},L={class:"bg-red-50 border border-red-200 rounded-lg p-4"},F={key:2,class:"p-6"},I={class:"space-y-6"},Y={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},G={class:"bg-surface rounded-lg p-6 max-w-sm"},H={class:"flex gap-3"},K={__name:"Settings",setup(K){var O,Q,Z,q,J;const X=p(),$=x(),ee=e(()=>$.user),le=l("profile"),ae=l(!1),te=l(!1),oe=[{id:"profile",label:"Perfil"},{id:"privacy",label:"Privacidade"},{id:"preferences",label:"Preferências"}],se=l({name:(null==(O=ee.value)?void 0:O.name)||"",phone:(null==(Q=ee.value)?void 0:Q.phone)||"",bio:(null==(Z=ee.value)?void 0:Z.bio)||"",location:(null==(q=ee.value)?void 0:q.location)||"",website:(null==(J=ee.value)?void 0:J.website)||""}),re=l({emailNotifications:!0,emailMarketing:!1,emailWeekly:!0,profilePublic:"public"}),ie=l({language:"pt-BR",timezone:"America/Sao_Paulo"}),ne=async()=>{ae.value=!0;try{await $.updateProfile(se.value)}catch(e){console.error(e)}finally{ae.value=!1}},de=async()=>{try{await g.put("/api/users/preferences",{emailNotifications:re.value.emailNotifications,emailMarketing:re.value.emailMarketing,emailWeekly:re.value.emailWeekly,profilePublic:re.value.profilePublic})}catch(e){}},ue=async()=>{try{await g.put("/api/users/profile",{language:ie.value.language,timezone:ie.value.timezone})}catch(e){}},ce=async()=>{try{await g.delete("/api/users/profile"),$.logout(),X.push("/")}catch(e){}finally{te.value=!1}};return(e,l)=>{var p;return v(),a("div",y,[t("div",h,[l[36]||(l[36]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-heading"},"Configurações"),t("p",{class:"text-body mt-2"},"Gerencie suas informações e preferências")],-1)),t("div",k,[t("div",w,[t("div",P,[(v(),a(s,null,r(oe,e=>t("button",{key:e.id,onClick:l=>le.value=e.id,class:f(["px-4 py-3 font-medium text-sm border-b-2 transition-colors",le.value===e.id?"border-accent text-accent":"border-transparent text-body hover:text-heading"])},u(e.label),11,C)),64))])]),"profile"===le.value?(v(),a("div",U,[l[21]||(l[21]=t("h2",{class:"text-lg font-semibold text-heading mb-6"},"Informações Pessoais",-1)),t("form",{onSubmit:i(ne,["prevent"]),class:"space-y-6"},[t("div",null,[l[14]||(l[14]=t("label",{class:"block text-sm font-medium text-body mb-1"}," Nome Completo ",-1)),n(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>se.value.name=e),type:"text",class:"w-full px-4 py-2 border border-muted rounded-lg bg-surface text-heading focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"Seu nome completo"},null,512),[[d,se.value.name]])]),t("div",null,[l[15]||(l[15]=t("label",{class:"block text-sm font-medium text-body mb-1"}," Email ",-1)),t("input",{type:"email",value:null==(p=ee.value)?void 0:p.email,disabled:"",class:"w-full px-4 py-2 border border-muted bg-surface-hover rounded-lg text-muted"},null,8,V),l[16]||(l[16]=t("p",{class:"text-sm text-muted mt-1"},"O email não pode ser alterado",-1))]),t("div",null,[l[17]||(l[17]=t("label",{class:"block text-sm font-medium text-body mb-1"}," Telefone ",-1)),n(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>se.value.phone=e),type:"tel",class:"w-full px-4 py-2 border border-muted rounded-lg bg-surface text-heading focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"(11) 99999-9999"},null,512),[[d,se.value.phone]])]),t("div",null,[l[18]||(l[18]=t("label",{class:"block text-sm font-medium text-body mb-1"}," Bio / Descrição ",-1)),n(t("textarea",{"onUpdate:modelValue":l[2]||(l[2]=e=>se.value.bio=e),rows:"4",class:"w-full px-4 py-2 border border-muted rounded-lg bg-surface text-heading focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"Conte um pouco sobre você..."},null,512),[[d,se.value.bio]])]),t("div",null,[l[19]||(l[19]=t("label",{class:"block text-sm font-medium text-body mb-1"}," Localização ",-1)),n(t("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>se.value.location=e),type:"text",class:"w-full px-4 py-2 border border-muted rounded-lg bg-surface text-heading focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"Cidade, Estado"},null,512),[[d,se.value.location]])]),t("div",null,[l[20]||(l[20]=t("label",{class:"block text-sm font-medium text-body mb-1"}," Website / Portfolio ",-1)),n(t("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>se.value.website=e),type:"url",class:"w-full px-4 py-2 border border-muted rounded-lg bg-surface text-heading focus:ring-2 focus:ring-accent focus:border-transparent",placeholder:"https://seu-portfolio.com"},null,512),[[d,se.value.website]])]),t("div",S,[t("button",{type:"submit",disabled:ae.value,class:"btn-gold w-full font-medium py-2 rounded-lg transition-colors disabled:opacity-50"},u(ae.value?"Salvando...":"Salvar Alterações"),9,N)])],32)])):o("",!0),"privacy"===le.value?(v(),a("div",z,[l[30]||(l[30]=t("h2",{class:"text-lg font-semibold text-heading mb-6"},"Privacidade e Segurança",-1)),t("div",E,[t("div",R,[l[25]||(l[25]=t("h3",{class:"font-medium text-heading mb-4"},"Preferências de Email",-1)),t("div",T,[t("label",W,[n(t("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>re.value.emailNotifications=e),type:"checkbox",class:"w-4 h-4 text-accent rounded border-muted"},null,512),[[c,re.value.emailNotifications]]),l[22]||(l[22]=t("span",{class:"ml-3 text-sm text-body"},"Receber notificações por email",-1))]),t("label",j,[n(t("input",{"onUpdate:modelValue":l[6]||(l[6]=e=>re.value.emailMarketing=e),type:"checkbox",class:"w-4 h-4 text-accent rounded border-muted"},null,512),[[c,re.value.emailMarketing]]),l[23]||(l[23]=t("span",{class:"ml-3 text-sm text-body"},"Receber promoções e novidades",-1))]),t("label",D,[n(t("input",{"onUpdate:modelValue":l[7]||(l[7]=e=>re.value.emailWeekly=e),type:"checkbox",class:"w-4 h-4 text-accent rounded border-muted"},null,512),[[c,re.value.emailWeekly]]),l[24]||(l[24]=t("span",{class:"ml-3 text-sm text-body"},"Resumo semanal de atividades",-1))])])]),t("div",M,[l[28]||(l[28]=t("h3",{class:"font-medium text-heading mb-4"},"Visibilidade do Perfil",-1)),t("div",_,[t("label",A,[n(t("input",{"onUpdate:modelValue":l[8]||(l[8]=e=>re.value.profilePublic=e),type:"radio",value:"public",class:"w-4 h-4 text-accent border-muted"},null,512),[[m,re.value.profilePublic]]),l[26]||(l[26]=t("span",{class:"ml-3 text-sm text-body"},"Perfil público (visível para todos)",-1))]),t("label",B,[n(t("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>re.value.profilePublic=e),type:"radio",value:"private",class:"w-4 h-4 text-accent border-muted"},null,512),[[m,re.value.profilePublic]]),l[27]||(l[27]=t("span",{class:"ml-3 text-sm text-body"},"Perfil privado (apenas para conexões)",-1))])])]),t("div",L,[l[29]||(l[29]=t("h3",{class:"font-medium text-red-900 mb-3"},"Zona de Risco",-1)),t("button",{onClick:l[10]||(l[10]=e=>te.value=!0),class:"text-red-600 hover:text-red-700 font-medium text-sm"}," Deletar minha conta permanentemente ")]),t("div",{class:"pt-4"},[t("button",{onClick:de,class:"btn-gold w-full font-medium py-2 rounded-lg transition-colors"}," Salvar Preferências ")])])])):o("",!0),"preferences"===le.value?(v(),a("div",F,[l[35]||(l[35]=t("h2",{class:"text-lg font-semibold text-heading mb-6"},"Preferências",-1)),t("div",I,[t("div",null,[l[32]||(l[32]=t("label",{class:"block text-sm font-medium text-body mb-2"},"Idioma",-1)),n(t("select",{"onUpdate:modelValue":l[11]||(l[11]=e=>ie.value.language=e),class:"w-full px-4 py-2 border border-muted rounded-lg bg-surface text-heading focus:ring-2 focus:ring-accent focus:border-transparent"},[...l[31]||(l[31]=[t("option",{value:"pt-BR"},"Português (Brasil)",-1),t("option",{value:"en"},"English",-1),t("option",{value:"es"},"Español",-1)])],512),[[b,ie.value.language]])]),t("div",null,[l[34]||(l[34]=t("label",{class:"block text-sm font-medium text-body mb-2"},"Fuso Horário",-1)),n(t("select",{"onUpdate:modelValue":l[12]||(l[12]=e=>ie.value.timezone=e),class:"w-full px-4 py-2 border border-muted rounded-lg bg-surface text-heading focus:ring-2 focus:ring-accent focus:border-transparent"},[...l[33]||(l[33]=[t("option",{value:"America/Sao_Paulo"},"(UTC-3) São Paulo",-1),t("option",{value:"America/New_York"},"(UTC-5) Nova York",-1),t("option",{value:"Europe/London"},"(UTC+0) Londres",-1),t("option",{value:"Europe/Paris"},"(UTC+1) Paris",-1)])],512),[[b,ie.value.timezone]])]),t("div",{class:"pt-4"},[t("button",{onClick:ue,class:"btn-gold w-full font-medium py-2 rounded-lg transition-colors"}," Salvar Preferências ")])])])):o("",!0)])]),te.value?(v(),a("div",Y,[t("div",G,[l[37]||(l[37]=t("h3",{class:"text-lg font-semibold text-heading mb-2"},"Deletar Conta",-1)),l[38]||(l[38]=t("p",{class:"text-body mb-4"}," Tem certeza? Esta ação é irreversível e todos os seus dados serão permanentemente deletados. ",-1)),t("div",H,[t("button",{onClick:l[13]||(l[13]=e=>te.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Cancelar "),t("button",{onClick:ce,class:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors"}," Deletar Permanentemente ")])])])):o("",!0)])}}};export{K as default};
