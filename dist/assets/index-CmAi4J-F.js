const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Btn0yCev.js","assets/vue-Cs7imW6x.js","assets/utils-CeLII1lI.js","assets/Tutorial-DAfYarbP.js","assets/AuctionLobby-DRUp9uCu.js","assets/projectService-DP4cjqJY.js","assets/bidService-sZ282AyN.js","assets/Login-WiEE8o3_.js","assets/Register-zSw9aD-I.js","assets/ForgotPassword-BWcYYi8m.js","assets/ResetPassword-BMb1wmPz.js","assets/Dashboard-CdRQ3one.js","assets/StatusBadge-CI6XVklC.js","assets/index-Ctu0mvSg.js","assets/Projects-BKhd5BLo.js","assets/Pagination-CDjiS_3c.js","assets/AdsPlans-D0-ENz1y.js","assets/ProjectDetail-D39BtVqb.js","assets/CreateProject-C7TKxGu4.js","assets/MyProjects-B6c4LDOD.js","assets/MyBids-BKKwR4WY.js","assets/ProviderProfile-C4Q7Jwmp.js","assets/ReviewList-0XVR-ERC.js","assets/PublicProviderProfile-58BUJC_S.js","assets/Wallet-goHk_ATS.js","assets/Receipts-C_Pm0W5A.js","assets/Contracts-xtw5KKiO.js","assets/ContractDetail-Bd4l2dBL.js","assets/Settings-Bygg-YOx.js","assets/Notifications-BFus66hL.js","assets/AdminLogin-CFKkR1Qk.js","assets/AdminDashboard-Do3Q_igy.js","assets/AdminLayout-B79hQkh6.js","assets/AdminUsers-Cxubvx_O.js","assets/AdminProjects-wKP_eCBH.js","assets/AdminPayments-Dm_ZHEw-.js","assets/AdminDisputes-B-BqV5TU.js","assets/AdminAdvertisements-BO7nw7lg.js","assets/AdminSettings-DmpXEHcd.js"])))=>i.map(i=>d[i]);
import{d as e,r as t,c as o,w as a,u as r,o as s,a as n,b as l,e as i,n as d,f as c,t as u,g as m,h as p,i as h,F as v,j as f,k as g,l as _,m as k,p as b,T as w,q as y,s as x,v as A,x as j,y as E,z as P}from"./vue-Cs7imW6x.js";import{a as I}from"./utils-CeLII1lI.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const C=I.create({baseURL:"",timeout:parseInt("30000")||6e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});C.interceptors.request.use(e=>{const t=localStorage.getItem("kadesh_token");return t&&"undefined"!==t&&"null"!==t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),C.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&console.warn("[API] 401 Unauthorized recebido"),Promise.reject(e)));const S="kadesh_view_mode",M=e("viewMode",()=>{const e=t((()=>{if("undefined"==typeof window)return"contractor";try{return localStorage.getItem(S)||"contractor"}catch{return"contractor"}})()),a=o(()=>"contractor"===e.value),r=o(()=>"provider"===e.value),s=o(()=>"contractor"===e.value?"Contratante":"Prestador"),n=o(()=>"contractor"===e.value?"C":"P"),l=o(()=>"contractor"===e.value?"blue":"green"),i=t=>{"contractor"===t||"provider"===t?(e.value=t,(e=>{if("undefined"!=typeof window)try{localStorage.setItem(S,e)}catch{}})(t)):console.error('Modo invÃ¡lido. Use "contractor" ou "provider"')};return{currentMode:e,isContractor:a,isProvider:r,modeLabel:s,modeIcon:n,modeColor:l,setMode:i,toggleMode:()=>{const t="contractor"===e.value?"provider":"contractor";i(t)},setContractorMode:()=>i("contractor"),setProviderMode:()=>i("provider")}}),L=e=>e&&"undefined"!==e&&"null"!==e?e:null,T=()=>{if("undefined"==typeof window)return console.log("[Auth] isSessionValid: window undefined"),!1;const e=L(localStorage.getItem("kadesh_token")),t=localStorage.getItem("kadesh_session_expires");if(!e||!t)return e||localStorage.removeItem("kadesh_token"),!1;const o=Date.now(),a=parseInt(t,10),r=o<a;if(r){const e=((a-o)/36e5).toFixed(2);console.log(`[Auth] isSessionValid: TRUE - vÃ¡lida por ${e}h`)}else console.warn("[Auth] isSessionValid: FALSE - sessÃ£o expirada",{now:new Date(o).toLocaleString("pt-BR"),expires:new Date(a).toLocaleString("pt-BR")});return r},D=()=>{if("undefined"==typeof window)return;const e=Date.now()+144e5;localStorage.setItem("kadesh_session_expires",e.toString()),console.log("[Auth] SessÃ£o renovada por 4 horas")},O=e("auth",()=>{const e=t(null),a=t(L(localStorage.getItem("kadesh_token"))),r=t(!1),s=o(()=>!!a.value&&T()),n=o(()=>{var t,o;return"client"===(null==(t=e.value)?void 0:t.type)||"both"===(null==(o=e.value)?void 0:o.type)}),l=o(()=>{var t;return["provider","unified","both"].includes(null==(t=e.value)?void 0:t.type)}),i=o(()=>{var t,o;return!0===(null==(t=e.value)?void 0:t.isAdmin)||"admin"===(null==(o=e.value)?void 0:o.type)}),d=o(()=>{var t;return(null==(t=e.value)?void 0:t.name)?e.value.name.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):""}),c=e=>{var t;try{const o=M(),a=null==e?void 0:e.type,r=(null==(t=o.currentMode)?void 0:t.value)||o.currentMode;"provider"===a&&"contractor"===r&&o.setProviderMode(),"client"===a&&"provider"===r&&o.setContractorMode()}catch(o){console.warn("[Auth] Erro ao sincronizar modo de visualizaÃ§Ã£o",o)}},u=()=>{e.value=null,a.value=null,localStorage.removeItem("kadesh_token"),localStorage.removeItem("kadesh_user"),localStorage.removeItem("kadesh_session_expires"),C.defaults.headers.common&&delete C.defaults.headers.common.Authorization},m=()=>{if((()=>{if("undefined"==typeof window)return;const e=localStorage.getItem("kadesh_token");"undefined"!==e&&"null"!==e||localStorage.removeItem("kadesh_token")})(),!T())return void u();const t=localStorage.getItem("kadesh_user"),o=L(localStorage.getItem("kadesh_token"));if(t&&o)try{e.value=JSON.parse(t),a.value=o,C.defaults.headers.common&&(C.defaults.headers.common.Authorization=`Bearer ${o}`),c(e.value)}catch(r){u()}};return m(),{user:e,token:a,isLoading:r,isAuthenticated:s,isClient:n,isProvider:l,isAdmin:i,userInitials:d,login:async(t,o)=>{var s,n,l,i,d;r.value=!0;try{const r=new URLSearchParams({email:t,password:o}),n=await C.post("/api/auth/login",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{user:l,token:i}=n.data||{};return i?(e.value=l,a.value=i,localStorage.setItem("kadesh_token",i),localStorage.setItem("kadesh_user",JSON.stringify(l)),D(),C.defaults.headers.common&&(C.defaults.headers.common.Authorization=`Bearer ${i}`),c(l),{success:!0,user:l}):{success:!1,error:(null==(s=n.data)?void 0:s.error)||"Token de acesso ausente"}}catch(u){return console.error("[Auth] Erro ao fazer login:",(null==(l=null==(n=u.response)?void 0:n.data)?void 0:l.error)||u.message),{success:!1,error:(null==(d=null==(i=u.response)?void 0:i.data)?void 0:d.error)||"Erro ao fazer login"}}finally{r.value=!1}},register:async t=>{var o,s,n;r.value=!0;try{const r=new URLSearchParams({name:(null==t?void 0:t.name)||"",email:(null==t?void 0:t.email)||"",password:(null==t?void 0:t.password)||"",user_type:(null==t?void 0:t.user_type)||(null==t?void 0:t.type)||"both"}),s=await C.post("/api/auth/register",r,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{user:n,token:l}=s.data||{};return l?(e.value=n,a.value=l,localStorage.setItem("kadesh_token",l),localStorage.setItem("kadesh_user",JSON.stringify(n)),D(),C.defaults.headers.common&&(C.defaults.headers.common.Authorization=`Bearer ${l}`),c(n),{success:!0,user:n}):{success:!1,error:(null==(o=s.data)?void 0:o.error)||"Token de acesso ausente"}}catch(l){return console.error("[Auth] Erro ao registrar:",l),{success:!1,error:(null==(n=null==(s=l.response)?void 0:s.data)?void 0:n.error)||"Erro ao criar conta"}}finally{r.value=!1}},logout:u,verifyToken:async()=>{if(!T())return u(),!1;if(a.value&&!e.value){const o=localStorage.getItem("kadesh_user");if(o)try{e.value=JSON.parse(o),c(e.value)}catch(t){return u(),!1}}return D(),!0},updateProfile:async t=>{var o,a;r.value=!0;try{const o=await C.put("/api/users/profile",t);return e.value=o.data.user,localStorage.setItem("kadesh_user",JSON.stringify(o.data.user)),{success:!0,user:o.data.user}}catch(s){return{success:!1,error:(null==(a=null==(o=s.response)?void 0:o.data)?void 0:a.error)||"Erro ao atualizar perfil"}}finally{r.value=!1}},initializeAuth:m}}),R="kadesh_theme",V=e("theme",()=>{const e=t((()=>{if("undefined"==typeof window)return"light";try{const e=localStorage.getItem(R);return e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}catch(e){return console.warn("NÃ£o foi possÃ­vel restaurar o tema salvo:",e),"light"}})()),r=o(()=>"dark"===e.value),s=o(()=>"light"===e.value),n=()=>{if("undefined"==typeof document)return;const t=document.documentElement;t.classList.remove("theme-dark","theme-light"),t.classList.add(`theme-${e.value}`)},l=t=>{e.value="dark"===t?"dark":"light",(e=>{if("undefined"!=typeof window)try{localStorage.setItem(R,e)}catch(t){console.warn("NÃ£o foi possÃ­vel salvar o tema selecionado:",t)}})(e.value)};return a(()=>{n()}),{currentTheme:e,isDark:r,isLight:s,toggleTheme:()=>{l(r.value?"light":"dark")},setTheme:l,applyTheme:n}}),q="/dist/assets/logo-0SHYoDMy.png",z=(e,t)=>{const o=e.__vccOpts||e;for(const[a,r]of t)o[a]=r;return o},B={class:"md:hidden flex items-center justify-center"},H={class:"text-xl transition-transform duration-500"},N={class:"text-sm"},U=z({__name:"ViewModeSwitch",props:{variant:{type:String,default:"default"}},setup(e){const a=e,m=o(()=>"sidebar"===a.variant),p=M(),h=t(!1),v=r();s(()=>{if("undefined"==typeof window)return;const e=parseInt(localStorage.getItem("kadesh_viewmode_tooltip_count")||"0");e<3&&(h.value=!0,localStorage.setItem("kadesh_viewmode_tooltip_count",(e+1).toString()),setTimeout(()=>{h.value=!1},5e3))});const f=e=>{p.setMode(e);const t={name:"auction-lobby",query:{mode:e,ts:Date.now()}};("auction-lobby"===v.currentRoute.value.name?v.replace:v.push)(t).catch(()=>{})};return(e,t)=>(l(),n("div",{class:d(["view-mode-switch",m.value?"view-mode-switch--sidebar":""])},[i("div",{class:d(["hidden md:flex items-center rounded-full transition-all duration-500","vm-shell",m.value?"vm-shell--sidebar":"vm-shell--inline"])},[i("button",{onClick:t[0]||(t[0]=e=>f("contractor")),class:d(["vm-pill",m.value?"vm-pill--sidebar":"vm-pill--inline",c(p).isContractor?"vm-pill--active":"vm-pill--inactive"])},[i("span",{class:d(["text-lg transition-transform duration-500",c(p).isContractor?"scale-110":""])},"ðŸ“˜",2),t[3]||(t[3]=i("span",{class:"text-sm font-semibold"},"Contratante",-1))],2),i("button",{onClick:t[1]||(t[1]=e=>f("provider")),class:d(["vm-pill",m.value?"vm-pill--sidebar":"vm-pill--inline",c(p).isProvider?"vm-pill--active":"vm-pill--inactive"])},[i("span",{class:d(["text-lg transition-transform duration-500",c(p).isProvider?"scale-110":""])},"ðŸ› ï¸",2),t[4]||(t[4]=i("span",{class:"text-sm font-semibold"},"Prestador",-1))],2)],2),i("div",B,[i("button",{onClick:t[2]||(t[2]=e=>(()=>{const e=p.isContractor?"provider":"contractor";f(e)})()),class:"vm-pill vm-pill--mobile"},[i("span",H,u(c(p).modeIcon),1),i("span",N,"Ver como "+u(c(p).modeLabel),1),(l(),n("svg",{class:d(["w-4 h-4 transition-transform duration-700",c(p).isProvider?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[5]||(t[5]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},null,-1)])],2))])])],2))}},[["__scopeId","data-v-474cc0e4"]]),$={class:"sticky top-0 z-50 bg-nav text-offwhite border-b border-gold/20 shadow-lg"},F={class:"max-w-6xl mx-auto px-4"},K={class:"h-16 flex items-center justify-between gap-4"},J={class:"flex items-center gap-4"},W=["src"],Y={class:"hidden md:flex items-center gap-1"},G={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Q=["d"],X={class:"flex items-center gap-2"},Z=["title"],ee={class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},te=["d"],oe={key:4,class:"hidden md:flex items-center gap-2"},ae={class:"h-6 w-6 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},re={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},se={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},ne={class:"absolute top-0 right-0 w-72 h-full nav-drawer p-4 overflow-y-auto shadow-2xl"},le={class:"flex items-center justify-between mb-4"},ie=["src"],de={key:0,class:"mb-4"},ce={class:"mb-4"},ue={class:"flex items-center gap-2"},me={class:"h-5 w-5 text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pe=["d"],he={class:"font-semibold nav-text"},ve={class:"text-xs font-semibold nav-theme-chip"},fe={class:"space-y-2"},ge={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_e=["d"],ke={key:1,class:"mt-6 border-t pt-4 space-y-2"},be={class:"h-5 w-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},we=["d"],ye={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xe=["d"],Ae={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},je=["d"],Ee={key:2,class:"mt-6 border-t pt-4 space-y-2"},Pe=z({__name:"NavBar",setup(e){const a=r(),s=O(),y=V(),x=t(!1),A=s.token,j=o(()=>{const e=A&&"object"==typeof A&&"value"in A?A.value:A,t="undefined"!=typeof window?localStorage.getItem("kadesh_token"):null;return Boolean(e||(t&&"undefined"!==t&&"null"!==t?t:null))}),E=o(()=>{const e=s.isAdmin;return e&&"object"==typeof e&&"value"in e?e.value:e}),P=o(()=>a.currentRoute.value.path),I=o(()=>y.isDark?"Tema escuro":"Tema claro"),C=o(()=>y.isDark?"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z":"M12 3v2m0 14v2m9-9h-2M5 12H3m14.364-7.364l-1.414 1.414M7.05 16.95l-1.414 1.414m0-12.728l1.414 1.414M16.95 16.95l1.414 1.414M12 7a5 5 0 100 10 5 5 0 000-10z"),S={target:"M12 3a9 9 0 100 18 9 9 0 000-18zm0 4a5 5 0 100 10 5 5 0 000-10zm0 3a2 2 0 110 4 2 2 0 010-4z",book:"M4 6.5A2.5 2.5 0 016.5 4h9A2.5 2.5 0 0118 6.5v11a.5.5 0 01-.757.429L12 14.5l-5.243 3.429A.5.5 0 016 17.5v-11z",dashboard:"M4 13h6v8H4v-8zm0-10h6v8H4V3zm10 10h6v8h-6v-8zm0-10h6v8h-6V3z",projects:"M4 6h16M4 12h16M4 18h16",bids:"M12 6v2m0 8v2m0-6a2 2 0 100-4 2 2 0 010 4zm0 8c-4.418 0-8-2.686-8-6 0-1.657 1.343-3 3-3h10c1.657 0 3 1.343 3 3 0 3.314-3.582 6-8 6z",contracts:"M7 7h10M7 11h10M7 15h6m-1-10l-2-2H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7h-4z",wallet:"M4 7h16v10H4z M4 11h12",receipts:"M7 5h10v14l-2-1-2 1-2-1-2 1-2-1-2 1V5z M9 9h6m-6 4h6",bell:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",profile:"M12 12a5 5 0 100-10 5 5 0 000 10zm-7 8a7 7 0 0114 0",settings:"M10.325 4.317l1.09-.63a1 1 0 011.09 0l1.09.63a1 1 0 00.98 0l1.26-.73a1 1 0 011.5.86v1.26a1 1 0 00.29.7l.9.9a1 1 0 010 1.41l-.9.9a1 1 0 00-.29.71v1.26a1 1 0 01-1.5.86l-1.26-.73a1 1 0 00-.98 0l-1.09.63a1 1 0 01-1.09 0l-1.09-.63a1 1 0 00-.98 0l-1.26.73a1 1 0 01-1.5-.86v-1.26a1 1 0 00-.29-.7l-.9-.9a1 1 0 010-1.41l.9-.9a1 1 0 00.29-.71v-1.26a1 1 0 011.5-.86l1.26.73a1 1 0 00.98 0z",admin:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},M=[{to:"/lobby",label:"Lobby",icon:"target",auth:!0},{to:"/tutorial",label:"Tutorial",icon:"book"},{to:"/dashboard",label:"Dashboard",icon:"dashboard",auth:!0}],L=[{to:"/projects",label:"Projetos",icon:"projects"},{to:"/my-projects",label:"Meus Projetos",icon:"projects"}],T=[{to:"/my-bids",label:"Minhas Propostas",icon:"bids"},{to:"/contracts",label:"Contratos",icon:"contracts"}],D=[{to:"/wallet",label:"Carteira",icon:"wallet"},{to:"/receipts",label:"Comprovantes",icon:"receipts"},{to:"/notifications",label:"NotificaÃ§Ãµes",icon:"bell"}],R="/profile",z="Meu Perfil",B="profile",H="/settings",N="ConfiguraÃ§Ãµes",Pe="settings",Ie="/admin/dashboard",Ce="Admin",Se="admin",Me=o(()=>{if(!j.value)return M.filter(e=>!e.auth);const e=[...M];return s.isClient&&e.push(...L),s.isProvider&&e.push(...T),e}),Le=o(()=>j.value?D:[]),Te=o(()=>{const e=[...M];return j.value&&(s.isClient&&e.push(...L),s.isProvider&&e.push(...T),e.push(...D)),e}),De=o(()=>[...Me.value,...Le.value]),Oe=e=>"/"===e?"/"===P.value:P.value===e||P.value.startsWith(`${e}/`),Re=e=>["nav-link",Oe(e)?"nav-link-active":"nav-link-idle"],Ve=e=>{x.value=!1,a.push(e)},qe=async()=>{await s.logout(),x.value=!1,a.push("/")},ze=()=>{y.toggleTheme()};return(e,t)=>{const o=m("router-link");return l(),n(v,null,[i("header",$,[i("div",F,[i("div",K,[i("div",J,[p(o,{to:"/",class:"flex items-center gap-3"},{default:h(()=>[i("img",{src:c(q),alt:"Kaddesh",class:"h-12 w-12 rounded-lg border border-gold/40 object-cover"},null,8,W),t[6]||(t[6]=i("div",{class:"leading-tight"},[i("p",{class:"text-sm text-gold font-semibold"},"KADDESH"),i("p",{class:"text-xs text-offwhite-muted"},"Service Bridge")],-1))]),_:1}),i("nav",Y,[(l(!0),n(v,null,f(De.value,e=>{return l(),g(o,{key:e.to,to:e.to,class:d((t=e.to,["nav-link hidden md:inline-flex",Oe(t)?"nav-link-active":"nav-link-idle"]))},{default:h(()=>[(l(),n("svg",G,[i("path",{d:S[e.icon]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Q)])),i("span",null,u(e.label),1)]),_:2},1032,["to","class"]);var t}),128))])]),i("div",X,[j.value?(l(),g(U,{key:0,class:"hidden md:block"})):_("",!0),i("button",{class:"p-2 rounded-full nav-ghost",onClick:ze,title:I.value},[(l(),n("svg",ee,[i("path",{d:C.value,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,8,te)]))],8,Z),j.value&&E.value?(l(),g(o,{key:1,to:Ie,class:"hidden md:inline-flex nav-badge"},{default:h(()=>[...t[7]||(t[7]=[k(" Admin ",-1)])]),_:1},8,["to"])):_("",!0),j.value?(l(),g(o,{key:2,to:R,class:"hidden md:inline-flex nav-ghost"},{default:h(()=>[...t[8]||(t[8]=[k(" Perfil ",-1)])]),_:1},8,["to"])):_("",!0),j.value?(l(),n("button",{key:3,onClick:qe,class:"hidden md:inline-flex nav-ghost text-red-300 hover:text-red-200"}," Sair ")):(l(),n("div",oe,[p(o,{to:"/login",class:"nav-ghost"},{default:h(()=>[...t[9]||(t[9]=[k("Entrar",-1)])]),_:1}),p(o,{to:"/register",class:"nav-badge"},{default:h(()=>[...t[10]||(t[10]=[k("Criar conta",-1)])]),_:1})])),i("button",{onClick:t[0]||(t[0]=e=>x.value=!x.value),class:"md:hidden p-2 rounded-md nav-ghost transition-all duration-200","aria-label":"Abrir menu"},[(l(),n("svg",ae,[x.value?(l(),n("path",se)):(l(),n("path",re))]))])])])])]),p(w,{name:"fade"},{default:h(()=>[x.value?(l(),n("div",{key:0,class:"md:hidden fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",onClick:t[5]||(t[5]=b(e=>x.value=!1,["self"]))},[i("div",ne,[i("div",le,[p(o,{to:"/",class:"flex items-center gap-2"},{default:h(()=>[i("img",{src:c(q),alt:"Kaddesh",class:"h-10 w-10 rounded-lg border border-gold/40 object-cover"},null,8,ie),t[11]||(t[11]=i("div",null,[i("p",{class:"text-sm font-semibold nav-text"},"KADDESH"),i("p",{class:"text-xs nav-muted"},"Service Bridge")],-1))]),_:1}),i("button",{onClick:t[1]||(t[1]=e=>x.value=!1),class:"p-2 rounded nav-close-btn"},[...t[12]||(t[12]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),j.value?(l(),n("div",de,[p(U,{variant:"sidebar"})])):_("",!0),i("div",ce,[i("button",{class:"w-full flex items-center justify-between px-3 py-2 rounded-lg nav-theme-btn",onClick:ze},[i("span",ue,[(l(),n("svg",me,[i("path",{d:C.value,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,8,pe)])),i("span",he,u(I.value),1)]),i("span",ve,u(c(y).isDark?"ðŸŒ™":"â˜€ï¸"),1)])]),i("div",fe,[(l(!0),n(v,null,f(Te.value,e=>(l(),g(o,{key:e.to,to:e.to,class:d(Re(e.to)),onClick:t=>Ve(e.to)},{default:h(()=>[(l(),n("svg",ge,[i("path",{d:S[e.icon]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,_e)])),i("span",null,u(e.label),1)]),_:2},1032,["to","class","onClick"]))),128))]),j.value?(l(),n("div",ke,[E.value?(l(),g(o,{key:0,to:Ie,class:"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-semibold nav-danger",onClick:t[2]||(t[2]=e=>Ve(Ie))},{default:h(()=>[(l(),n("svg",be,[i("path",{d:S[Se]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,we)])),i("span",null,u(Ce),1)]),_:1},8,["to"])):_("",!0),p(o,{to:R,class:d(Re(R)),onClick:t[3]||(t[3]=e=>Ve(R))},{default:h(()=>[(l(),n("svg",ye,[i("path",{d:S[B]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,xe)])),i("span",null,u(z),1)]),_:1},8,["to","class"]),p(o,{to:H,class:d(Re(H)),onClick:t[4]||(t[4]=e=>Ve(H))},{default:h(()=>[(l(),n("svg",Ae,[i("path",{d:S[Pe]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,je)])),i("span",null,u(N),1)]),_:1},8,["to","class"]),i("button",{onClick:qe,class:"w-full flex items-center gap-2 px-3 py-2 rounded-lg nav-danger"},[...t[13]||(t[13]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17l5-5-5-5M20 12H9m4 9H5a2 2 0 01-2-2V5a2 2 0 012-2h8"})],-1),k(" Sair ",-1)])])])):(l(),n("div",Ee,[p(o,{to:"/login",class:"nav-link"},{default:h(()=>[...t[14]||(t[14]=[i("span",{class:"font-semibold"},"Entrar",-1)])]),_:1}),p(o,{to:"/register",class:"nav-link nav-link-active"},{default:h(()=>[...t[15]||(t[15]=[i("span",{class:"font-semibold"},"Criar conta",-1)])]),_:1})]))])])):_("",!0)]),_:1})],64)}}},[["__scopeId","data-v-532b1ec4"]]),Ie={class:"bg-gray-900 text-white mt-auto"},Ce={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},Se={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},Me={class:"space-y-2"},Le={class:"border-t border-gray-800 mt-8 pt-8 text-center"},Te={class:"text-gray-400 text-sm"},De={__name:"Footer",setup(e){const t=o(()=>(new Date).getFullYear());return(e,o)=>{const a=m("router-link");return l(),n("footer",Ie,[i("div",Ce,[i("div",Se,[o[3]||(o[3]=i("div",null,[i("h3",{class:"text-lg font-bold mb-4"},"Kadesh"),i("p",{class:"text-gray-400 text-sm"}," Conectando profissionais talentosos com projetos incrÃ­veis. ")],-1)),i("div",null,[o[2]||(o[2]=i("h4",{class:"text-sm font-semibold mb-4 uppercase tracking-wider"},"Plataforma",-1)),i("ul",Me,[i("li",null,[p(a,{to:"/projects",class:"text-gray-400 hover:text-white text-sm transition"},{default:h(()=>[...o[0]||(o[0]=[k(" Explorar Projetos ",-1)])]),_:1})]),i("li",null,[p(a,{to:"/register",class:"text-gray-400 hover:text-white text-sm transition"},{default:h(()=>[...o[1]||(o[1]=[k(" Criar Conta ",-1)])]),_:1})])])]),o[4]||(o[4]=y('<div><h4 class="text-sm font-semibold mb-4 uppercase tracking-wider">Suporte</h4><ul class="space-y-2"><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Central de Ajuda </a></li><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Contato </a></li></ul></div><div><h4 class="text-sm font-semibold mb-4 uppercase tracking-wider">Legal</h4><ul class="space-y-2"><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Termos de Uso </a></li><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Privacidade </a></li></ul></div>',2))]),i("div",Le,[i("p",Te," Â© "+u(t.value)+" Kadesh. Todos os direitos reservados. ",1)])])])}}},Oe={key:0,class:"fixed top-4 right-4 z-40 flex items-center gap-2"},Re={class:"text-lg"},Ve={class:"text-sm font-bold"},qe={__name:"ModeIndicator",setup(e){const t=r(),a=x(),s=O(),m=M(),p=o(()=>s.isAuthenticated),h=o(()=>!a.path.startsWith("/admin")),v=()=>{m.toggleMode(),m.isProvider?t.push("/my-bids"):t.push("/projects")};return(e,t)=>p.value&&h.value?(l(),n("div",Oe,[i("div",{class:d(["flex items-center gap-2 px-4 py-2 rounded-full shadow-lg backdrop-blur-sm border transition-all duration-300",c(m).isProvider?"bg-emerald-500/90 border-emerald-400/50 text-white":"bg-amber-500/90 border-amber-400/50 text-white"])},[i("span",Re,u(c(m).isProvider?"ðŸ› ï¸":"ðŸ“˜"),1),i("span",Ve,u(c(m).isProvider?"Prestador":"Contratante"),1)],2),i("button",{onClick:v,class:"p-2 rounded-full bg-surface border border-accent/30 shadow-lg hover:border-accent/60 hover:scale-105 transition-all",title:"Alternar modo"},[...t[0]||(t[0]=[i("svg",{class:"w-4 h-4 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])])])):_("",!0)}},ze={key:0,class:"fixed inset-0 bg-white z-50 flex items-center justify-center"},Be={__name:"App",setup(e){const a=x(),r=O(),c=V(),u=t(!0),h=o(()=>{if(["login","register","forgot-password","reset-password"].includes(a.name)||a.path&&a.path.startsWith("/admin"))return!1;const e=r.token&&"object"==typeof r.token&&"value"in r.token?r.token.value:r.token,t="undefined"!=typeof window?localStorage.getItem("kadesh_token"):null;return!(!e&&!t)}),f=o(()=>h.value?"app-main pt-16 md:pt-20":"app-main"),k=o(()=>["min-h-screen app-shell",c.isDark?"theme-dark":"theme-light"]),b=()=>{u.value&&(u.value=!1)};return s(()=>{const e=setTimeout(b,2e3);(async()=>{try{return await C.get("/api/health",{timeout:7e4}),!0}catch(e){return!1}})().catch(()=>{});if(!((r.token&&"object"==typeof r.token&&"value"in r.token?r.token.value:r.token)||"undefined"!=typeof window&&localStorage.getItem("kadesh_token")))return clearTimeout(e),void b();r.verifyToken().catch(e=>{console.warn("App initialization: token verify falhou, mas mantendo sessÃ£o se token existir",e.message)}).finally(()=>{clearTimeout(e),b()}),c.applyTheme()}),(e,t)=>{const o=m("router-view");return l(),n("div",{id:"app",class:d(k.value)},[u.value?(l(),n("div",ze,[...t[0]||(t[0]=[i("div",{class:"text-center"},[i("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"}),i("p",{class:"mt-4 text-gray-600"},"Carregando...")],-1)])])):(l(),n(v,{key:1},[h.value?(l(),g(Pe,{key:0})):_("",!0),h.value?(l(),g(qe,{key:1})):_("",!0),i("main",{class:d(f.value)},[p(o)],2),h.value?(l(),g(De,{key:2})):_("",!0)],64))],2)}}},He={},Ne=function(e,t,o){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),o=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/dist/"+e}(e))in He)return;He[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,o&&r.setAttribute("nonce",o),document.head.appendChild(r),t?new Promise((t,o)=>{r.addEventListener("load",t),r.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},Ue=[{path:"/",name:"home",component:()=>Ne(()=>import("./Home-Btn0yCev.js"),__vite__mapDeps([0,1,2])),meta:{requiresAuth:!1}},{path:"/tutorial",name:"tutorial",component:()=>Ne(()=>import("./Tutorial-DAfYarbP.js"),__vite__mapDeps([3,1])),meta:{requiresAuth:!1}},{path:"/lobby",name:"auction-lobby",component:()=>Ne(()=>import("./AuctionLobby-DRUp9uCu.js"),__vite__mapDeps([4,1,5,6,2])),meta:{requiresAuth:!0}},{path:"/login",name:"login",component:()=>Ne(()=>import("./Login-WiEE8o3_.js"),__vite__mapDeps([7,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/register",name:"register",component:()=>Ne(()=>import("./Register-zSw9aD-I.js"),__vite__mapDeps([8,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/forgot-password",name:"forgot-password",component:()=>Ne(()=>import("./ForgotPassword-BWcYYi8m.js"),__vite__mapDeps([9,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/reset-password",name:"reset-password",component:()=>Ne(()=>import("./ResetPassword-BMb1wmPz.js"),__vite__mapDeps([10,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/dashboard",name:"dashboard",component:()=>Ne(()=>import("./Dashboard-CdRQ3one.js"),__vite__mapDeps([11,12,1,2,13])),meta:{requiresAuth:!0}},{path:"/projects",name:"projects",component:()=>Ne(()=>import("./Projects-BKhd5BLo.js"),__vite__mapDeps([14,1,12,2,13,15,5])),meta:{requiresAuth:!1}},{path:"/ads",name:"ads-plans",component:()=>Ne(()=>import("./AdsPlans-D0-ENz1y.js"),__vite__mapDeps([16,1,2])),meta:{requiresAuth:!1}},{path:"/projects/:id",name:"project-detail",component:()=>Ne(()=>import("./ProjectDetail-D39BtVqb.js"),__vite__mapDeps([17,1,12,2,13,5,6])),meta:{requiresAuth:!1}},{path:"/projects/create",name:"create-project",component:()=>Ne(()=>import("./CreateProject-C7TKxGu4.js"),__vite__mapDeps([18,1,5,2])),meta:{requiresAuth:!0}},{path:"/my-projects",name:"my-projects",component:()=>Ne(()=>import("./MyProjects-B6c4LDOD.js"),__vite__mapDeps([19,1,15,5,2])),meta:{requiresAuth:!0}},{path:"/my-bids",name:"my-bids",component:()=>Ne(()=>import("./MyBids-BKKwR4WY.js"),__vite__mapDeps([20,1,12,15,6,5,2,13])),meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:()=>Ne(()=>import("./ProviderProfile-C4Q7Jwmp.js"),__vite__mapDeps([21,1,22,2])),meta:{requiresAuth:!0}},{path:"/provider/:id",name:"public-provider-profile",component:()=>Ne(()=>import("./PublicProviderProfile-58BUJC_S.js"),__vite__mapDeps([23,1,22,2])),meta:{requiresAuth:!1}},{path:"/wallet",name:"wallet",component:()=>Ne(()=>import("./Wallet-goHk_ATS.js"),__vite__mapDeps([24,1,12,15,2])),meta:{requiresAuth:!0}},{path:"/receipts",name:"receipts",component:()=>Ne(()=>import("./Receipts-C_Pm0W5A.js"),__vite__mapDeps([25,1,2])),meta:{requiresAuth:!0}},{path:"/contracts",name:"contracts",component:()=>Ne(()=>import("./Contracts-xtw5KKiO.js"),__vite__mapDeps([26,1,2])),meta:{requiresAuth:!0}},{path:"/contracts/:id",name:"contract-detail",component:()=>Ne(()=>import("./ContractDetail-Bd4l2dBL.js"),__vite__mapDeps([27,1,2])),meta:{requiresAuth:!0}},{path:"/settings",name:"settings",component:()=>Ne(()=>import("./Settings-Bygg-YOx.js"),__vite__mapDeps([28,1,2])),meta:{requiresAuth:!0}},{path:"/notifications",name:"notifications",component:()=>Ne(()=>import("./Notifications-BFus66hL.js"),__vite__mapDeps([29,1,15,2,13])),meta:{requiresAuth:!0}},{path:"/admin/login",name:"admin-login",component:()=>Ne(()=>import("./AdminLogin-CFKkR1Qk.js"),__vite__mapDeps([30,1,2])),meta:{requiresAuth:!1,adminOnly:!0}},{path:"/admin/dashboard",name:"admin-dashboard",component:()=>Ne(()=>import("./AdminDashboard-Do3Q_igy.js"),__vite__mapDeps([31,1,32,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/users",name:"admin-users",component:()=>Ne(()=>import("./AdminUsers-Cxubvx_O.js"),__vite__mapDeps([33,1,32,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/projects",name:"admin-projects",component:()=>Ne(()=>import("./AdminProjects-wKP_eCBH.js"),__vite__mapDeps([34,1,5,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/payments",name:"admin-payments",component:()=>Ne(()=>import("./AdminPayments-Dm_ZHEw-.js"),__vite__mapDeps([35,1,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/disputes",name:"admin-disputes",component:()=>Ne(()=>import("./AdminDisputes-B-BqV5TU.js"),__vite__mapDeps([36,1,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/advertisements",name:"admin-advertisements",component:()=>Ne(()=>import("./AdminAdvertisements-BO7nw7lg.js"),__vite__mapDeps([37,1,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/settings",name:"admin-settings",component:()=>Ne(()=>import("./AdminSettings-DmpXEHcd.js"),__vite__mapDeps([38,1,2])),meta:{requiresAdminAuth:!0}},{path:"/:pathMatch(.*)*",redirect:"/"}],$e=A({history:j(),routes:Ue,scrollBehavior:(e,t,o)=>o||{top:0}});$e.beforeEach(async(e,t,o)=>{var a,r;const s="undefined"!=typeof window,n=O(),l=M(),i=s?localStorage.getItem("kadesh_token"):null,d=s?localStorage.getItem("adminToken"):null,c=e.meta.requiresAuth,u=e.meta.requiresAdminAuth,m=e.meta.guestOnly;if(u&&!d)return o({name:"admin-login"});if(c){if(!i)return o({name:"login",query:{redirect:e.fullPath}});const t=null==(r=null==(a=n.user)?void 0:a.value)?void 0:r.type;t&&("provider"===t?l.setProviderMode():"client"===t&&l.setContractorMode())}return m&&(n.isAuthenticated||i)?o({name:"dashboard"}):o()});const Fe=E(Be);Fe.use(P()),Fe.use($e),Fe.mount("#app");export{z as _,C as a,M as b,q as l,O as u};
