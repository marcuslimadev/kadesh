const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Ddf8q3G2.js","assets/vue-NU_yXd1p.js","assets/utils-CeLII1lI.js","assets/Tutorial-CrApWQzz.js","assets/AuctionLobby-ClwfjANp.js","assets/projectService-4pLdTShe.js","assets/bidService-DM45sMqV.js","assets/Login-SwW7ApgU.js","assets/Register-ZqOA-vc7.js","assets/ForgotPassword-CbOTcaWP.js","assets/ResetPassword-COkW3ZEJ.js","assets/Dashboard-zkBMto65.js","assets/StatusBadge-BUfCr2p2.js","assets/index-Ctu0mvSg.js","assets/Projects-BQdG7Fb1.js","assets/Pagination-CPcQ3YY2.js","assets/AdsPlans-Almq74QW.js","assets/ProjectDetail-D9gJ4xus.js","assets/CreateProject-DpLYOLKs.js","assets/MyProjects-8mxubiuS.js","assets/MyBids-DRQiDYvJ.js","assets/ProviderProfile-D1baAM67.js","assets/ReviewList-CCcu4K3S.js","assets/PublicProviderProfile-_jXgoqxV.js","assets/Wallet-BA29ASWE.js","assets/Receipts-qnLN5Lpg.js","assets/Contracts-CYpUOnpr.js","assets/ContractDetail-BAR_j8Kv.js","assets/Settings-UZkKHKJR.js","assets/Notifications-BJC5SKRb.js","assets/AdminLogin-iUD-WPSE.js","assets/AdminDashboard-5m57mFa8.js","assets/AdminLayout-DjknkRNv.js","assets/AdminUsers-DOXi_dOg.js","assets/AdminProjects-CvpL4Oop.js","assets/AdminPayments-7I592yLf.js","assets/AdminDisputes-TheuYsph.js","assets/AdminAdvertisements-DKojVoAN.js","assets/AdminSettings-BK_WZ5O-.js"])))=>i.map(i=>d[i]);
import{d as e,r as t,c as o,w as r,u as a,o as s,a as n,b as l,e as i,n as d,f as c,t as u,s as m,g as p,h,i as v,j as f,k as g,F as _,l as b,m as k,p as w,T as x,q as y,v as A,x as j,y as E,z as P,A as I}from"./vue-NU_yXd1p.js";import{a as C}from"./utils-CeLII1lI.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const S=C.create({baseURL:"",timeout:parseInt("30000")||6e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});S.interceptors.request.use(e=>{const t=localStorage.getItem("kadesh_token");return t&&"undefined"!==t&&"null"!==t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),S.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&console.warn("[API] 401 Unauthorized recebido"),Promise.reject(e)));const M="kadesh_view_mode",D=e("viewMode",()=>{const e=t((()=>{if("undefined"==typeof window)return"contractor";try{return localStorage.getItem(M)||"contractor"}catch{return"contractor"}})()),r=o(()=>"contractor"===e.value),a=o(()=>"provider"===e.value),s=o(()=>"contractor"===e.value?"Contratante":"Prestador"),n=o(()=>"contractor"===e.value?"C":"P"),l=o(()=>"contractor"===e.value?"blue":"green"),i=t=>{"contractor"===t||"provider"===t?(e.value=t,(e=>{if("undefined"!=typeof window)try{localStorage.setItem(M,e)}catch{}})(t)):console.error('Modo invÃ¡lido. Use "contractor" ou "provider"')};return{currentMode:e,isContractor:r,isProvider:a,modeLabel:s,modeIcon:n,modeColor:l,setMode:i,toggleMode:()=>{const t="contractor"===e.value?"provider":"contractor";i(t)},setContractorMode:()=>i("contractor"),setProviderMode:()=>i("provider")}}),L=e=>e&&"undefined"!==e&&"null"!==e?e:null,T=()=>{if("undefined"==typeof window)return console.log("[Auth] isSessionValid: window undefined"),!1;const e=L(localStorage.getItem("kadesh_token")),t=localStorage.getItem("kadesh_session_expires");if(console.log("[Auth] isSessionValid check:",{hasToken:!!e,tokenLength:(null==e?void 0:e.length)||0,expiresAt:t,expiresDate:t?new Date(parseInt(t)).toLocaleString("pt-BR"):"N/A"}),!e||!t)return console.warn("[Auth] isSessionValid: FALSE - token ou expiresAt ausente"),e||localStorage.removeItem("kadesh_token"),!1;const o=Date.now(),r=parseInt(t,10),a=o<r;if(a){const e=((r-o)/36e5).toFixed(2);console.log(`[Auth] isSessionValid: TRUE - vÃ¡lida por ${e}h`)}else console.warn("[Auth] isSessionValid: FALSE - sessÃ£o expirada",{now:new Date(o).toLocaleString("pt-BR"),expires:new Date(r).toLocaleString("pt-BR")});return a},V=()=>{if("undefined"==typeof window)return;const e=Date.now()+144e5;localStorage.setItem("kadesh_session_expires",e.toString()),console.log("[Auth] SessÃ£o renovada por 4 horas")},O=e("auth",()=>{const e=t(null),r=t(L(localStorage.getItem("kadesh_token"))),a=t(!1),s=o(()=>!!r.value&&T()),n=o(()=>{var t,o;return"client"===(null==(t=e.value)?void 0:t.type)||"both"===(null==(o=e.value)?void 0:o.type)}),l=o(()=>{var t;return["provider","unified","both"].includes(null==(t=e.value)?void 0:t.type)}),i=o(()=>{var t,o;return!0===(null==(t=e.value)?void 0:t.isAdmin)||"admin"===(null==(o=e.value)?void 0:o.type)}),d=o(()=>{var t;return(null==(t=e.value)?void 0:t.name)?e.value.name.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):""}),c=e=>{var t;try{const o=D(),r=null==e?void 0:e.type,a=(null==(t=o.currentMode)?void 0:t.value)||o.currentMode;"provider"===r&&"contractor"===a&&o.setProviderMode(),"client"===r&&"provider"===a&&o.setContractorMode()}catch(o){console.warn("[Auth] Erro ao sincronizar modo de visualizaÃ§Ã£o",o)}},u=()=>{e.value=null,r.value=null,localStorage.removeItem("kadesh_token"),localStorage.removeItem("kadesh_user"),localStorage.removeItem("kadesh_session_expires"),S.defaults.headers.common&&delete S.defaults.headers.common.Authorization},m=()=>{if((()=>{if("undefined"==typeof window)return;const e=localStorage.getItem("kadesh_token");"undefined"!==e&&"null"!==e||localStorage.removeItem("kadesh_token")})(),!T())return void u();const t=localStorage.getItem("kadesh_user"),o=L(localStorage.getItem("kadesh_token"));if(t&&o)try{e.value=JSON.parse(t),r.value=o,S.defaults.headers.common&&(S.defaults.headers.common.Authorization=`Bearer ${o}`),c(e.value)}catch(a){u()}};return m(),{user:e,token:r,isLoading:a,isAuthenticated:s,isClient:n,isProvider:l,isAdmin:i,userInitials:d,login:async(t,o)=>{var s,n,l,i,d;a.value=!0;try{const a=new URLSearchParams({email:t,password:o}),n=await S.post("/api/auth/login",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{user:l,token:i}=n.data||{};return i?(e.value=l,r.value=i,localStorage.setItem("kadesh_token",i),localStorage.setItem("kadesh_user",JSON.stringify(l)),V(),S.defaults.headers.common&&(S.defaults.headers.common.Authorization=`Bearer ${i}`),c(l),{success:!0,user:l}):{success:!1,error:(null==(s=n.data)?void 0:s.error)||"Token de acesso ausente"}}catch(u){return console.error("[Auth] Erro ao fazer login:",(null==(l=null==(n=u.response)?void 0:n.data)?void 0:l.error)||u.message),{success:!1,error:(null==(d=null==(i=u.response)?void 0:i.data)?void 0:d.error)||"Erro ao fazer login"}}finally{a.value=!1}},register:async t=>{var o,s,n;a.value=!0;try{const a=new URLSearchParams({name:(null==t?void 0:t.name)||"",email:(null==t?void 0:t.email)||"",password:(null==t?void 0:t.password)||"",user_type:(null==t?void 0:t.user_type)||(null==t?void 0:t.type)||"both"}),s=await S.post("/api/auth/register",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),{user:n,token:l}=s.data||{};return l?(e.value=n,r.value=l,localStorage.setItem("kadesh_token",l),localStorage.setItem("kadesh_user",JSON.stringify(n)),V(),S.defaults.headers.common&&(S.defaults.headers.common.Authorization=`Bearer ${l}`),c(n),{success:!0,user:n}):{success:!1,error:(null==(o=s.data)?void 0:o.error)||"Token de acesso ausente"}}catch(l){return console.error("[Auth] Erro ao registrar:",l),{success:!1,error:(null==(n=null==(s=l.response)?void 0:s.data)?void 0:n.error)||"Erro ao criar conta"}}finally{a.value=!1}},logout:u,verifyToken:async()=>{if(!T())return u(),!1;if(r.value&&!e.value){const o=localStorage.getItem("kadesh_user");if(o)try{e.value=JSON.parse(o),c(e.value)}catch(t){return u(),!1}}return V(),!0},updateProfile:async t=>{var o,r;a.value=!0;try{const o=await S.put("/api/users/profile",t);return e.value=o.data.user,localStorage.setItem("kadesh_user",JSON.stringify(o.data.user)),{success:!0,user:o.data.user}}catch(s){return{success:!1,error:(null==(r=null==(o=s.response)?void 0:o.data)?void 0:r.error)||"Erro ao atualizar perfil"}}finally{a.value=!1}},initializeAuth:m}}),R="kadesh_theme",q=e("theme",()=>{const e=t((()=>{if("undefined"==typeof window)return"light";try{const e=localStorage.getItem(R);return e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}catch(e){return console.warn("NÃ£o foi possÃ­vel restaurar o tema salvo:",e),"light"}})()),a=o(()=>"dark"===e.value),s=o(()=>"light"===e.value),n=()=>{if("undefined"==typeof document)return;const t=document.documentElement;t.classList.remove("theme-dark","theme-light"),t.classList.add(`theme-${e.value}`)},l=t=>{e.value="dark"===t?"dark":"light",(e=>{if("undefined"!=typeof window)try{localStorage.setItem(R,e)}catch(t){console.warn("NÃ£o foi possÃ­vel salvar o tema selecionado:",t)}})(e.value)};return r(()=>{n()}),{currentTheme:e,isDark:a,isLight:s,toggleTheme:()=>{l(a.value?"light":"dark")},setTheme:l,applyTheme:n}}),z=e("sidebar",()=>{const e=t(!0);return{isVisible:e,show:()=>{e.value=!0},hide:()=>{e.value=!0},toggle:()=>{e.value=!0}}}),B="/dist/assets/logo-0SHYoDMy.png",H=(e,t)=>{const o=e.__vccOpts||e;for(const[r,a]of t)o[r]=a;return o},N={class:"md:hidden flex items-center justify-center"},U={class:"text-xl transition-transform duration-500"},$={class:"text-sm"},F=H({__name:"ViewModeSwitch",props:{variant:{type:String,default:"default"}},setup(e){const r=e,m=o(()=>"sidebar"===r.variant),p=D(),h=t(!1),v=a();s(()=>{if("undefined"==typeof window)return;const e=parseInt(localStorage.getItem("kadesh_viewmode_tooltip_count")||"0");e<3&&(h.value=!0,localStorage.setItem("kadesh_viewmode_tooltip_count",(e+1).toString()),setTimeout(()=>{h.value=!1},5e3))});const f=e=>{p.setMode(e);const t={name:"auction-lobby",query:{mode:e,ts:Date.now()}};("auction-lobby"===v.currentRoute.value.name?v.replace:v.push)(t).catch(()=>{})};return(e,t)=>(l(),n("div",{class:d(["view-mode-switch",m.value?"view-mode-switch--sidebar":""])},[i("div",{class:d(["hidden md:flex items-center rounded-full transition-all duration-500","vm-shell",m.value?"vm-shell--sidebar":"vm-shell--inline"])},[i("button",{onClick:t[0]||(t[0]=e=>f("contractor")),class:d(["vm-pill",m.value?"vm-pill--sidebar":"vm-pill--inline",c(p).isContractor?"vm-pill--active":"vm-pill--inactive"])},[i("span",{class:d(["text-lg transition-transform duration-500",c(p).isContractor?"scale-110":""])},"ðŸ“˜",2),t[3]||(t[3]=i("span",{class:"text-sm font-semibold"},"Contratante",-1))],2),i("button",{onClick:t[1]||(t[1]=e=>f("provider")),class:d(["vm-pill",m.value?"vm-pill--sidebar":"vm-pill--inline",c(p).isProvider?"vm-pill--active":"vm-pill--inactive"])},[i("span",{class:d(["text-lg transition-transform duration-500",c(p).isProvider?"scale-110":""])},"ðŸ› ï¸",2),t[4]||(t[4]=i("span",{class:"text-sm font-semibold"},"Prestador",-1))],2)],2),i("div",N,[i("button",{onClick:t[2]||(t[2]=e=>(()=>{const e=p.isContractor?"provider":"contractor";f(e)})()),class:"vm-pill vm-pill--mobile"},[i("span",U,u(c(p).modeIcon),1),i("span",$,"Ver como "+u(c(p).modeLabel),1),(l(),n("svg",{class:d(["w-4 h-4 transition-transform duration-700",c(p).isProvider?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[5]||(t[5]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},null,-1)])],2))])])],2))}},[["__scopeId","data-v-474cc0e4"]]),K={class:"sticky top-0 z-50 bg-nav text-offwhite flex md:hidden items-center justify-between px-4 py-3 shadow-lg border-b border-gold/20"},J=["src"],W={class:"h-6 w-6 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},G={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},Q={class:"absolute top-0 right-0 w-72 h-full sidebar-drawer p-4 overflow-y-auto shadow-2xl"},X={class:"flex items-center justify-between mb-4"},Z=["src"],ee={key:0,class:"mb-4"},te={class:"sidebar-switch"},oe={class:"mb-4"},re={class:"flex items-center gap-2"},ae={class:"h-5 w-5 text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},se=["d"],ne={class:"font-semibold sidebar-text"},le={class:"text-xs font-semibold sidebar-theme-chip"},ie={class:"space-y-2"},de={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ce=["d"],ue={key:1,class:"mt-6 border-t pt-4 space-y-2"},me={class:"h-5 w-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},pe=["d"],he={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ve=["d"],fe={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ge=["d"],_e={class:"fixed inset-y-0 left-0 w-64 bg-nav text-offwhite z-30 hidden md:flex flex-col border-r border-gold/20 shadow-2xl"},be={class:"p-6 border-b border-gold/20 flex items-center justify-between gap-3"},ke=["src"],we={key:0,class:"p-4 border-b border-gold/20"},xe={class:"sidebar-switch"},ye={class:"p-4 border-b border-gold/20"},Ae={class:"flex items-center gap-3"},je={class:"relative w-8 h-8 flex items-center justify-center"},Ee=["d"],Pe={class:"font-semibold sidebar-text"},Ie={class:"text-xs font-medium px-2 py-1 rounded-full sidebar-theme-chip"},Ce={class:"flex-1 overflow-y-auto p-4 space-y-1"},Se={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Me=["d"],De={class:"mt-4"},Le={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Te=["d"],Ve={key:0,class:"mt-4"},Oe={class:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Re=["d"],qe={class:"text-red-400"},ze={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Be=["d"],He={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ne=["d"],Ue={class:"p-4 border-t border-gold/20 text-sm"},$e={key:0,class:"flex items-center gap-3"},Fe={class:"w-10 h-10 bg-gold text-dark rounded-full flex items-center justify-center font-bold"},Ke={class:"font-semibold"},Je={class:"text-offwhite-muted text-xs"},We={key:1,class:"space-x-2"},Ye=H({__name:"NavBar",setup(e){const r=a(),s=O();D();const y=q(),A=z(),{isVisible:j}=m(A),E=t(!1),P=s.token,I=o(()=>{const e=P&&"object"==typeof P&&"value"in P?P.value:P,t="undefined"!=typeof window?localStorage.getItem("kadesh_token"):null;return Boolean(e||(t&&"undefined"!==t&&"null"!==t?t:null))}),C=o(()=>{const e=s.isAdmin;return e&&"object"==typeof e&&"value"in e?e.value:e}),S=o(()=>s.user),M=o(()=>s.userInitials);o(()=>j.value);const L=o(()=>r.currentRoute.value.path),T=o(()=>y.isDark?"Tema escuro":"Tema claro"),V=o(()=>y.isDark?"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z":"M12 3v2m0 14v2m9-9h-2M5 12H3m14.364-7.364l-1.414 1.414M7.05 16.95l-1.414 1.414m0-12.728l1.414 1.414M16.95 16.95l1.414 1.414M12 7a5 5 0 100 10 5 5 0 000-10z"),R={target:"M12 3a9 9 0 100 18 9 9 0 000-18zm0 4a5 5 0 100 10 5 5 0 000-10zm0 3a2 2 0 110 4 2 2 0 010-4z",book:"M4 6.5A2.5 2.5 0 016.5 4h9A2.5 2.5 0 0118 6.5v11a.5.5 0 01-.757.429L12 14.5l-5.243 3.429A.5.5 0 016 17.5v-11z",dashboard:"M4 13h6v8H4v-8zm0-10h6v8H4V3zm10 10h6v8h-6v-8zm0-10h6v8h-6V3z",projects:"M4 6h16M4 12h16M4 18h16",bids:"M12 6v2m0 8v2m0-6a2 2 0 100-4 2 2 0 000 4zm0 8c-4.418 0-8-2.686-8-6 0-1.657 1.343-3 3-3h10c1.657 0 3 1.343 3 3 0 3.314-3.582 6-8 6z",contracts:"M7 7h10M7 11h10M7 15h6m-1-10l-2-2H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7h-4z",wallet:"M4 7h16v10H4z M4 11h12",receipts:"M7 5h10v14l-2-1-2 1-2-1-2 1-2-1-2 1V5z M9 9h6m-6 4h6",bell:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",profile:"M12 12a5 5 0 100-10 5 5 0 000 10zm-7 8a7 7 0 0114 0",settings:"M10.325 4.317l1.09-.63a1 1 0 011.09 0l1.09.63a1 1 0 00.98 0l1.26-.73a1 1 0 011.5.86v1.26a1 1 0 00.29.7l.9.9a1 1 0 010 1.41l-.9.9a1 1 0 00-.29.71v1.26a1 1 0 01-1.5.86l-1.26-.73a1 1 0 00-.98 0l-1.09.63a1 1 0 01-1.09 0l-1.09-.63a1 1 0 00-.98 0l-1.26.73a1 1 0 01-1.5-.86v-1.26a1 1 0 00-.29-.7l-.9-.9a1 1 0 010-1.41l.9-.9a1 1 0 00.29-.71v-1.26a1 1 0 011.5-.86l1.26.73a1 1 0 00.98 0z",admin:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},H=[{to:"/lobby",label:"Lobby",icon:"target",auth:!0},{to:"/tutorial",label:"Tutorial",icon:"book"},{to:"/dashboard",label:"Dashboard",icon:"dashboard",auth:!0}],N=[{to:"/projects",label:"Projetos",icon:"projects"},{to:"/my-projects",label:"Meus Projetos",icon:"projects"}],U=[{to:"/my-bids",label:"Minhas Propostas",icon:"bids"},{to:"/contracts",label:"Contratos",icon:"contracts"}],$=[{to:"/wallet",label:"Carteira",icon:"wallet"},{to:"/receipts",label:"Comprovantes",icon:"receipts"},{to:"/notifications",label:"NotificaÃ§Ãµes",icon:"bell"}],Ye="/profile",Ge="Meu Perfil",Qe="profile",Xe="/settings",Ze="ConfiguraÃ§Ãµes",et="settings",tt="/admin/dashboard",ot="Admin",rt="admin",at=o(()=>{if(!I.value)return H.filter(e=>!e.auth);const e=[...H];return s.isClient&&e.push(...N),s.isProvider&&e.push(...U),e}),st=o(()=>I.value?$:[]),nt=o(()=>{const e=[...H];return I.value&&(s.isClient&&e.push(...N),s.isProvider&&e.push(...U),e.push(...$)),e}),lt=e=>"/"===e?"/"===L.value:L.value===e||L.value.startsWith(`${e}/`),it=e=>["sidebar-link",lt(e)?"sidebar-link-active":"sidebar-link-idle"],dt=e=>["sidebar-link",lt(e)?"sidebar-link-active":"sidebar-link-idle"],ct=e=>{E.value=!1,r.push(e)},ut=async()=>{await s.logout(),E.value=!1,r.push("/")},mt=()=>{y.toggleTheme()};return(e,t)=>{var o,r;const a=p("router-link");return l(),n(_,null,[i("header",K,[h(a,{to:"/",class:"flex items-center gap-3"},{default:v(()=>[i("img",{src:c(B),alt:"Kaddesh",class:"h-10 w-10 rounded-lg border border-gold/40 object-cover"},null,8,J),t[6]||(t[6]=i("div",null,[i("p",{class:"text-sm text-gold font-semibold"},"KADDESH"),i("p",{class:"text-xs text-offwhite-muted"},"Service Bridge")],-1))]),_:1}),i("button",{onClick:t[0]||(t[0]=e=>E.value=!E.value),class:"p-2 rounded-md hover:bg-dark-80 transition-all duration-200 hover:scale-110","aria-label":"Abrir menu"},[(l(),n("svg",W,[E.value?(l(),n("path",G)):(l(),n("path",Y))]))])]),h(x,{name:"fade"},{default:v(()=>[E.value?(l(),n("div",{key:0,class:"md:hidden fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",onClick:t[5]||(t[5]=g(e=>E.value=!1,["self"]))},[i("div",Q,[i("div",X,[h(a,{to:"/",class:"flex items-center gap-2"},{default:v(()=>[i("img",{src:c(B),alt:"Kaddesh",class:"h-10 w-10 rounded-lg border border-gold/40 object-cover"},null,8,Z),t[7]||(t[7]=i("div",null,[i("p",{class:"text-sm font-semibold sidebar-text"},"KADDESH"),i("p",{class:"text-xs sidebar-muted"},"Service Bridge")],-1))]),_:1}),i("button",{onClick:t[1]||(t[1]=e=>E.value=!1),class:"p-2 rounded sidebar-close-btn"},[...t[8]||(t[8]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),I.value?(l(),n("div",ee,[i("div",te,[h(F,{variant:"sidebar"})])])):f("",!0),i("div",oe,[i("button",{class:"w-full flex items-center justify-between px-3 py-2 rounded-lg sidebar-theme-btn",onClick:mt},[i("span",re,[(l(),n("svg",ae,[i("path",{d:V.value,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,8,se)])),i("span",ne,u(T.value),1)]),i("span",le,u(c(y).isDark?"ðŸŒ™":"â˜€ï¸"),1)])]),i("div",ie,[(l(!0),n(_,null,b(nt.value,e=>(l(),k(a,{key:e.to,to:e.to,class:d(dt(e.to)),onClick:t=>ct(e.to)},{default:v(()=>[(l(),n("svg",de,[i("path",{d:R[e.icon]||R.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,ce)])),i("span",null,u(e.label),1)]),_:2},1032,["to","class","onClick"]))),128))]),I.value?(l(),n("div",ue,[C.value?(l(),k(a,{key:0,to:tt,class:"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-semibold sidebar-danger",onClick:t[2]||(t[2]=e=>ct(tt))},{default:v(()=>[(l(),n("svg",me,[i("path",{d:R[rt]||R.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,pe)])),i("span",null,u(ot),1)]),_:1},8,["to"])):f("",!0),h(a,{to:Ye,class:d(dt(Ye)),onClick:t[3]||(t[3]=e=>ct(Ye))},{default:v(()=>[(l(),n("svg",he,[i("path",{d:R[Qe]||R.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,ve)])),i("span",null,u(Ge),1)]),_:1},8,["to","class"]),h(a,{to:Xe,class:d(dt(Xe)),onClick:t[4]||(t[4]=e=>ct(Xe))},{default:v(()=>[(l(),n("svg",fe,[i("path",{d:R[et]||R.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,ge)])),i("span",null,u(Ze),1)]),_:1},8,["to","class"]),i("button",{onClick:ut,class:"w-full flex items-center gap-2 px-3 py-2 rounded-lg sidebar-danger"},[...t[9]||(t[9]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17l5-5-5-5M20 12H9m4 9H5a2 2 0 01-2-2V5a2 2 0 012-2h8"})],-1),w(" Sair ",-1)])])])):f("",!0)])])):f("",!0)]),_:1}),i("aside",_e,[i("div",be,[h(a,{to:"/",class:"flex items-center gap-3"},{default:v(()=>[i("img",{src:c(B),alt:"Kaddesh",class:"h-14 w-14 rounded-xl border border-gold/40 object-cover shadow"},null,8,ke),t[10]||(t[10]=i("div",null,[i("p",{class:"text-gold font-heading text-xl leading-none"},"KADDESH"),i("p",{class:"text-xs text-offwhite-muted"},"Service Bridge")],-1))]),_:1})]),I.value?(l(),n("div",we,[i("div",xe,[h(F,{variant:"sidebar"})])])):f("",!0),i("div",ye,[i("button",{class:"w-full flex items-center justify-between px-4 py-3 rounded-xl sidebar-theme-btn group",onClick:mt},[i("span",Ae,[i("div",je,[(l(),n("svg",{class:d(["h-6 w-6 transition-all duration-300",(c(y).isDark,"text-[#D4AF37]")]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:V.value,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,8,Ee)],2))]),i("span",Pe,u(c(y).isDark?"Modo Escuro":"Modo Claro"),1)]),i("span",Ie,u(c(y).isDark?"ðŸŒ™":"â˜€ï¸"),1)])]),i("nav",Ce,[(l(!0),n(_,null,b(at.value,e=>(l(),k(a,{key:e.to,to:e.to,class:d(it(e.to))},{default:v(()=>[(l(),n("svg",Se,[i("path",{d:R[e.icon]||R.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Me)])),i("span",null,u(e.label),1)]),_:2},1032,["to","class"]))),128)),i("div",De,[t[11]||(t[11]=i("p",{class:"text-xs uppercase tracking-wide text-offwhite-muted px-2 mb-2"},"Acesso rÃ¡pido",-1)),(l(!0),n(_,null,b(st.value,e=>(l(),k(a,{key:e.to,to:e.to,class:d(it(e.to))},{default:v(()=>[(l(),n("svg",Le,[i("path",{d:R[e.icon]||R.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Te)])),i("span",null,u(e.label),1)]),_:2},1032,["to","class"]))),128))]),I.value?(l(),n("div",Ve,[t[13]||(t[13]=i("p",{class:"text-xs uppercase tracking-wide text-offwhite-muted px-2 mb-2"},"Conta",-1)),C.value?(l(),k(a,{key:0,to:tt,class:d(it(tt))},{default:v(()=>[(l(),n("svg",Oe,[i("path",{d:R[rt]||R.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Re)])),i("span",qe,u(ot),1)]),_:1},8,["to","class"])):f("",!0),h(a,{to:Ye,class:d(it(Ye))},{default:v(()=>[(l(),n("svg",ze,[i("path",{d:R[Qe]||R.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Be)])),i("span",null,u(Ge),1)]),_:1},8,["to","class"]),h(a,{to:Xe,class:d(it(Xe))},{default:v(()=>[(l(),n("svg",He,[i("path",{d:R[et]||R.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Ne)])),i("span",null,u(Ze),1)]),_:1},8,["to","class"]),i("button",{onClick:ut,class:"mt-2 w-full flex items-center gap-2 px-3 py-2 rounded-lg sidebar-danger"},[...t[12]||(t[12]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17l5-5-5-5M20 12H9m4 9H5a2 2 0 01-2-2V5a2 2 0 012-2h8"})],-1),w(" Sair ",-1)])])])):f("",!0)]),i("div",Ue,[I.value?(l(),n("div",$e,[i("div",Fe,u(M.value),1),i("div",null,[i("p",Ke,u(null==(o=S.value)?void 0:o.name),1),i("p",Je,u(null==(r=S.value)?void 0:r.email),1)])])):(l(),n("div",We,[h(a,{to:"/login",class:"text-gold font-semibold hover:underline"},{default:v(()=>[...t[14]||(t[14]=[w("Login",-1)])]),_:1}),t[16]||(t[16]=i("span",{class:"text-offwhite-muted"},"/",-1)),h(a,{to:"/register",class:"text-gold font-semibold hover:underline"},{default:v(()=>[...t[15]||(t[15]=[w("Cadastrar",-1)])]),_:1})]))])])],64)}}},[["__scopeId","data-v-0cd1a27e"]]),Ge={class:"bg-gray-900 text-white mt-auto"},Qe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},Xe={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},Ze={class:"space-y-2"},et={class:"border-t border-gray-800 mt-8 pt-8 text-center"},tt={class:"text-gray-400 text-sm"},ot={__name:"Footer",setup(e){const t=o(()=>(new Date).getFullYear());return(e,o)=>{const r=p("router-link");return l(),n("footer",Ge,[i("div",Qe,[i("div",Xe,[o[3]||(o[3]=i("div",null,[i("h3",{class:"text-lg font-bold mb-4"},"Kadesh"),i("p",{class:"text-gray-400 text-sm"}," Conectando profissionais talentosos com projetos incrÃ­veis. ")],-1)),i("div",null,[o[2]||(o[2]=i("h4",{class:"text-sm font-semibold mb-4 uppercase tracking-wider"},"Plataforma",-1)),i("ul",Ze,[i("li",null,[h(r,{to:"/projects",class:"text-gray-400 hover:text-white text-sm transition"},{default:v(()=>[...o[0]||(o[0]=[w(" Explorar Projetos ",-1)])]),_:1})]),i("li",null,[h(r,{to:"/register",class:"text-gray-400 hover:text-white text-sm transition"},{default:v(()=>[...o[1]||(o[1]=[w(" Criar Conta ",-1)])]),_:1})])])]),o[4]||(o[4]=y('<div><h4 class="text-sm font-semibold mb-4 uppercase tracking-wider">Suporte</h4><ul class="space-y-2"><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Central de Ajuda </a></li><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Contato </a></li></ul></div><div><h4 class="text-sm font-semibold mb-4 uppercase tracking-wider">Legal</h4><ul class="space-y-2"><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Termos de Uso </a></li><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Privacidade </a></li></ul></div>',2))]),i("div",et,[i("p",tt," Â© "+u(t.value)+" Kadesh. Todos os direitos reservados. ",1)])])])}}},rt={key:0,class:"fixed top-4 right-4 z-40 flex items-center gap-2"},at={class:"text-lg"},st={class:"text-sm font-bold"},nt={__name:"ModeIndicator",setup(e){const t=a(),r=A(),s=O(),m=D(),p=z(),h=o(()=>s.isAuthenticated),v=o(()=>{if(r.path.startsWith("/admin"))return!1;return!(p.isVisible&&"object"==typeof p.isVisible&&"value"in p.isVisible?p.isVisible.value:p.isVisible)}),g=()=>{m.toggleMode(),m.isProvider?t.push("/my-bids"):t.push("/projects")};return(e,t)=>h.value&&v.value?(l(),n("div",rt,[i("div",{class:d(["flex items-center gap-2 px-4 py-2 rounded-full shadow-lg backdrop-blur-sm border transition-all duration-300",c(m).isProvider?"bg-emerald-500/90 border-emerald-400/50 text-white":"bg-amber-500/90 border-amber-400/50 text-white"])},[i("span",at,u(c(m).isProvider?"ðŸ› ï¸":"ðŸ“˜"),1),i("span",st,u(c(m).isProvider?"Prestador":"Contratante"),1)],2),i("button",{onClick:g,class:"p-2 rounded-full bg-surface border border-accent/30 shadow-lg hover:border-accent/60 hover:scale-105 transition-all",title:"Alternar modo"},[...t[0]||(t[0]=[i("svg",{class:"w-4 h-4 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])])])):f("",!0)}},lt={key:0,class:"fixed inset-0 bg-white z-50 flex items-center justify-center"},it={__name:"App",setup(e){const r=A(),a=O(),c=q(),u=z(),m=t(!0),v=o(()=>{if(["login","register","forgot-password","reset-password"].includes(r.name)||r.path&&r.path.startsWith("/admin"))return console.log("[App] Rota de auth - nÃ£o mostrar nav:",r.name),!1;const e=a.token&&"object"==typeof a.token&&"value"in a.token?a.token.value:a.token,t="undefined"!=typeof window?localStorage.getItem("kadesh_token"):null,o=!(!e&&!t);return console.log("[App] showNavigation check:",{route:r.name,authenticated:o,hasToken:!!e,hasUser:!!a.user}),o}),g=o(()=>{if(!v.value)return"app-main";return(u.isVisible&&"object"==typeof u.isVisible&&"value"in u.isVisible?u.isVisible.value:u.isVisible)?"app-main pt-16 md:pt-0 md:pl-64":"app-main pt-16 md:pt-0"}),b=o(()=>["min-h-screen app-shell",c.isDark?"theme-dark":"theme-light"]),w=()=>{m.value&&(m.value=!1)};return s(()=>{const e=setTimeout(w,2e3);(async()=>{try{return await S.get("/api/health",{timeout:7e4}),!0}catch(e){return!1}})().catch(()=>{});if(!((a.token&&"object"==typeof a.token&&"value"in a.token?a.token.value:a.token)||"undefined"!=typeof window&&localStorage.getItem("kadesh_token")))return clearTimeout(e),void w();a.verifyToken().catch(e=>{console.warn("App initialization: token verify falhou, mas mantendo sessÃ£o se token existir",e.message)}).finally(()=>{clearTimeout(e),w()}),c.applyTheme()}),(e,t)=>{const o=p("router-view");return l(),n("div",{id:"app",class:d(b.value)},[m.value?(l(),n("div",lt,[...t[0]||(t[0]=[i("div",{class:"text-center"},[i("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"}),i("p",{class:"mt-4 text-gray-600"},"Carregando...")],-1)])])):(l(),n(_,{key:1},[v.value?(l(),k(Ye,{key:0})):f("",!0),v.value?(l(),k(nt,{key:1})):f("",!0),i("main",{class:d(g.value)},[h(o)],2),v.value?(l(),k(ot,{key:2})):f("",!0)],64))],2)}}},dt={},ct=function(e,t,o){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),o=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/dist/"+e}(e))in dt)return;dt[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,o&&a.setAttribute("nonce",o),document.head.appendChild(a),t?new Promise((t,o)=>{a.addEventListener("load",t),a.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},ut=[{path:"/",name:"home",component:()=>ct(()=>import("./Home-Ddf8q3G2.js"),__vite__mapDeps([0,1,2])),meta:{requiresAuth:!1}},{path:"/tutorial",name:"tutorial",component:()=>ct(()=>import("./Tutorial-CrApWQzz.js"),__vite__mapDeps([3,1])),meta:{requiresAuth:!1}},{path:"/lobby",name:"auction-lobby",component:()=>ct(()=>import("./AuctionLobby-ClwfjANp.js"),__vite__mapDeps([4,1,5,6,2])),meta:{requiresAuth:!0}},{path:"/login",name:"login",component:()=>ct(()=>import("./Login-SwW7ApgU.js"),__vite__mapDeps([7,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/register",name:"register",component:()=>ct(()=>import("./Register-ZqOA-vc7.js"),__vite__mapDeps([8,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/forgot-password",name:"forgot-password",component:()=>ct(()=>import("./ForgotPassword-CbOTcaWP.js"),__vite__mapDeps([9,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/reset-password",name:"reset-password",component:()=>ct(()=>import("./ResetPassword-COkW3ZEJ.js"),__vite__mapDeps([10,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/dashboard",name:"dashboard",component:()=>ct(()=>import("./Dashboard-zkBMto65.js"),__vite__mapDeps([11,12,1,2,13])),meta:{requiresAuth:!0}},{path:"/projects",name:"projects",component:()=>ct(()=>import("./Projects-BQdG7Fb1.js"),__vite__mapDeps([14,1,12,2,13,15,5])),meta:{requiresAuth:!1}},{path:"/ads",name:"ads-plans",component:()=>ct(()=>import("./AdsPlans-Almq74QW.js"),__vite__mapDeps([16,1,2])),meta:{requiresAuth:!1}},{path:"/projects/:id",name:"project-detail",component:()=>ct(()=>import("./ProjectDetail-D9gJ4xus.js"),__vite__mapDeps([17,1,12,2,13,5,6])),meta:{requiresAuth:!1}},{path:"/projects/create",name:"create-project",component:()=>ct(()=>import("./CreateProject-DpLYOLKs.js"),__vite__mapDeps([18,1,5,2])),meta:{requiresAuth:!0}},{path:"/my-projects",name:"my-projects",component:()=>ct(()=>import("./MyProjects-8mxubiuS.js"),__vite__mapDeps([19,1,15,5,2])),meta:{requiresAuth:!0}},{path:"/my-bids",name:"my-bids",component:()=>ct(()=>import("./MyBids-DRQiDYvJ.js"),__vite__mapDeps([20,1,12,15,6,5,2,13])),meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:()=>ct(()=>import("./ProviderProfile-D1baAM67.js"),__vite__mapDeps([21,1,22,2])),meta:{requiresAuth:!0}},{path:"/provider/:id",name:"public-provider-profile",component:()=>ct(()=>import("./PublicProviderProfile-_jXgoqxV.js"),__vite__mapDeps([23,1,22,2])),meta:{requiresAuth:!1}},{path:"/wallet",name:"wallet",component:()=>ct(()=>import("./Wallet-BA29ASWE.js"),__vite__mapDeps([24,1,12,15,2])),meta:{requiresAuth:!0}},{path:"/receipts",name:"receipts",component:()=>ct(()=>import("./Receipts-qnLN5Lpg.js"),__vite__mapDeps([25,1,2])),meta:{requiresAuth:!0}},{path:"/contracts",name:"contracts",component:()=>ct(()=>import("./Contracts-CYpUOnpr.js"),__vite__mapDeps([26,1,2])),meta:{requiresAuth:!0}},{path:"/contracts/:id",name:"contract-detail",component:()=>ct(()=>import("./ContractDetail-BAR_j8Kv.js"),__vite__mapDeps([27,1,2])),meta:{requiresAuth:!0}},{path:"/settings",name:"settings",component:()=>ct(()=>import("./Settings-UZkKHKJR.js"),__vite__mapDeps([28,1,2])),meta:{requiresAuth:!0}},{path:"/notifications",name:"notifications",component:()=>ct(()=>import("./Notifications-BJC5SKRb.js"),__vite__mapDeps([29,1,15,2,13])),meta:{requiresAuth:!0}},{path:"/admin/login",name:"admin-login",component:()=>ct(()=>import("./AdminLogin-iUD-WPSE.js"),__vite__mapDeps([30,1,2])),meta:{requiresAuth:!1,adminOnly:!0}},{path:"/admin/dashboard",name:"admin-dashboard",component:()=>ct(()=>import("./AdminDashboard-5m57mFa8.js"),__vite__mapDeps([31,1,32,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/users",name:"admin-users",component:()=>ct(()=>import("./AdminUsers-DOXi_dOg.js"),__vite__mapDeps([33,1,32,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/projects",name:"admin-projects",component:()=>ct(()=>import("./AdminProjects-CvpL4Oop.js"),__vite__mapDeps([34,1,5,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/payments",name:"admin-payments",component:()=>ct(()=>import("./AdminPayments-7I592yLf.js"),__vite__mapDeps([35,1,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/disputes",name:"admin-disputes",component:()=>ct(()=>import("./AdminDisputes-TheuYsph.js"),__vite__mapDeps([36,1,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/advertisements",name:"admin-advertisements",component:()=>ct(()=>import("./AdminAdvertisements-DKojVoAN.js"),__vite__mapDeps([37,1,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/settings",name:"admin-settings",component:()=>ct(()=>import("./AdminSettings-BK_WZ5O-.js"),__vite__mapDeps([38,1,2])),meta:{requiresAdminAuth:!0}},{path:"/:pathMatch(.*)*",redirect:"/"}],mt=j({history:E(),routes:ut,scrollBehavior:(e,t,o)=>o||{top:0}});mt.beforeEach(async(e,t,o)=>{var r,a;const s="undefined"!=typeof window,n=O(),l=D(),i=s?localStorage.getItem("kadesh_token"):null,d=s?localStorage.getItem("adminToken"):null,c=e.meta.requiresAuth,u=e.meta.requiresAdminAuth,m=e.meta.guestOnly;if(u&&!d)return o({name:"admin-login"});if(c){if(!i)return o({name:"login",query:{redirect:e.fullPath}});const t=null==(a=null==(r=n.user)?void 0:r.value)?void 0:a.type;t&&("provider"===t?l.setProviderMode():"client"===t&&l.setContractorMode())}return m&&(n.isAuthenticated||i)?o({name:"dashboard"}):o()});const pt=P(it);pt.use(I()),pt.use(mt),pt.mount("#app");export{H as _,S as a,D as b,B as l,O as u};
