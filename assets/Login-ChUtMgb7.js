import{K as e,r as s,a,e as r,h as t,j as l,g as o,p as i,k as n,i as d,B as m,C as c,n as u,t as p,L as x,M as f,u as y,b}from"./vue-_iW_wwAQ.js";import{u as w}from"./index-B0Cgd4q8.js";import"./utils-CeLII1lI.js";const h={class:"min-h-screen bg-page flex flex-col justify-center py-12 sm:px-6 lg:px-8"},v={class:"sm:mx-auto sm:w-full sm:max-w-md"},g={class:"mt-2 text-center text-sm text-body"},k={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},M={class:"bg-surface py-8 px-4 shadow sm:rounded-lg sm:px-10"},j={class:"mt-1"},C={key:0,class:"mt-1 text-sm text-red-600"},E={class:"mt-1 relative"},L=["type"],z={key:0,class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},B={key:1,class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_={key:0,class:"mt-1 text-sm text-red-600"},S={class:"flex items-center justify-between"},V={class:"flex items-center"},q={class:"text-sm"},A={key:0,class:"rounded-md bg-red-50 p-4"},U={class:"flex"},K={class:"ml-3"},H={class:"text-sm text-red-700"},O=["disabled"],T={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},$={__name:"Login",setup($){const D=y(),F=w(),G=e({email:"",password:"",rememberMe:!1}),I=e({email:"",password:"",general:""}),J=s(!1),N=s(!1),P=async()=>{if((()=>{let e=!0;return I.email="",I.password="",I.general="",G.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(G.email)||(I.email="Email inválido",e=!1):(I.email="Email é obrigatório",e=!1),G.password?G.password.length<6&&(I.password="Senha deve ter pelo menos 6 caracteres",e=!1):(I.password="Senha é obrigatória",e=!1),e})()){N.value=!0;try{const e=await F.login(G.email,G.password);e.success?D.push("/lobby"):I.general=e.error}catch(e){I.general="Erro ao fazer login. Tente novamente."}finally{N.value=!1}}};return(e,s)=>{const y=o("router-link");return b(),a("div",h,[r("div",v,[t(y,{to:"/",class:"flex justify-center"},{default:l(()=>[...s[4]||(s[4]=[r("h1",{class:"text-4xl font-bold text-primary-600"},"Kaddesh",-1)])]),_:1}),s[7]||(s[7]=r("h2",{class:"mt-6 text-center text-3xl font-extrabold text-heading"}," Entre na sua conta ",-1)),r("p",g,[s[6]||(s[6]=i(" Ou ",-1)),t(y,{to:"/register",class:"font-medium text-primary-600 hover:text-primary-500"},{default:l(()=>[...s[5]||(s[5]=[i(" crie uma nova conta ",-1)])]),_:1})])]),r("div",k,[r("div",M,[r("form",{onSubmit:n(P,["prevent"]),class:"space-y-6"},[r("div",null,[s[8]||(s[8]=r("label",{for:"email",class:"block text-sm font-medium text-body"}," Email ",-1)),r("div",j,[m(r("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=e=>G.email=e),type:"email",autocomplete:"email",required:"",class:u(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",{"border-red-500":I.email}]),placeholder:"seu@email.com"},null,2),[[c,G.email]]),I.email?(b(),a("p",C,p(I.email),1)):d("",!0)])]),r("div",null,[s[11]||(s[11]=r("label",{for:"password",class:"block text-sm font-medium text-body"}," Senha ",-1)),r("div",E,[m(r("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=e=>G.password=e),type:J.value?"text":"password",autocomplete:"current-password",required:"",class:u(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm pr-10",{"border-red-500":I.password}]),placeholder:"••••••••"},null,10,L),[[x,G.password]]),r("button",{type:"button",onClick:s[2]||(s[2]=e=>J.value=!J.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[J.value?(b(),a("svg",B,[...s[10]||(s[10]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(b(),a("svg",z,[...s[9]||(s[9]=[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))]),I.password?(b(),a("p",_,p(I.password),1)):d("",!0)])]),r("div",S,[r("div",V,[m(r("input",{id:"remember-me","onUpdate:modelValue":s[3]||(s[3]=e=>G.rememberMe=e),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[f,G.rememberMe]]),s[12]||(s[12]=r("label",{for:"remember-me",class:"ml-2 block text-sm text-heading"}," Lembrar-me ",-1))]),r("div",q,[t(y,{to:"/forgot-password",class:"font-medium text-primary-600 hover:text-primary-500"},{default:l(()=>[...s[13]||(s[13]=[i(" Esqueceu a senha? ",-1)])]),_:1})])]),I.general?(b(),a("div",A,[r("div",U,[s[14]||(s[14]=r("div",{class:"flex-shrink-0"},[r("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),r("div",K,[r("p",H,p(I.general),1)])])])):d("",!0),r("div",null,[r("button",{type:"submit",disabled:N.value,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"},[N.value?(b(),a("svg",T,[...s[15]||(s[15]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):d("",!0),i(" "+p(N.value?"Entrando...":"Entrar"),1)],8,O)])],32)])])])}}};export{$ as default};
