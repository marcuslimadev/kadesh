const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Cl4sFiaJ.js","assets/vue-_iW_wwAQ.js","assets/utils-CeLII1lI.js","assets/Home-CFrS1jrg.css","assets/Tutorial-Ce7cDxuJ.js","assets/AuctionLobby-YMdaAklj.js","assets/projectService-4xyhWrQP.js","assets/AuctionLobby-C3eNz9KK.css","assets/Login-C0AxxNwK.js","assets/Register-Bp-iukTO.js","assets/ForgotPassword-AAB7y7zk.js","assets/ResetPassword-BXRcFVXN.js","assets/Dashboard-DWZ0mDPi.js","assets/StatusBadge-DFy4JmzA.js","assets/index-Ctu0mvSg.js","assets/Dashboard-LAnCXyh8.css","assets/Projects-DdJluird.js","assets/Pagination-BYJXTjY_.js","assets/ProjectDetail-DJhu607s.js","assets/bidService-CxYvGsWL.js","assets/CreateProject-xo78Sf7X.js","assets/MyProjects-CsFOiru7.js","assets/MyBids-Buf8DUIz.js","assets/ProviderProfile-DYbguQN_.js","assets/ReviewList-BAHOViON.js","assets/PublicProviderProfile-BHiqkhng.js","assets/Wallet-DybWOuyo.js","assets/Receipts-CW_beFWY.js","assets/Contracts-C9FXYjVI.js","assets/ContractDetail-3sPzuyl0.js","assets/ContractDetail-GRlUbHgr.css","assets/Settings-8KZYFhik.js","assets/Notifications-CGyU-V-y.js","assets/AdminLogin-CBgVoUz7.js","assets/AdminDashboard-BLsCfMdB.js","assets/AdminLayout-D8BMYxUF.js","assets/AdminLayout-CbyHKizl.css","assets/AdminDashboard-CbMw9taV.css","assets/AdminUsers-DouXHV7J.js","assets/AdminUsers-C1JBxxOl.css","assets/AdminProjects-R-5K6K0o.js","assets/AdminPayments-CXQ3bIJk.js","assets/AdminDisputes-CR6xT8KN.js","assets/AdminAdvertisements-CER_G1lX.js","assets/AdminAdvertisements-BYupFZzH.css","assets/AdminSettings-Bg4yjcvK.js"])))=>i.map(i=>d[i]);
import{d as e,r as t,c as r,w as o,u as a,o as s,a as n,b as l,e as i,n as d,f as c,t as u,g as m,h as p,i as h,j as v,k as g,F as f,l as b,m as x,p as _,T as k,q as w,s as y,v as A,x as j,y as E,z as C}from"./vue-_iW_wwAQ.js";import{a as P}from"./utils-CeLII1lI.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const D=parseInt("30000")||6e4,I=P.create({baseURL:"",timeout:D,headers:{"Content-Type":"application/json",Accept:"application/json"}});I.interceptors.request.use(e=>{const t=O();return t.token&&(e.headers.Authorization=`Bearer ${t.token}`),e},e=>(console.error("[API] Request error:",e),Promise.reject(e))),I.interceptors.response.use(e=>e,e=>{var t;console.error("[API] Response error:",e);const r=!0===(null==(t=e.config)?void 0:t.silent);if(e.response){const{status:t,data:o}=e.response;switch(t){case 401:O().logout();break;case 403:case 404:break;case 422:r||o.errors&&Array.isArray(o.errors)||o.error}}else"ECONNABORTED"===e.code||"Network Error"===e.message&&console.warn("Network error - servidor pode estar indisponÃ­vel");return Promise.reject(e)});let M=!1,T=null;const L=Number(void 0)||8e3,O=e("auth",()=>{const e=t(null),o=t(localStorage.getItem("kadesh_token")),a=t(!1),s=r(()=>!!o.value&&!!e.value),n=r(()=>{var t;return"client"===(null==(t=e.value)?void 0:t.type)}),l=r(()=>{var t,r;return"provider"===(null==(t=e.value)?void 0:t.type)||"unified"===(null==(r=e.value)?void 0:r.type)}),i=r(()=>{var t,r;return!0===(null==(t=e.value)?void 0:t.isAdmin)||"admin"===(null==(r=e.value)?void 0:r.type)}),d=r(()=>{var t;return(null==(t=e.value)?void 0:t.name)?e.value.name.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2):""}),c=()=>{e.value=null,o.value=null,localStorage.removeItem("kadesh_token"),localStorage.removeItem("kadesh_user")},u=()=>{const t=localStorage.getItem("kadesh_user"),r=localStorage.getItem("kadesh_token");if(t&&r)try{e.value=JSON.parse(t),o.value=r,console.log("[Auth] Inicializado do localStorage:",e.value.email)}catch(a){console.error("[Auth] Erro ao decodificar dados do localStorage:",a),c()}else console.log("[Auth] Nenhum dado de autenticaÃ§Ã£o armazenado")};return u(),{user:e,token:o,isLoading:a,isAuthenticated:s,isClient:n,isProvider:l,isAdmin:i,userInitials:d,login:async(t,r)=>{var s,n,l,i,d;a.value=!0;try{const a=await I.post("/api/auth/login",{email:t,password:r}),{user:s,token:n}=a.data;return e.value=s,o.value=n,localStorage.setItem("kadesh_token",n),localStorage.setItem("kadesh_user",JSON.stringify(s)),console.log("[Auth] Login realizado com sucesso:",s.email,s.name),{success:!0,user:s}}catch(c){return console.error("[Auth] Erro ao fazer login:",null==(s=c.response)?void 0:s.status,(null==(l=null==(n=c.response)?void 0:n.data)?void 0:l.error)||c.message),{success:!1,error:(null==(d=null==(i=c.response)?void 0:i.data)?void 0:d.error)||"Erro ao fazer login"}}finally{a.value=!1}},register:async t=>{var r,s;a.value=!0;try{const r=await I.post("/api/auth/register",t),{user:a,token:s}=r.data;return e.value=a,o.value=s,localStorage.setItem("kadesh_token",s),localStorage.setItem("kadesh_user",JSON.stringify(a)),{success:!0,user:a}}catch(n){return console.error("Register error:",n),{success:!1,error:(null==(s=null==(r=n.response)?void 0:r.data)?void 0:s.error)||"Erro ao criar conta"}}finally{a.value=!1}},logout:c,verifyToken:async()=>{var t,r;if(!o.value)return!1;const s=new AbortController,n=setTimeout(()=>s.abort(),L);a.value=!0;try{const t=await I.get("/api/auth/verify",{signal:s.signal});return e.value=t.data.user,localStorage.setItem("kadesh_user",JSON.stringify(t.data.user)),console.log("[Auth] Token verificado com sucesso para:",e.value.email),!0}catch(l){return"ECONNABORTED"===l.code||"ERR_NETWORK"===l.code||"ERR_CANCELED"===l.code||"CanceledError"===l.name||"Network Error"===l.message?(console.warn("[Auth] VerificaÃ§Ã£o de token ignorada: backend indisponÃ­vel ou sem resposta rÃ¡pida.",l),!1):(console.error("[Auth] Falha na verificaÃ§Ã£o de token:",null==(t=l.response)?void 0:t.status,l.message),401===(null==(r=l.response)?void 0:r.status)&&c(),!1)}finally{clearTimeout(n),a.value=!1}},updateProfile:async t=>{var r,o;a.value=!0;try{const r=await I.put("/api/users/profile",t);return e.value=r.data.user,localStorage.setItem("kadesh_user",JSON.stringify(r.data.user)),{success:!0,user:r.data.user}}catch(s){return console.error("Update profile error:",s),{success:!1,error:(null==(o=null==(r=s.response)?void 0:r.data)?void 0:o.error)||"Erro ao atualizar perfil"}}finally{a.value=!1}},initializeAuth:u}}),S="kadesh_theme",R=e("theme",()=>{const e=t((()=>{if("undefined"==typeof window)return"light";try{const e=localStorage.getItem(S);return e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}catch(e){return console.warn("NÃ£o foi possÃ­vel restaurar o tema salvo:",e),"light"}})()),a=r(()=>"dark"===e.value),s=r(()=>"light"===e.value),n=()=>{if("undefined"==typeof document)return;const t=document.documentElement;t.classList.remove("theme-dark","theme-light"),t.classList.add(`theme-${e.value}`)},l=t=>{e.value="dark"===t?"dark":"light",(e=>{if("undefined"!=typeof window)try{localStorage.setItem(S,e)}catch(t){console.warn("NÃ£o foi possÃ­vel salvar o tema selecionado:",t)}})(e.value)};return o(()=>{n()}),{currentTheme:e,isDark:a,isLight:s,toggleTheme:()=>{l(a.value?"light":"dark")},setTheme:l,applyTheme:n}}),V="kadesh_sidebar_visible",q=e("sidebar",()=>{const e=t((()=>{if("undefined"==typeof window)return!1;try{const e=localStorage.getItem(V);return null!==e&&"true"===e}catch{return!1}})()),r=e=>{if("undefined"!=typeof window)try{localStorage.setItem(V,String(e))}catch{}};return{isVisible:e,show:()=>{e.value=!0,r(!0)},hide:()=>{e.value=!1,r(!1)},toggle:()=>{e.value=!e.value,r(e.value)}}}),z="/assets/logo-D_YaC73D.jpeg",F="kadesh_view_mode",B=e("viewMode",()=>{const e=t((()=>{if("undefined"==typeof window)return"contractor";try{return localStorage.getItem(F)||"contractor"}catch{return"contractor"}})()),o=r(()=>"contractor"===e.value),a=r(()=>"provider"===e.value),s=r(()=>"contractor"===e.value?"Contratante":"Prestador"),n=r(()=>"contractor"===e.value?"C":"P"),l=r(()=>"contractor"===e.value?"blue":"green"),i=t=>{"contractor"===t||"provider"===t?(e.value=t,(e=>{if("undefined"!=typeof window)try{localStorage.setItem(F,e)}catch{}})(t)):console.error('Modo invÃ¡lido. Use "contractor" ou "provider"')};return{currentMode:e,isContractor:o,isProvider:a,modeLabel:s,modeIcon:n,modeColor:l,setMode:i,toggleMode:()=>{const t="contractor"===e.value?"provider":"contractor";i(t)},setContractorMode:()=>i("contractor"),setProviderMode:()=>i("provider")}}),N=(e,t)=>{const r=e.__vccOpts||e;for(const[o,a]of t)r[o]=a;return r},H={class:"md:hidden flex items-center justify-center"},K={class:"text-xl transition-transform duration-500"},U={class:"text-sm"},W=N({__name:"ViewModeSwitch",props:{variant:{type:String,default:"default"}},setup(e){const o=e,m=r(()=>"sidebar"===o.variant),p=B(),h=t(!1),v=a();s(()=>{if("undefined"==typeof window)return;const e=parseInt(localStorage.getItem("kadesh_viewmode_tooltip_count")||"0");e<3&&(h.value=!0,localStorage.setItem("kadesh_viewmode_tooltip_count",(e+1).toString()),setTimeout(()=>{h.value=!1},5e3))});const g=e=>{p.setMode(e);const t={name:"auction-lobby",query:{mode:e,ts:Date.now()}};("auction-lobby"===v.currentRoute.value.name?v.replace:v.push)(t).catch(()=>{})};return(e,t)=>(l(),n("div",{class:d(["view-mode-switch",m.value?"view-mode-switch--sidebar":""])},[i("div",{class:d(["hidden md:flex items-center rounded-full transition-all duration-500",m.value?"flex-col gap-2 bg-transparent shadow-none p-0 w-full":"bg-[#161821] backdrop-blur-sm shadow-lg p-1.5 border border-[rgba(212,175,55,0.24)]"])},[i("button",{onClick:t[0]||(t[0]=e=>g("contractor")),class:d(["flex items-center gap-2 rounded-full font-medium transition-all duration-500 ease-out",m.value?"w-full justify-start px-4 py-2.5 rounded-xl":"px-5 py-2.5",c(p).isContractor?m.value?"bg-[#D4AF37] text-[#0F1117] shadow-[0_4px_20px_rgba(212,175,55,0.25)]":"bg-[#D4AF37] text-[#0F1117] shadow-lg scale-105":m.value?"text-[#C7C7C7] bg-[#1A1A1A] border border-[rgba(212,175,55,0.25)] hover:border-[#D4AF37]":"text-[#C7C7C7] hover:text-[#F5F5F5] hover:bg-[#1A1A1A]"])},[i("span",{class:d(["text-lg transition-transform duration-500",c(p).isContractor?"scale-110":""])},"ðŸ“˜",2),t[3]||(t[3]=i("span",{class:"text-sm font-semibold"},"Contratante",-1))],2),i("button",{onClick:t[1]||(t[1]=e=>g("provider")),class:d(["flex items-center gap-2 rounded-full font-medium transition-all duration-500 ease-out",m.value?"w-full justify-start px-4 py-2.5 rounded-xl":"px-5 py-2.5",c(p).isProvider?m.value?"bg-[#D4AF37] text-[#0F1117] shadow-[0_4px_20px_rgba(212,175,55,0.25)]":"bg-[#D4AF37] text-[#0F1117] shadow-lg scale-105":m.value?"text-[#C7C7C7] bg-[#1A1A1A] border border-[rgba(212,175,55,0.25)] hover:border-[#D4AF37]":"text-[#C7C7C7] hover:text-[#F5F5F5] hover:bg-[#1A1A1A]"])},[i("span",{class:d(["text-lg transition-transform duration-500",c(p).isProvider?"scale-110":""])},"ðŸ› ï¸",2),t[4]||(t[4]=i("span",{class:"text-sm font-semibold"},"Prestador",-1))],2)],2),i("div",H,[i("button",{onClick:t[2]||(t[2]=e=>(()=>{const e=p.isContractor?"provider":"contractor";g(e)})()),class:"flex items-center gap-2.5 px-5 py-3 rounded-full font-bold shadow-xl transition-all duration-700 ease-in-out transform hover:scale-105 backdrop-blur-sm bg-[#D4AF37] text-[#0F1117]"},[i("span",K,u(c(p).modeIcon),1),i("span",U,"Ver como "+u(c(p).modeLabel),1),(l(),n("svg",{class:d(["w-4 h-4 transition-transform duration-700",c(p).isProvider?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[5]||(t[5]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},null,-1)])],2))])])],2))}},[["__scopeId","data-v-1548f754"]]),$={class:"md:hidden sticky top-0 z-40 bg-nav text-offwhite flex items-center justify-between px-4 py-3 shadow-lg"},J={class:"h-6 w-6 text-offwhite",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},G={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},Q={class:"absolute top-0 right-0 w-72 h-full bg-white shadow-2xl p-4 overflow-y-auto"},X={class:"flex items-center justify-between mb-4"},Z={key:0,class:"mb-4"},ee={class:"sidebar-switch"},te={class:"mb-4"},re={class:"flex items-center gap-2"},oe={class:"h-5 w-5 text-[#D4AF37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ae=["d"],se={class:"font-semibold"},ne={class:"text-xs font-semibold text-[#D4AF37]"},le={class:"space-y-2"},ie={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},de=["d"],ce={key:1,class:"mt-6 border-t pt-4 space-y-2"},ue={class:"h-5 w-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},me=["d"],pe={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},he=["d"],ve={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ge=["d"],fe={class:"p-6 border-b border-gold/20 flex items-center justify-between gap-3"},be={key:0,class:"p-4 border-b border-gold/20"},xe={class:"sidebar-switch"},_e={class:"p-4 border-b border-gold/20"},ke={class:"flex items-center gap-3"},we={class:"relative w-8 h-8 flex items-center justify-center"},ye=["d"],Ae={class:"font-semibold text-[#F5F5F5]"},je={class:"text-xs font-medium px-2 py-1 rounded-full bg-[rgba(212,175,55,0.2)] text-[#D4AF37]"},Ee={class:"flex-1 overflow-y-auto p-4 space-y-1"},Ce={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Pe=["d"],De={class:"mt-4"},Ie={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Me=["d"],Te={key:0,class:"mt-4"},Le={class:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Oe=["d"],Se={class:"text-red-400"},Re={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ve=["d"],qe={class:"h-5 w-5 text-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ze=["d"],Fe={class:"p-4 border-t border-gold/20 text-sm"},Be={key:0,class:"flex items-center gap-3"},Ne={class:"w-10 h-10 bg-gold text-dark rounded-full flex items-center justify-center font-bold"},He={class:"font-semibold"},Ke={class:"text-offwhite-muted text-xs"},Ue={key:1,class:"space-x-2"},We=N({__name:"NavBar",setup(e){const o=a(),s=O(),w=B(),y=R(),A=q(),j=t(!1),E=r(()=>s.isAuthenticated),C=r(()=>s.isAdmin),P=r(()=>s.user),D=r(()=>s.userInitials),I=r(()=>A.isVisible),M=r(()=>o.currentRoute.value.path),T=r(()=>y.isDark?"Tema escuro":"Tema claro"),L=r(()=>y.isDark?"M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z":"M12 3v2m0 14v2m9-9h-2M5 12H3m14.364-7.364l-1.414 1.414M7.05 16.95l-1.414 1.414m0-12.728l1.414 1.414M16.95 16.95l1.414 1.414M12 7a5 5 0 100 10 5 5 0 000-10z"),S={target:"M12 3a9 9 0 100 18 9 9 0 000-18zm0 4a5 5 0 100 10 5 5 0 000-10zm0 3a2 2 0 110 4 2 2 0 010-4z",book:"M4 6.5A2.5 2.5 0 016.5 4h9A2.5 2.5 0 0118 6.5v11a.5.5 0 01-.757.429L12 14.5l-5.243 3.429A.5.5 0 016 17.5v-11z",dashboard:"M4 13h6v8H4v-8zm0-10h6v8H4V3zm10 10h6v8h-6v-8zm0-10h6v8h-6V3z",projects:"M4 6h16M4 12h16M4 18h16",bids:"M12 6v2m0 8v2m0-6a2 2 0 100-4 2 2 0 000 4zm0 8c-4.418 0-8-2.686-8-6 0-1.657 1.343-3 3-3h10c1.657 0 3 1.343 3 3 0 3.314-3.582 6-8 6z",contracts:"M7 7h10M7 11h10M7 15h6m-1-10l-2-2H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7h-4z",wallet:"M4 7h16v10H4z M4 11h12",receipts:"M7 5h10v14l-2-1-2 1-2-1-2 1-2-1-2 1V5z M9 9h6m-6 4h6",bell:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9",profile:"M12 12a5 5 0 100-10 5 5 0 000 10zm-7 8a7 7 0 0114 0",settings:"M10.325 4.317l1.09-.63a1 1 0 011.09 0l1.09.63a1 1 0 00.98 0l1.26-.73a1 1 0 011.5.86v1.26a1 1 0 00.29.7l.9.9a1 1 0 010 1.41l-.9.9a1 1 0 00-.29.71v1.26a1 1 0 01-1.5.86l-1.26-.73a1 1 0 00-.98 0l-1.09.63a1 1 0 01-1.09 0l-1.09-.63a1 1 0 00-.98 0l-1.26.73a1 1 0 01-1.5-.86v-1.26a1 1 0 00-.29-.7l-.9-.9a1 1 0 010-1.41l.9-.9a1 1 0 00.29-.71v-1.26a1 1 0 011.5-.86l1.26.73a1 1 0 00.98 0z",admin:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},V=[{to:"/lobby",label:"Lobby",icon:"target",auth:!0},{to:"/tutorial",label:"Tutorial",icon:"book"},{to:"/dashboard",label:"Dashboard",icon:"dashboard",auth:!0}],F=[{to:"/projects",label:"Projetos",icon:"projects"},{to:"/my-projects",label:"Meus Projetos",icon:"projects"}],N=[{to:"/my-bids",label:"Minhas Propostas",icon:"bids"},{to:"/contracts",label:"Contratos",icon:"contracts"}],H=[{to:"/wallet",label:"Carteira",icon:"wallet"},{to:"/receipts",label:"Comprovantes",icon:"receipts"},{to:"/notifications",label:"NotificaÃ§Ãµes",icon:"bell"}],K="/profile",U="Meu Perfil",We="profile",$e="/settings",Je="ConfiguraÃ§Ãµes",Ye="settings",Ge="/admin/dashboard",Qe="Admin",Xe="admin",Ze=r(()=>{if(!E.value)return V.filter(e=>!e.auth);const e=[...V];return w.isContractor&&e.push(...F),w.isProvider&&e.push(...N),e}),et=r(()=>E.value?H:[]),tt=r(()=>{const e=[...V];return E.value&&(w.isContractor&&e.push(...F),w.isProvider&&e.push(...N),e.push(...H)),e}),rt=e=>"/"===e?"/"===M.value:M.value===e||M.value.startsWith(`${e}/`),ot=e=>["flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-semibold transition border border-transparent",rt(e)?"bg-dark-80 text-gold border-gold/40 shadow":"text-offwhite hover:bg-dark-80"],at=e=>["flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-semibold transition",rt(e)?"bg-gold/10 text-dark border border-gold/40":"text-dark hover:bg-gray-100"],st=e=>{j.value=!1,o.push(e)},nt=async()=>{await s.logout(),j.value=!1,o.push("/")},lt=()=>{y.toggleTheme()};return(e,t)=>{var r,o;const a=m("router-link");return l(),n(f,null,[i("header",$,[p(a,{to:"/",class:"flex items-center gap-3"},{default:v(()=>[...t[8]||(t[8]=[i("img",{src:z,alt:"Kaddesh",class:"h-10 w-10 rounded-lg border border-gold/40 object-cover"},null,-1),i("div",null,[i("p",{class:"text-sm text-gold font-semibold"},"KADDESH"),i("p",{class:"text-xs text-offwhite-muted"},"Service Bridge")],-1)])]),_:1}),i("button",{onClick:t[0]||(t[0]=e=>j.value=!j.value),class:"p-2 rounded-md hover:bg-dark-80 transition","aria-label":"Abrir menu"},[(l(),n("svg",J,[j.value?(l(),n("path",G)):(l(),n("path",Y))]))])]),p(k,{name:"fade"},{default:v(()=>[j.value?(l(),n("div",{key:0,class:"md:hidden fixed inset-0 z-40 bg-black/50",onClick:t[5]||(t[5]=g(e=>j.value=!1,["self"]))},[i("div",Q,[i("div",X,[p(a,{to:"/",class:"flex items-center gap-2"},{default:v(()=>[...t[9]||(t[9]=[i("img",{src:z,alt:"Kaddesh",class:"h-10 w-10 rounded-lg border border-gold/40 object-cover"},null,-1),i("div",null,[i("p",{class:"text-sm font-semibold text-dark"},"KADDESH"),i("p",{class:"text-xs text-gray-500"},"Service Bridge")],-1)])]),_:1}),i("button",{onClick:t[1]||(t[1]=e=>j.value=!1),class:"p-2 rounded hover:bg-gray-100"},[...t[10]||(t[10]=[i("svg",{class:"h-5 w-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),E.value?(l(),n("div",Z,[i("div",ee,[p(W,{variant:"sidebar"})])])):h("",!0),i("div",te,[i("button",{class:"w-full flex items-center justify-between px-3 py-2 rounded-lg border border-[rgba(212,175,55,0.3)] bg-[#1A1A1A] text-[#F5F5F5]",onClick:lt},[i("span",re,[(l(),n("svg",oe,[i("path",{d:L.value,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,8,ae)])),i("span",se,u(T.value),1)]),i("span",ne,u(c(y).isDark?"ðŸŒ™":"â˜€ï¸"),1)])]),i("div",le,[(l(!0),n(f,null,b(tt.value,e=>(l(),x(a,{key:e.to,to:e.to,class:d(at(e.to)),onClick:t=>st(e.to)},{default:v(()=>[(l(),n("svg",ie,[i("path",{d:S[e.icon]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,de)])),i("span",null,u(e.label),1)]),_:2},1032,["to","class","onClick"]))),128))]),E.value?(l(),n("div",ce,[C.value?(l(),x(a,{key:0,to:Ge,class:"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-semibold bg-red-50 text-red-700 border border-red-200",onClick:t[2]||(t[2]=e=>st(Ge))},{default:v(()=>[(l(),n("svg",ue,[i("path",{d:S[Xe]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,me)])),i("span",null,u(Qe),1)]),_:1},8,["to"])):h("",!0),p(a,{to:K,class:d(at(K)),onClick:t[3]||(t[3]=e=>st(K))},{default:v(()=>[(l(),n("svg",pe,[i("path",{d:S[We]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,he)])),i("span",null,u(U),1)]),_:1},8,["to","class"]),p(a,{to:$e,class:d(at($e)),onClick:t[4]||(t[4]=e=>st($e))},{default:v(()=>[(l(),n("svg",ve,[i("path",{d:S[Ye]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,ge)])),i("span",null,u(Je),1)]),_:1},8,["to","class"]),i("button",{onClick:nt,class:"w-full flex items-center gap-2 px-3 py-2 rounded-lg bg-red-50 text-red-700 hover:bg-red-100 transition"},[...t[11]||(t[11]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17l5-5-5-5M20 12H9m4 9H5a2 2 0 01-2-2V5a2 2 0 012-2h8"})],-1),_(" Sair ",-1)])])])):h("",!0)])])):h("",!0)]),_:1}),I.value?h("",!0):(l(),n("button",{key:0,onClick:t[6]||(t[6]=(...e)=>c(A).show&&c(A).show(...e)),class:"hidden md:flex fixed top-4 left-4 z-50 items-center gap-2 px-4 py-3 bg-surface border border-accent/40 rounded-xl shadow-xl hover:shadow-2xl hover:border-accent/60 transition-all group","aria-label":"Mostrar menu lateral"},[...t[12]||(t[12]=[i("svg",{class:"h-5 w-5 text-accent group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1),i("span",{class:"text-sm font-semibold text-heading"},"Menu",-1)])])),i("aside",{class:d(["hidden md:flex fixed inset-y-0 left-0 w-64 bg-nav text-offwhite z-30 flex-col border-r border-gold/20 shadow-2xl transition-transform duration-200",{"-translate-x-full":!I.value}])},[i("div",fe,[p(a,{to:"/",class:"flex items-center gap-3"},{default:v(()=>[...t[13]||(t[13]=[i("img",{src:z,alt:"Kaddesh",class:"h-14 w-14 rounded-xl border border-gold/40 object-cover shadow"},null,-1),i("div",null,[i("p",{class:"text-gold font-heading text-xl leading-none"},"KADDESH"),i("p",{class:"text-xs text-offwhite-muted"},"Service Bridge")],-1)])]),_:1}),E.value?(l(),n("button",{key:0,onClick:t[7]||(t[7]=(...e)=>c(A).hide&&c(A).hide(...e)),class:"p-2 rounded-lg hover:bg-dark-80 transition text-offwhite-muted","aria-label":"Ocultar menu lateral"},[...t[14]||(t[14]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 18l-6-6 6-6"})],-1)])])):h("",!0)]),E.value?(l(),n("div",be,[i("div",xe,[p(W,{variant:"sidebar"})])])):h("",!0),i("div",_e,[i("button",{class:"w-full flex items-center justify-between px-4 py-3 rounded-xl bg-[#1A1A1A] border border-[rgba(212,175,55,0.3)] hover:border-[#D4AF37] transition-all group",onClick:lt},[i("span",ke,[i("div",we,[(l(),n("svg",{class:d(["h-6 w-6 transition-all duration-300",(c(y).isDark,"text-[#D4AF37]")]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{d:L.value,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,8,ye)],2))]),i("span",Ae,u(c(y).isDark?"Modo Escuro":"Modo Claro"),1)]),i("span",je,u(c(y).isDark?"ðŸŒ™":"â˜€ï¸"),1)])]),i("nav",Ee,[(l(!0),n(f,null,b(Ze.value,e=>(l(),x(a,{key:e.to,to:e.to,class:d(ot(e.to))},{default:v(()=>[(l(),n("svg",Ce,[i("path",{d:S[e.icon]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Pe)])),i("span",null,u(e.label),1)]),_:2},1032,["to","class"]))),128)),i("div",De,[t[15]||(t[15]=i("p",{class:"text-xs uppercase tracking-wide text-offwhite-muted px-2 mb-2"},"Acesso rÃ¡pido",-1)),(l(!0),n(f,null,b(et.value,e=>(l(),x(a,{key:e.to,to:e.to,class:d(ot(e.to))},{default:v(()=>[(l(),n("svg",Ie,[i("path",{d:S[e.icon]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Me)])),i("span",null,u(e.label),1)]),_:2},1032,["to","class"]))),128))]),E.value?(l(),n("div",Te,[t[17]||(t[17]=i("p",{class:"text-xs uppercase tracking-wide text-offwhite-muted px-2 mb-2"},"Conta",-1)),C.value?(l(),x(a,{key:0,to:Ge,class:d(ot(Ge))},{default:v(()=>[(l(),n("svg",Le,[i("path",{d:S[Xe]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Oe)])),i("span",Se,u(Qe),1)]),_:1},8,["to","class"])):h("",!0),p(a,{to:K,class:d(ot(K))},{default:v(()=>[(l(),n("svg",Re,[i("path",{d:S[We]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,Ve)])),i("span",null,u(U),1)]),_:1},8,["to","class"]),p(a,{to:$e,class:d(ot($e))},{default:v(()=>[(l(),n("svg",qe,[i("path",{d:S[Ye]||S.target,"stroke-width":"1.7","stroke-linecap":"round","stroke-linejoin":"round"},null,8,ze)])),i("span",null,u(Je),1)]),_:1},8,["to","class"]),i("button",{onClick:nt,class:"mt-2 w-full flex items-center gap-2 px-3 py-2 rounded-lg bg-red-50 text-red-700 hover:bg-red-100 transition"},[...t[16]||(t[16]=[i("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17l5-5-5-5M20 12H9m4 9H5a2 2 0 01-2-2V5a2 2 0 012-2h8"})],-1),_(" Sair ",-1)])])])):h("",!0)]),i("div",Fe,[E.value?(l(),n("div",Be,[i("div",Ne,u(D.value),1),i("div",null,[i("p",He,u(null==(r=P.value)?void 0:r.name),1),i("p",Ke,u(null==(o=P.value)?void 0:o.email),1)])])):(l(),n("div",Ue,[p(a,{to:"/login",class:"text-gold font-semibold hover:underline"},{default:v(()=>[...t[18]||(t[18]=[_("Login",-1)])]),_:1}),t[20]||(t[20]=i("span",{class:"text-offwhite-muted"},"/",-1)),p(a,{to:"/register",class:"text-gold font-semibold hover:underline"},{default:v(()=>[...t[19]||(t[19]=[_("Cadastrar",-1)])]),_:1})]))])],2)],64)}}},[["__scopeId","data-v-3cde654f"]]),$e={class:"bg-gray-900 text-white mt-auto"},Je={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},Ye={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},Ge={class:"space-y-2"},Qe={class:"border-t border-gray-800 mt-8 pt-8 text-center"},Xe={class:"text-gray-400 text-sm"},Ze={__name:"Footer",setup(e){const t=r(()=>(new Date).getFullYear());return(e,r)=>{const o=m("router-link");return l(),n("footer",$e,[i("div",Je,[i("div",Ye,[r[3]||(r[3]=i("div",null,[i("h3",{class:"text-lg font-bold mb-4"},"Kadesh"),i("p",{class:"text-gray-400 text-sm"}," Conectando profissionais talentosos com projetos incrÃ­veis. ")],-1)),i("div",null,[r[2]||(r[2]=i("h4",{class:"text-sm font-semibold mb-4 uppercase tracking-wider"},"Plataforma",-1)),i("ul",Ge,[i("li",null,[p(o,{to:"/projects",class:"text-gray-400 hover:text-white text-sm transition"},{default:v(()=>[...r[0]||(r[0]=[_(" Explorar Projetos ",-1)])]),_:1})]),i("li",null,[p(o,{to:"/register",class:"text-gray-400 hover:text-white text-sm transition"},{default:v(()=>[...r[1]||(r[1]=[_(" Criar Conta ",-1)])]),_:1})])])]),r[4]||(r[4]=w('<div><h4 class="text-sm font-semibold mb-4 uppercase tracking-wider">Suporte</h4><ul class="space-y-2"><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Central de Ajuda </a></li><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Contato </a></li></ul></div><div><h4 class="text-sm font-semibold mb-4 uppercase tracking-wider">Legal</h4><ul class="space-y-2"><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Termos de Uso </a></li><li><a href="#" class="text-gray-400 hover:text-white text-sm transition"> Privacidade </a></li></ul></div>',2))]),i("div",Qe,[i("p",Xe," Â© "+u(t.value)+" Kadesh. Todos os direitos reservados. ",1)])])])}}},et={key:0,class:"fixed top-4 right-4 z-40 flex items-center gap-2"},tt={class:"text-lg"},rt={class:"text-sm font-bold"},ot={__name:"ModeIndicator",setup(e){const t=a(),o=y(),s=O(),m=B(),p=q(),v=r(()=>s.isAuthenticated),g=r(()=>!o.path.startsWith("/admin")&&!p.isVisible),f=()=>{m.toggle(),m.isProvider?t.push("/my-bids"):t.push("/projects")};return(e,t)=>v.value&&g.value?(l(),n("div",et,[i("div",{class:d(["flex items-center gap-2 px-4 py-2 rounded-full shadow-lg backdrop-blur-sm border transition-all duration-300",c(m).isProvider?"bg-emerald-500/90 border-emerald-400/50 text-white":"bg-amber-500/90 border-amber-400/50 text-white"])},[i("span",tt,u(c(m).isProvider?"ðŸ› ï¸":"ðŸ“˜"),1),i("span",rt,u(c(m).isProvider?"Prestador":"Contratante"),1)],2),i("button",{onClick:f,class:"p-2 rounded-full bg-surface border border-accent/30 shadow-lg hover:border-accent/60 hover:scale-105 transition-all",title:"Alternar modo"},[...t[0]||(t[0]=[i("svg",{class:"w-4 h-4 text-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])])])):h("",!0)}},at={key:0,class:"fixed inset-0 bg-white z-50 flex items-center justify-center"},st={__name:"App",setup(e){const o=y(),a=O(),c=R(),u=q(),v=t(!0),g=r(()=>!!a.isAuthenticated&&!["login","register","forgot-password"].includes(o.name)),b=r(()=>g.value?u.isVisible?"app-main pt-16 md:pt-0 md:pl-64":"app-main pt-16 md:pt-0":"app-main"),_=r(()=>["min-h-screen app-shell",c.isDark?"theme-dark":"theme-light"]),k=()=>{v.value&&(v.value=!1)};return s(()=>{const e=setTimeout(k,2e3);if((async()=>(M||(M=!0,T=(async()=>{try{return await I.get("/api/health",{timeout:7e4,_silent:!0}),console.log("[API] Server is awake"),!0}catch(e){return console.warn("[API] Wake up failed:",e.message),!1}finally{M=!1,T=null}})()),T))().catch(()=>{}),!a.token)return clearTimeout(e),void k();a.verifyToken().catch(e=>{console.error("App initialization error:",e)}).finally(()=>{clearTimeout(e),k()}),c.applyTheme()}),(e,t)=>{const r=m("router-view");return l(),n("div",{id:"app",class:d(_.value)},[v.value?(l(),n("div",at,[...t[0]||(t[0]=[i("div",{class:"text-center"},[i("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"}),i("p",{class:"mt-4 text-gray-600"},"Carregando...")],-1)])])):(l(),n(f,{key:1},[g.value?(l(),x(We,{key:0})):h("",!0),g.value?(l(),x(ot,{key:1})):h("",!0),i("main",{class:d(b.value)},[p(r)],2),g.value?(l(),x(Ze,{key:2})):h("",!0)],64))],2)}}},nt={},lt=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));o=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in nt)return;nt[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,r&&a.setAttribute("nonce",r),document.head.appendChild(a),t?new Promise((t,r)=>{a.addEventListener("load",t),a.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},it=[{path:"/",name:"home",component:()=>lt(()=>import("./Home-Cl4sFiaJ.js"),__vite__mapDeps([0,1,2,3])),meta:{requiresAuth:!1}},{path:"/tutorial",name:"tutorial",component:()=>lt(()=>import("./Tutorial-Ce7cDxuJ.js"),__vite__mapDeps([4,1])),meta:{requiresAuth:!1}},{path:"/lobby",name:"auction-lobby",component:()=>lt(()=>import("./AuctionLobby-YMdaAklj.js"),__vite__mapDeps([5,1,6,2,7])),meta:{requiresAuth:!0}},{path:"/login",name:"login",component:()=>lt(()=>import("./Login-C0AxxNwK.js"),__vite__mapDeps([8,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/register",name:"register",component:()=>lt(()=>import("./Register-Bp-iukTO.js"),__vite__mapDeps([9,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/forgot-password",name:"forgot-password",component:()=>lt(()=>import("./ForgotPassword-AAB7y7zk.js"),__vite__mapDeps([10,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/reset-password",name:"reset-password",component:()=>lt(()=>import("./ResetPassword-BXRcFVXN.js"),__vite__mapDeps([11,1,2])),meta:{requiresAuth:!1,guestOnly:!0}},{path:"/dashboard",name:"dashboard",component:()=>lt(()=>import("./Dashboard-DWZ0mDPi.js"),__vite__mapDeps([12,13,1,2,14,15])),meta:{requiresAuth:!0}},{path:"/projects",name:"projects",component:()=>lt(()=>import("./Projects-DdJluird.js"),__vite__mapDeps([16,1,13,2,14,17,6])),meta:{requiresAuth:!1}},{path:"/projects/:id",name:"project-detail",component:()=>lt(()=>import("./ProjectDetail-DJhu607s.js"),__vite__mapDeps([18,1,13,2,14,6,19])),meta:{requiresAuth:!1}},{path:"/projects/create",name:"create-project",component:()=>lt(()=>import("./CreateProject-xo78Sf7X.js"),__vite__mapDeps([20,1,6,2])),meta:{requiresAuth:!0}},{path:"/my-projects",name:"my-projects",component:()=>lt(()=>import("./MyProjects-CsFOiru7.js"),__vite__mapDeps([21,1,13,17,6,2,14])),meta:{requiresAuth:!0}},{path:"/my-bids",name:"my-bids",component:()=>lt(()=>import("./MyBids-Buf8DUIz.js"),__vite__mapDeps([22,1,13,17,19,6,2,14])),meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:()=>lt(()=>import("./ProviderProfile-DYbguQN_.js"),__vite__mapDeps([23,1,24,2])),meta:{requiresAuth:!0}},{path:"/provider/:id",name:"public-provider-profile",component:()=>lt(()=>import("./PublicProviderProfile-BHiqkhng.js"),__vite__mapDeps([25,1,24,2])),meta:{requiresAuth:!1}},{path:"/wallet",name:"wallet",component:()=>lt(()=>import("./Wallet-DybWOuyo.js"),__vite__mapDeps([26,1,13,17,2])),meta:{requiresAuth:!0}},{path:"/receipts",name:"receipts",component:()=>lt(()=>import("./Receipts-CW_beFWY.js"),__vite__mapDeps([27,1,2])),meta:{requiresAuth:!0}},{path:"/contracts",name:"contracts",component:()=>lt(()=>import("./Contracts-C9FXYjVI.js"),__vite__mapDeps([28,1,2])),meta:{requiresAuth:!0}},{path:"/contracts/:id",name:"contract-detail",component:()=>lt(()=>import("./ContractDetail-3sPzuyl0.js"),__vite__mapDeps([29,1,2,30])),meta:{requiresAuth:!0}},{path:"/settings",name:"settings",component:()=>lt(()=>import("./Settings-8KZYFhik.js"),__vite__mapDeps([31,1,2])),meta:{requiresAuth:!0}},{path:"/notifications",name:"notifications",component:()=>lt(()=>import("./Notifications-CGyU-V-y.js"),__vite__mapDeps([32,1,17,2,14])),meta:{requiresAuth:!0}},{path:"/admin/login",name:"admin-login",component:()=>lt(()=>import("./AdminLogin-CBgVoUz7.js"),__vite__mapDeps([33,1,2])),meta:{requiresAuth:!1,adminOnly:!0}},{path:"/admin/dashboard",name:"admin-dashboard",component:()=>lt(()=>import("./AdminDashboard-BLsCfMdB.js"),__vite__mapDeps([34,1,2,35,36,37])),meta:{requiresAdminAuth:!0}},{path:"/admin/users",name:"admin-users",component:()=>lt(()=>import("./AdminUsers-DouXHV7J.js"),__vite__mapDeps([38,1,2,35,36,39])),meta:{requiresAdminAuth:!0}},{path:"/admin/projects",name:"admin-projects",component:()=>lt(()=>import("./AdminProjects-R-5K6K0o.js"),__vite__mapDeps([40,1])),meta:{requiresAdminAuth:!0}},{path:"/admin/payments",name:"admin-payments",component:()=>lt(()=>import("./AdminPayments-CXQ3bIJk.js"),__vite__mapDeps([41,1])),meta:{requiresAdminAuth:!0}},{path:"/admin/disputes",name:"admin-disputes",component:()=>lt(()=>import("./AdminDisputes-CR6xT8KN.js"),__vite__mapDeps([42,1,2])),meta:{requiresAdminAuth:!0}},{path:"/admin/advertisements",name:"admin-advertisements",component:()=>lt(()=>import("./AdminAdvertisements-CER_G1lX.js"),__vite__mapDeps([43,1,2,44])),meta:{requiresAdminAuth:!0}},{path:"/admin/settings",name:"admin-settings",component:()=>lt(()=>import("./AdminSettings-Bg4yjcvK.js"),__vite__mapDeps([45,1,2])),meta:{requiresAdminAuth:!0}},{path:"/:pathMatch(.*)*",redirect:"/"}],dt=A({history:j(),routes:it,scrollBehavior:(e,t,r)=>r||{top:0}});dt.beforeEach(async(e,t,r)=>{const o="undefined"!=typeof window,a=O();B();const s=o?localStorage.getItem("kadesh_token"):null,n=o?localStorage.getItem("adminToken"):null,l=e.meta.requiresAuth,i=e.meta.requiresAdminAuth,d=e.meta.guestOnly;if(i&&!n)return r({name:"admin-login"});if(l){if(!s)return r({name:"login",query:{redirect:e.fullPath}});if(!a.user){if(!(await a.verifyToken()))return r({name:"login",query:{redirect:e.fullPath}})}}return d&&(a.isAuthenticated||s)?r({name:"dashboard"}):r()});const ct=E(st);ct.use(C()),ct.use(dt),ct.mount("#app");export{N as _,I as a,z as b,B as c,O as u};
