import{_ as e,u as t,c as s,a}from"./index-CJdhE9r3.js";import{_ as o}from"./StatusBadge-DFy4JmzA.js";import{f as r}from"./utils-CeLII1lI.js";import{l}from"./index-Ctu0mvSg.js";import{r as i,c as n,o as d,a as c,e as m,t as u,h as v,m as h,i as p,j as x,g,f,F as b,l as y,b as w,p as k}from"./vue-_iW_wwAQ.js";const j={class:"min-h-screen bg-page py-8"},_={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},C={class:"mb-8"},M={class:"text-3xl font-bold text-heading mb-2"},B={class:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-8"},V={key:0,class:"flex justify-center items-center py-12"},z={key:1},A={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},H={class:"bg-surface rounded-lg shadow-sm p-6"},F={class:"flex items-center justify-between"},P={class:"text-sm font-medium text-body"},D={class:"text-3xl font-bold text-heading mt-2"},N={class:"mt-4"},R={class:"text-sm text-gray-500"},L={class:"bg-surface rounded-lg shadow-sm p-6"},E={class:"flex items-center justify-between"},I={class:"text-sm font-medium text-body"},T={class:"text-3xl font-bold text-heading mt-2"},G={class:"mt-4"},O={class:"text-sm text-gray-500"},S={class:"bg-surface rounded-lg shadow-sm p-6"},q={class:"flex items-center justify-between"},U={class:"text-sm font-medium text-body"},$={class:"text-3xl font-bold text-heading mt-2"},J={class:"mt-4"},K={class:"text-sm text-gray-500"},Q={class:"bg-surface rounded-lg shadow-sm p-6"},W={class:"flex items-center justify-between"},X={class:"text-sm font-medium text-body"},Y={class:"text-3xl font-bold text-heading mt-2"},Z={class:"mt-4"},ee={class:"text-sm text-gray-500"},te={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},se={class:"bg-surface rounded-lg shadow-sm"},ae={class:"px-6 py-4 border-b border-gray-200"},oe={class:"flex items-center justify-between"},re={class:"text-lg font-semibold text-heading"},le={class:"p-6"},ie={key:0,class:"space-y-4"},ne={class:"flex-1 min-w-0"},de={class:"text-xs text-gray-500 mt-1"},ce={key:1,class:"text-center py-8"},me={class:"bg-surface rounded-lg shadow-sm"},ue={class:"px-6 py-4 border-b border-gray-200"},ve={class:"flex items-center justify-between"},he={class:"p-6"},pe={key:0,class:"space-y-4"},xe={class:"flex-1 min-w-0"},ge={class:"text-sm text-heading"},fe={class:"text-xs text-gray-500 mt-1"},be={key:1,class:"text-center py-8"},ye={class:"mt-8 bg-surface rounded-lg shadow-sm p-6"},we={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ke=e({__name:"Dashboard",setup(e){const ke=t(),je=s(),_e=i(!1),Ce=i({}),Me=i([]),Be=i([]),Ve=n(()=>{var e,t;return(null==(t=null==(e=ke.user)?void 0:e.name)?void 0:t.split(" ")[0])||"UsuÃ¡rio"}),ze=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),Ae=e=>e?r(new Date(e),"dd 'de' MMM",{locale:l}):"";return d(()=>{(async()=>{var e,t,s;_e.value=!0;try{const o=await a.get("/api/dashboard/stats");(null==(e=o.data)?void 0:e.stats)?Ce.value=o.data.stats:o.data&&(Ce.value=o.data);const r=await a.get("/api/projects/my-projects",{params:{limit:5,sort:"recent"}});(null==(t=r.data)?void 0:t.projects)&&(Me.value=r.data.projects);const l=await a.get("/api/notifications",{params:{limit:5,unread:!1}});(null==(s=l.data)?void 0:s.notifications)&&(Be.value=l.data.notifications)}catch(o){console.error("Error loading dashboard data:",o),Ce.value={total_projects:0,active_projects:0,total_bids:0,pending_bids:0,total_amount:0,monthly_amount:0,rating:0,success_rate:0}}finally{_e.value=!1}})()}),(e,t)=>{const s=g("router-link");return w(),c("div",j,[m("div",_,[m("div",C,[m("h1",M," OlÃ¡, "+u(Ve.value)+"! ðŸ‘‹ ",1),t[0]||(t[0]=m("p",{class:"text-body"}," Bem-vindo ao seu painel de controle ",-1))]),t[22]||(t[22]=m("div",{class:"mb-6 px-4 py-3 rounded-xl border border-theme bg-surface text-heading flex items-center gap-3"},[m("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),m("p",{class:"text-sm font-medium"},"Os grÃ¡ficos do dashboard aparecem automaticamente assim que houver dados cadastrados nos seus projetos e propostas.")],-1)),m("div",B,[v(s,{to:"/lobby",class:"flex items-center justify-center p-4 bg-gradient-to-br from-amber-200 via-yellow-100 to-amber-200 text-amber-900 rounded-xl shadow-md hover:shadow-xl transition-all duration-500 transform hover:scale-105"},{default:x(()=>[...t[1]||(t[1]=[m("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),m("span",{class:"text-sm font-semibold"},"ðŸŽ¯ Lobby",-1)])]),_:1}),f(je).isContractor?(w(),h(s,{key:0,to:"/projects/create",class:"flex items-center justify-center p-4 bg-gradient-to-br from-amber-300 via-yellow-200 to-amber-200 text-amber-900 rounded-xl shadow-md hover:shadow-xl transition-all duration-700 transform hover:scale-105 animate-fade-in"},{default:x(()=>[...t[2]||(t[2]=[m("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),m("span",{class:"text-sm font-semibold"},"Novo Projeto",-1)])]),_:1})):p("",!0),f(je).isProvider?(w(),h(s,{key:1,to:"/my-bids",class:"flex items-center justify-center p-4 bg-gradient-to-br from-amber-300 via-yellow-200 to-amber-200 text-amber-900 rounded-xl shadow-md hover:shadow-xl transition-all duration-700 transform hover:scale-105 animate-fade-in"},{default:x(()=>[...t[3]||(t[3]=[m("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),m("span",{class:"text-sm font-semibold"},"Minhas Propostas",-1)])]),_:1})):p("",!0),v(s,{to:"/wallet",class:"flex items-center justify-center p-4 bg-gradient-to-br from-amber-200 via-yellow-200 to-orange-200 text-amber-900 rounded-xl shadow-md hover:shadow-xl transition-all duration-500 transform hover:scale-105"},{default:x(()=>[...t[4]||(t[4]=[m("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1),m("span",{class:"text-sm font-semibold"},"Carteira",-1)])]),_:1}),v(s,{to:"/receipts",class:"flex items-center justify-center p-4 bg-gradient-to-br from-amber-100 via-yellow-100 to-amber-100 text-amber-900 rounded-xl shadow-md hover:shadow-xl transition-all duration-500 transform hover:scale-105"},{default:x(()=>[...t[5]||(t[5]=[m("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m("span",{class:"text-sm font-semibold"},"Comprovantes",-1)])]),_:1}),v(s,{to:"/contracts",class:"flex items-center justify-center p-4 bg-gradient-to-br from-amber-100 via-yellow-100 to-amber-100 text-amber-900 rounded-xl shadow-md hover:shadow-xl transition-all duration-500 transform hover:scale-105"},{default:x(()=>[...t[6]||(t[6]=[m("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m("span",{class:"text-sm font-semibold"},"Contratos",-1)])]),_:1})]),_e.value?(w(),c("div",V,[...t[7]||(t[7]=[m("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)])])):(w(),c("div",z,[m("div",A,[m("div",H,[m("div",F,[m("div",null,[m("p",P,u(f(je).isContractor?"Projetos Criados":"Projetos Ganhos"),1),m("p",D,u(Ce.value.total_projects||0),1)]),t[8]||(t[8]=m("div",{class:"p-3 bg-[#D4AF37]/10 rounded-lg"},[m("svg",{class:"w-8 h-8 text-[#D4AF37]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1))]),m("div",N,[m("span",R,u(Ce.value.active_projects||0)+" ativos ",1)])]),m("div",L,[m("div",E,[m("div",null,[m("p",I,u(e.isClient?"Propostas Recebidas":"Propostas Enviadas"),1),m("p",T,u(Ce.value.total_bids||0),1)]),t[9]||(t[9]=m("div",{class:"p-3 bg-[#D4AF37]/10 rounded-lg"},[m("svg",{class:"w-8 h-8 text-[#D4AF37]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})])],-1))]),m("div",G,[m("span",O,u(Ce.value.pending_bids||0)+" pendentes ",1)])]),m("div",S,[m("div",q,[m("div",null,[m("p",U,u(e.isClient?"Total Investido":"Total Ganho"),1),m("p",$,u(ze(Ce.value.total_amount||0)),1)]),t[10]||(t[10]=m("div",{class:"p-3 bg-[#D4AF37]/10 rounded-lg"},[m("svg",{class:"w-8 h-8 text-[#D4AF37]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),m("div",J,[m("span",K," Este mÃªs: "+u(ze(Ce.value.monthly_amount||0)),1)])]),m("div",Q,[m("div",W,[m("div",null,[m("p",X,u(e.isClient?"Taxa de Sucesso":"AvaliaÃ§Ã£o"),1),m("p",Y,u(e.isClient?(Ce.value.success_rate||0)+"%":(Ce.value.rating||0).toFixed(1)),1)]),t[11]||(t[11]=m("div",{class:"p-3 bg-[#D4AF37]/10 rounded-lg"},[m("svg",{class:"w-8 h-8 text-[#D4AF37]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})])],-1))]),m("div",Z,[m("span",ee,u(e.isClient?Ce.value.completed_projects||0:Ce.value.total_reviews||0)+" "+u(e.isClient?"concluÃ­dos":"avaliaÃ§Ãµes"),1)])])]),m("div",te,[m("div",se,[m("div",ae,[m("div",oe,[m("h2",re,u(e.isClient?"Meus Projetos Recentes":"Projetos em Andamento"),1),v(s,{to:e.isClient?"/my-projects":"/projects",class:"text-sm text-primary-600 hover:text-primary-700 font-medium"},{default:x(()=>[...t[12]||(t[12]=[k(" Ver todos ",-1)])]),_:1},8,["to"])])]),m("div",le,[Me.value.length>0?(w(),c("div",ie,[(w(!0),c(b,null,y(Me.value,e=>(w(),c("div",{key:e.id,class:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors"},[m("div",ne,[v(s,{to:`/projects/${e.id}`,class:"text-sm font-medium text-heading hover:text-primary-600"},{default:x(()=>[k(u(e.title),1)]),_:2},1032,["to"]),m("p",de,u(ze(e.budget))+" â€¢ "+u(Ae(e.created_at)),1)]),v(o,{status:e.status},null,8,["status"])]))),128))])):(w(),c("div",ce,[...t[13]||(t[13]=[m("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),m("p",{class:"mt-2 text-sm text-gray-500"},"Nenhum projeto ainda",-1)])]))])]),m("div",me,[m("div",ue,[m("div",ve,[t[15]||(t[15]=m("h2",{class:"text-lg font-semibold text-heading"}," NotificaÃ§Ãµes Recentes ",-1)),v(s,{to:"/notifications",class:"text-sm text-primary-600 hover:text-primary-700 font-medium"},{default:x(()=>[...t[14]||(t[14]=[k(" Ver todas ",-1)])]),_:1})])]),m("div",he,[Be.value.length>0?(w(),c("div",pe,[(w(!0),c(b,null,y(Be.value,e=>(w(),c("div",{key:e.id,class:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors"},[t[16]||(t[16]=m("div",{class:"flex-shrink-0"},[m("div",{class:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center"},[m("svg",{class:"w-4 h-4 text-primary-600",fill:"currentColor",viewBox:"0 0 20 20"},[m("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"})])])],-1)),m("div",xe,[m("p",ge,u(e.message),1),m("p",fe,u(Ae(e.created_at)),1)])]))),128))])):(w(),c("div",be,[...t[17]||(t[17]=[m("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),m("p",{class:"mt-2 text-sm text-gray-500"},"Nenhuma notificaÃ§Ã£o",-1)])]))])])]),m("div",ye,[t[21]||(t[21]=m("h2",{class:"text-lg font-semibold text-heading mb-4"},"AÃ§Ãµes RÃ¡pidas",-1)),m("div",we,[e.isClient?(w(),h(s,{key:0,to:"/create-project",class:"flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors"},{default:x(()=>[...t[18]||(t[18]=[m("svg",{class:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),m("span",{class:"ml-3 text-sm font-medium text-body"},"Criar Novo Projeto",-1)])]),_:1})):p("",!0),v(s,{to:"/projects",class:"flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors"},{default:x(()=>[...t[19]||(t[19]=[m("svg",{class:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),m("span",{class:"ml-3 text-sm font-medium text-body"},"Explorar Projetos",-1)])]),_:1}),v(s,{to:"/wallet",class:"flex items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors"},{default:x(()=>[...t[20]||(t[20]=[m("svg",{class:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1),m("span",{class:"ml-3 text-sm font-medium text-body"},"Ver Carteira",-1)])]),_:1})])])]))])])}}},[["__scopeId","data-v-4ad54396"]]);export{ke as default};
