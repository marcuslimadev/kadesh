import{c as e,r as a,a as l,e as o,i as t,F as s,l as r,k as i,B as n,C as d,t as u,M as c,Q as p,J as m,u as b,b as v,n as f}from"./vue-_iW_wwAQ.js";import{u as y,a as g}from"./index-D2aUnrON.js";import"./utils-CeLII1lI.js";const x={class:"min-h-screen bg-page py-8"},h={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8"},k={class:"bg-surface rounded-lg shadow-sm"},w={class:"border-b border-gray-200"},P={class:"flex"},C=["onClick"],U={key:0,class:"p-6"},V=["value"],S={class:"pt-4"},z=["disabled"],E={key:1,class:"p-6"},N={class:"space-y-6"},M={class:"border-b border-gray-200 pb-6"},R={class:"space-y-3"},T={class:"flex items-center"},W={class:"flex items-center"},B={class:"flex items-center"},_={class:"border-b border-gray-200 pb-6"},j={class:"space-y-3"},A={class:"flex items-center"},D={class:"flex items-center"},L={class:"bg-red-50 border border-red-200 rounded-lg p-4"},F={key:2,class:"p-6"},I={class:"space-y-6"},Y={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},G={class:"bg-surface rounded-lg p-6 max-w-sm"},H={class:"flex gap-3"},J={__name:"Settings",setup(J){var O,Q,Z,q,K;const X=b(),$=y(),ee=e(()=>$.user),ae=a("profile"),le=a(!1),oe=a(!1),te=[{id:"profile",label:"Perfil"},{id:"privacy",label:"Privacidade"},{id:"preferences",label:"Preferências"}],se=a({name:(null==(O=ee.value)?void 0:O.name)||"",phone:(null==(Q=ee.value)?void 0:Q.phone)||"",bio:(null==(Z=ee.value)?void 0:Z.bio)||"",location:(null==(q=ee.value)?void 0:q.location)||"",website:(null==(K=ee.value)?void 0:K.website)||""}),re=a({emailNotifications:!0,emailMarketing:!1,emailWeekly:!0,profilePublic:"public"}),ie=a({language:"pt-BR",timezone:"America/Sao_Paulo"}),ne=async()=>{le.value=!0;try{await $.updateProfile(se.value)}catch(e){console.error(e)}finally{le.value=!1}},de=async()=>{try{await g.put("/api/users/preferences",{emailNotifications:re.value.emailNotifications,emailMarketing:re.value.emailMarketing,emailWeekly:re.value.emailWeekly,profilePublic:re.value.profilePublic})}catch(e){}},ue=async()=>{try{await g.put("/api/users/profile",{language:ie.value.language,timezone:ie.value.timezone})}catch(e){}},ce=async()=>{try{await g.delete("/api/users/profile"),$.logout(),X.push("/")}catch(e){}finally{oe.value=!1}};return(e,a)=>{var b;return v(),l("div",x,[o("div",h,[a[36]||(a[36]=o("div",{class:"mb-8"},[o("h1",{class:"text-3xl font-bold text-heading"},"Configurações"),o("p",{class:"text-body mt-2"},"Gerencie suas informações e preferências")],-1)),o("div",k,[o("div",w,[o("div",P,[(v(),l(s,null,r(te,e=>o("button",{key:e.id,onClick:a=>ae.value=e.id,class:f(["px-4 py-3 font-medium text-sm border-b-2 transition-colors",ae.value===e.id?"border-primary-600 text-primary-600":"border-transparent text-body hover:text-heading"])},u(e.label),11,C)),64))])]),"profile"===ae.value?(v(),l("div",U,[a[21]||(a[21]=o("h2",{class:"text-lg font-semibold text-heading mb-6"},"Informações Pessoais",-1)),o("form",{onSubmit:i(ne,["prevent"]),class:"space-y-6"},[o("div",null,[a[14]||(a[14]=o("label",{class:"block text-sm font-medium text-body mb-1"}," Nome Completo ",-1)),n(o("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>se.value.name=e),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent",placeholder:"Seu nome completo"},null,512),[[d,se.value.name]])]),o("div",null,[a[15]||(a[15]=o("label",{class:"block text-sm font-medium text-body mb-1"}," Email ",-1)),o("input",{type:"email",value:null==(b=ee.value)?void 0:b.email,disabled:"",class:"w-full px-4 py-2 border border-gray-300 bg-gray-100 rounded-lg text-body"},null,8,V),a[16]||(a[16]=o("p",{class:"text-sm text-gray-500 mt-1"},"O email não pode ser alterado",-1))]),o("div",null,[a[17]||(a[17]=o("label",{class:"block text-sm font-medium text-body mb-1"}," Telefone ",-1)),n(o("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>se.value.phone=e),type:"tel",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent",placeholder:"(11) 99999-9999"},null,512),[[d,se.value.phone]])]),o("div",null,[a[18]||(a[18]=o("label",{class:"block text-sm font-medium text-body mb-1"}," Bio / Descrição ",-1)),n(o("textarea",{"onUpdate:modelValue":a[2]||(a[2]=e=>se.value.bio=e),rows:"4",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent",placeholder:"Conte um pouco sobre você..."},null,512),[[d,se.value.bio]])]),o("div",null,[a[19]||(a[19]=o("label",{class:"block text-sm font-medium text-body mb-1"}," Localização ",-1)),n(o("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>se.value.location=e),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent",placeholder:"Cidade, Estado"},null,512),[[d,se.value.location]])]),o("div",null,[a[20]||(a[20]=o("label",{class:"block text-sm font-medium text-body mb-1"}," Website / Portfolio ",-1)),n(o("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>se.value.website=e),type:"url",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent",placeholder:"https://seu-portfolio.com"},null,512),[[d,se.value.website]])]),o("div",S,[o("button",{type:"submit",disabled:le.value,class:"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white font-medium py-2 rounded-lg transition-colors"},u(le.value?"Salvando...":"Salvar Alterações"),9,z)])],32)])):t("",!0),"privacy"===ae.value?(v(),l("div",E,[a[30]||(a[30]=o("h2",{class:"text-lg font-semibold text-heading mb-6"},"Privacidade e Segurança",-1)),o("div",N,[o("div",M,[a[25]||(a[25]=o("h3",{class:"font-medium text-heading mb-4"},"Preferências de Email",-1)),o("div",R,[o("label",T,[n(o("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>re.value.emailNotifications=e),type:"checkbox",class:"w-4 h-4 text-primary-600 rounded"},null,512),[[c,re.value.emailNotifications]]),a[22]||(a[22]=o("span",{class:"ml-3 text-sm text-body"},"Receber notificações por email",-1))]),o("label",W,[n(o("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>re.value.emailMarketing=e),type:"checkbox",class:"w-4 h-4 text-primary-600 rounded"},null,512),[[c,re.value.emailMarketing]]),a[23]||(a[23]=o("span",{class:"ml-3 text-sm text-body"},"Receber promoções e novidades",-1))]),o("label",B,[n(o("input",{"onUpdate:modelValue":a[7]||(a[7]=e=>re.value.emailWeekly=e),type:"checkbox",class:"w-4 h-4 text-primary-600 rounded"},null,512),[[c,re.value.emailWeekly]]),a[24]||(a[24]=o("span",{class:"ml-3 text-sm text-body"},"Resumo semanal de atividades",-1))])])]),o("div",_,[a[28]||(a[28]=o("h3",{class:"font-medium text-heading mb-4"},"Visibilidade do Perfil",-1)),o("div",j,[o("label",A,[n(o("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>re.value.profilePublic=e),type:"radio",value:"public",class:"w-4 h-4 text-primary-600"},null,512),[[p,re.value.profilePublic]]),a[26]||(a[26]=o("span",{class:"ml-3 text-sm text-body"},"Perfil público (visível para todos)",-1))]),o("label",D,[n(o("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>re.value.profilePublic=e),type:"radio",value:"private",class:"w-4 h-4 text-primary-600"},null,512),[[p,re.value.profilePublic]]),a[27]||(a[27]=o("span",{class:"ml-3 text-sm text-body"},"Perfil privado (apenas para conexões)",-1))])])]),o("div",L,[a[29]||(a[29]=o("h3",{class:"font-medium text-red-900 mb-3"},"Zona de Risco",-1)),o("button",{onClick:a[10]||(a[10]=e=>oe.value=!0),class:"text-red-600 hover:text-red-700 font-medium text-sm"}," Deletar minha conta permanentemente ")]),o("div",{class:"pt-4"},[o("button",{onClick:de,class:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 rounded-lg transition-colors"}," Salvar Preferências ")])])])):t("",!0),"preferences"===ae.value?(v(),l("div",F,[a[35]||(a[35]=o("h2",{class:"text-lg font-semibold text-heading mb-6"},"Preferências",-1)),o("div",I,[o("div",null,[a[32]||(a[32]=o("label",{class:"block text-sm font-medium text-body mb-2"},"Idioma",-1)),n(o("select",{"onUpdate:modelValue":a[11]||(a[11]=e=>ie.value.language=e),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent"},[...a[31]||(a[31]=[o("option",{value:"pt-BR"},"Português (Brasil)",-1),o("option",{value:"en"},"English",-1),o("option",{value:"es"},"Español",-1)])],512),[[m,ie.value.language]])]),o("div",null,[a[34]||(a[34]=o("label",{class:"block text-sm font-medium text-body mb-2"},"Fuso Horário",-1)),n(o("select",{"onUpdate:modelValue":a[12]||(a[12]=e=>ie.value.timezone=e),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-600 focus:border-transparent"},[...a[33]||(a[33]=[o("option",{value:"America/Sao_Paulo"},"(UTC-3) São Paulo",-1),o("option",{value:"America/New_York"},"(UTC-5) Nova York",-1),o("option",{value:"Europe/London"},"(UTC+0) Londres",-1),o("option",{value:"Europe/Paris"},"(UTC+1) Paris",-1)])],512),[[m,ie.value.timezone]])]),o("div",{class:"pt-4"},[o("button",{onClick:ue,class:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 rounded-lg transition-colors"}," Salvar Preferências ")])])])):t("",!0)])]),oe.value?(v(),l("div",Y,[o("div",G,[a[37]||(a[37]=o("h3",{class:"text-lg font-semibold text-heading mb-2"},"Deletar Conta",-1)),a[38]||(a[38]=o("p",{class:"text-body mb-4"}," Tem certeza? Esta ação é irreversível e todos os seus dados serão permanentemente deletados. ",-1)),o("div",H,[o("button",{onClick:a[13]||(a[13]=e=>oe.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Cancelar "),o("button",{onClick:ce,class:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors"}," Deletar Permanentemente ")])])])):t("",!0)])}}};export{J as default};
