import{K as e,r as a,c as r,a as s,e as t,h as o,j as l,g as n,p as d,q as i,k as m,i as c,B as u,C as p,n as f,t as x,L as b,M as v,u as w,b as h}from"./vue-_iW_wwAQ.js";import{u as g}from"./index-B0Cgd4q8.js";import"./utils-CeLII1lI.js";const y={class:"min-h-screen bg-page flex flex-col justify-center py-12 sm:px-6 lg:px-8 transition-all duration-1000"},k={class:"sm:mx-auto sm:w-full sm:max-w-md"},C={class:"mt-2 text-center text-sm text-body"},M={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},P={class:"bg-surface/80 backdrop-blur-sm py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100"},j={class:"mt-1"},q={key:0,class:"mt-1 text-sm text-red-600"},T={class:"mt-1"},V={key:0,class:"mt-1 text-sm text-red-600"},z={class:"mt-1 relative"},B=["type"],L={key:0,class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},A={key:1,class:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},E={key:0,class:"mt-1 text-sm text-red-600"},S={key:0,class:"mt-2"},U={class:"flex items-center gap-2"},N={class:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden"},_={class:"mt-1"},F=["type"],J={key:0,class:"mt-1 text-sm text-red-600"},K={class:"flex items-start"},$={class:"flex items-center h-5"},D={class:"ml-3 text-sm"},H={key:0,class:"mt-1 text-red-600"},O={key:0,class:"rounded-md bg-red-50 p-4"},R={class:"flex"},Z={class:"ml-3"},G={class:"text-sm text-red-700"},I=["disabled"],Q={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},W={__name:"Register",setup(W){const X=w(),Y=g(),ee=e({name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}),ae=e({name:"",email:"",password:"",confirmPassword:"",acceptTerms:"",general:""}),re=a(!1),se=a(!1),te=r(()=>{const e=ee.password;if(e.length<6)return"weak";if(e.length<10)return"medium";const a=[/[a-z]/.test(e),/[A-Z]/.test(e),/\d/.test(e),/[!@#$%^&*(),.?":{}|<>]/.test(e)].filter(Boolean).length;return a>=3?"strong":a>=2?"medium":"weak"}),oe=async()=>{if((()=>{let e=!0;return Object.keys(ae).forEach(e=>ae[e]=""),ee.name.trim()?ee.name.trim().length<3&&(ae.name="Nome deve ter pelo menos 3 caracteres",e=!1):(ae.name="Nome Ã© obrigatÃ³rio",e=!1),ee.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ee.email)||(ae.email="Email invÃ¡lido",e=!1):(ae.email="Email Ã© obrigatÃ³rio",e=!1),ee.password?ee.password.length<6&&(ae.password="Senha deve ter pelo menos 6 caracteres",e=!1):(ae.password="Senha Ã© obrigatÃ³ria",e=!1),ee.confirmPassword?ee.password!==ee.confirmPassword&&(ae.confirmPassword="As senhas nÃ£o coincidem",e=!1):(ae.confirmPassword="ConfirmaÃ§Ã£o de senha Ã© obrigatÃ³ria",e=!1),ee.acceptTerms||(ae.acceptTerms="VocÃª deve aceitar os termos de uso",e=!1),e})()){se.value=!0;try{const e=await Y.register({name:ee.name.trim(),email:ee.email.trim().toLowerCase(),password:ee.password});e.success?X.push("/lobby"):ae.general=e.error}catch(e){ae.general="Erro ao criar conta. Tente novamente."}finally{se.value=!1}}};return(e,a)=>{const r=n("router-link");return h(),s("div",y,[t("div",k,[o(r,{to:"/",class:"flex justify-center group"},{default:l(()=>[...a[6]||(a[6]=[t("h1",{class:"text-4xl font-bold bg-gradient-to-r from-amber-500 to-amber-600 bg-clip-text text-transparent transition-all duration-500 group-hover:from-amber-600 group-hover:to-amber-700"},"Kaddesh",-1)])]),_:1}),a[9]||(a[9]=t("h2",{class:"mt-6 text-center text-3xl font-extrabold text-heading"}," Crie sua conta ",-1)),t("p",C,[a[8]||(a[8]=d(" JÃ¡ tem uma conta? ",-1)),o(r,{to:"/login",class:"font-medium text-amber-600 hover:text-amber-700 transition-colors duration-300"},{default:l(()=>[...a[7]||(a[7]=[d(" FaÃ§a login ",-1)])]),_:1})])]),t("div",M,[t("div",P,[a[19]||(a[19]=i('<div class="mb-6 bg-gradient-to-r from-amber-50 via-yellow-50 to-amber-50 border border-amber-200 rounded-xl p-4 shadow-sm"><div class="flex items-start"><div class="flex-shrink-0"><svg class="h-5 w-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div class="ml-3"><p class="text-sm text-amber-900"><strong>âœ¨ Novidade!</strong> VocÃª pode alternar entre Contratante e Prestador a qualquer momento usando o switch &quot;Ver como&quot; apÃ³s o login. ðŸ”„ </p></div></div></div>',1)),t("form",{onSubmit:m(oe,["prevent"]),class:"space-y-6"},[t("div",null,[a[10]||(a[10]=t("label",{for:"name",class:"block text-sm font-medium text-body"}," Nome completo ",-1)),t("div",j,[u(t("input",{id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>ee.name=e),type:"text",autocomplete:"name",required:"",class:f(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",{"border-red-500":ae.name}]),placeholder:"JoÃ£o Silva"},null,2),[[p,ee.name]]),ae.name?(h(),s("p",q,x(ae.name),1)):c("",!0)])]),t("div",null,[a[11]||(a[11]=t("label",{for:"email",class:"block text-sm font-medium text-body"}," Email ",-1)),t("div",T,[u(t("input",{id:"email","onUpdate:modelValue":a[1]||(a[1]=e=>ee.email=e),type:"email",autocomplete:"email",required:"",class:f(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",{"border-red-500":ae.email}]),placeholder:"seu@email.com"},null,2),[[p,ee.email]]),ae.email?(h(),s("p",V,x(ae.email),1)):c("",!0)])]),t("div",null,[a[14]||(a[14]=t("label",{for:"password",class:"block text-sm font-medium text-body"}," Senha ",-1)),t("div",z,[u(t("input",{id:"password","onUpdate:modelValue":a[2]||(a[2]=e=>ee.password=e),type:re.value?"text":"password",autocomplete:"new-password",required:"",class:f(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm pr-10",{"border-red-500":ae.password}]),placeholder:"MÃ­nimo 6 caracteres"},null,10,B),[[b,ee.password]]),t("button",{type:"button",onClick:a[3]||(a[3]=e=>re.value=!re.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[re.value?(h(),s("svg",A,[...a[13]||(a[13]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(h(),s("svg",L,[...a[12]||(a[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))]),ae.password?(h(),s("p",E,x(ae.password),1)):c("",!0)]),ee.password?(h(),s("div",S,[t("div",U,[t("div",N,[t("div",{class:f(["h-full transition-all","weak"===te.value?"w-1/3 bg-red-500":"","medium"===te.value?"w-2/3 bg-yellow-500":"","strong"===te.value?"w-full bg-green-500":""])},null,2)]),t("span",{class:f(["text-xs font-medium","weak"===te.value?"text-red-600":"","medium"===te.value?"text-yellow-600":"","strong"===te.value?"text-green-600":""])},x("weak"===te.value?"Fraca":"medium"===te.value?"MÃ©dia":"Forte"),3)])])):c("",!0)]),t("div",null,[a[15]||(a[15]=t("label",{for:"confirmPassword",class:"block text-sm font-medium text-body"}," Confirmar senha ",-1)),t("div",_,[u(t("input",{id:"confirmPassword","onUpdate:modelValue":a[4]||(a[4]=e=>ee.confirmPassword=e),type:re.value?"text":"password",autocomplete:"new-password",required:"",class:f(["appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",{"border-red-500":ae.confirmPassword}]),placeholder:"Digite a senha novamente"},null,10,F),[[b,ee.confirmPassword]]),ae.confirmPassword?(h(),s("p",J,x(ae.confirmPassword),1)):c("",!0)])]),t("div",K,[t("div",$,[u(t("input",{id:"terms","onUpdate:modelValue":a[5]||(a[5]=e=>ee.acceptTerms=e),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[v,ee.acceptTerms]])]),t("div",D,[a[16]||(a[16]=t("label",{for:"terms",class:"font-medium text-body"},[d(" Aceito os "),t("a",{href:"#",class:"text-primary-600 hover:text-primary-500"},"termos de uso"),d(" e a "),t("a",{href:"#",class:"text-primary-600 hover:text-primary-500"},"polÃ­tica de privacidade")],-1)),ae.acceptTerms?(h(),s("p",H,x(ae.acceptTerms),1)):c("",!0)])]),ae.general?(h(),s("div",O,[t("div",R,[a[17]||(a[17]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),t("div",Z,[t("p",G,x(ae.general),1)])])])):c("",!0),t("div",null,[t("button",{type:"submit",disabled:se.value,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-lg text-sm font-semibold text-slate-900 bg-gradient-to-r from-amber-300 via-yellow-300 to-amber-300 hover:from-amber-400 hover:via-yellow-400 hover:to-amber-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-500 transform hover:scale-105"},[se.value?(h(),s("svg",Q,[...a[18]||(a[18]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):c("",!0),d(" "+x(se.value?"Criando conta...":"Criar conta"),1)],8,I)])],32)])])])}}};export{W as default};
