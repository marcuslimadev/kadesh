# VERSAO ALTERNATIVA - .htaccess para hosts restritivos

# Configuracao basica
DirectoryIndex index.html
RewriteEngine On

# IMPORTANTE: Ajustar RewriteBase conforme necessidade do host
# Se nao funcionar com /kadesh/, tentar apenas /
RewriteBase /kadesh/

# Logs (desativar em producao)
# RewriteLog /tmp/rewrite.log
# RewriteLogLevel 3

# API Routes - versao simplificada
# Captura qualquer requisicao que comece com api/
RewriteRule ^api/(.*)$ api/index.php [QSA,L,E=API_CALL:1]

# Assets estaticos - deixar passar
RewriteRule ^assets/ - [L]

# Arquivos que existem - deixar passar
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^.*$ - [L]

# Diret√≥rios que existem - deixar passar  
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^.*$ - [L]

# Tudo mais vai para index.html (SPA)
RewriteRule ^.*$ index.html [QSA,L]

# Headers de seguranca (se suportado)
<IfModule mod_headers.c>
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
</IfModule>